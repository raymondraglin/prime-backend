 Discrete Mathematics

An Open Introduction, 4th Edition
  Discrete

Mathematics

   An Open Introduction

             Oscar Levin

                           4th Edition
Oscar Levin
Mathematical Science
University of Northern Colorado
Greeley, Co 80639
oscar.levin@unco.edu
http://math.oscarlevin.com/

© 2013-2025 by Oscar Levin
This work is licensed under Creative Commons Attribution-NonCommercial-
ShareAlike 4.0 International. To view a copy of this license, visit
https://creativecommons.org/licenses/by-nc-sa/4.0/.

4th Edition

A current version can always be found for free at
http://discrete.openmathbooks.org/
Cover image: Tiling with Fibonacci and Pascal.
For Madeline and Teagan
              Acknowledgements

This book would not exist if not for "Discrete and Combinatorial Mathematics," by
Richard Grassl and Tabitha Mingus. It is the book I learned discrete math out of,
and that I taught with the semester before I began writing this text. I wanted to
maintain the inquiry-based feel of their book but update, expand, and rearrange
some of the material. Some of the best exposition and exercises here were graciously
donated from this source.

    Thanks go to the graduate students who have co-taught the Discrete Mathematics
course with me over the years, including Evan Czysz, Alees Lee, and Sarah Sparks,
who helped develop new activities and exercises that have been incorporated into
this text. Michelle Morgan provided copy-editing support, and Jennifer Zakotnik-
Gutierrez helped code many of the interactive exercises in the online version of the
book. Thanks also to Katie Morrison, Nate Eldredge, and Richard Grassl (again) for
their suggestions after using parts of this text in their classes.

    The online version of the book is written in PreTeXt and hosted on Runestone
Academy thanks to the tremendous development work of Rob Beezer, Brad Miller,
David Farmer, and Alex Jordan along with the rest of the participants of the
pretext-support group (groups.google.com/g/pretext-support).

    Finally, a thank you to the numerous students who have pointed out typos and
made suggestions over the years, and a thanks in advance to those who will do so in
the future.

                                                     vii
                       Preface

This text aims to introduce select topics in discrete mathematics at a level appropriate
for first- or second-year undergraduate math and computer science majors, especially
those who intend to teach middle and high school mathematics. The book began
as a set of notes for the Discrete Mathematics course at the University of Northern
Colorado. This course serves both as a survey of the topics in discrete math and as
the "bridge" course for math majors, as UNC does not offer a separate "introduction
to proofs" course. As this course has evolved to support our computer science
major, so has the text. The current version of the book is intended to support
inquiry-based teaching for understanding that is so crucial for future teachers,
while also providing the necessary mathematical foundation and application-based
motivation for computer science students. While teaching the course in Spring
2024 using an early version of this edition, I was pleasantly surprised by how many
students reported that they, for the first time, saw how useful math could be in the
"real world." I hope that this experience can be replicated in other classes using this
text.

     This book is intended to be used in a class taught using problem-oriented or
inquiry-based methods. Each section begins with a preview of the content that
includes an open-ended Investigate! motivating question, as well as a structured
preview activity. The preview activities are carefully scaffolded to provide an
entry-point to the section's topic and to prime students to engage deeply in the
material. Depending on the pace of the class, I have found success assigning only
the section preview before class, using the preview activity as in-class group work,
or assigning the entire section to be read before class (each section concludes with a
small set of reading questions that can be assigned to encourage students to actually
read). For those readers using this book for self-study, the organization of the
sections will hopefully mimic the style of a rich inquiry-based classroom.

     The topics covered in this text were chosen to match the needs of the students I
teach at UNC. The main areas of study are logic and proof, graph theory, combina-
torics, and sequences. Induction is covered at the end of the chapter on sequences.
Discrete structures are introduced "as needed", but a more thorough treatment of
sets and functions is included as a separate chapter, which can be studied indepen-
dent of the other content. The final chapter covers two additional topics: generating
functions and number theory.

     While I believe this selection and order of topics is optimal, you should feel free
to skip around to what interests you. There are occasionally examples and exercises
that rely on earlier material, but I have tried to keep these to a minimum, and they
usually can either be skipped or understood without too much additional study. If
you are an instructor, you can also create a custom version by editing the PreTeXt
source to fit your needs.

                                                      ix
x

Improvements to the 4th Edition. Many of the sections have been rewritten to
improve the clarity of the exposition.

    · Nearly 300 new exercises, bringing the total to more than 750. These are better
       divided into preview activity questions, reading questions, practice problems,
       and additional exercises. Most of the new exercises are interactive for the
       online version.

    · New sections on probability, relations, and discrete structures and their proofs.
       Some other sections have been split up to make it more likely that a single
       class period can be devoted to a single topic.

    · Improved presentation for the counting chapter with a focus on considering
       sets of outcomes more than following rules.

    · The Investigate! activities of the 3rd Edition have been split into two types:
       Investigate! questions and Preview Activities. The former are open-ended
       questions designed to engage you with the topic soon to be discussed. The
       latter are structured preview activities that you should be able to completely
       answer before reading the section.

    The previous editions (3rd Edition, released in 2019, 2nd Edition, released in
2016, and the Fall 2015 Edition) will still be available for instructors who wish to use
those versions due to familiarity.

    I plan to continue improving the book. Some of this will happen in real-time
by updating the online versions to include new content (numbering will remain
consistent). Thus I encourage you to send along any suggestions and comments as
you have them.

                                                          Oscar Levin, Ph.D.
                                                          University of Northern Colorado, 2024
            How to Use This Book

In addition to expository text, this book has a few features designed to encourage
you to interact with the mathematics.

Investigate! questions. Sprinkled throughout the sections (usually at the very
beginning of a topic) you will find open-ended questions designed to engage you
with the topic soon to be discussed. You really should spend some time thinking
about, or even working through, these problems before reading the section. However,
don't worry if you cannot find a satisfying solution right away. The goal is to pique
your interest, so you will read what is next looking for answers.

Preview Activities. Most sections include a structured preview activity. These
contain leading questions that you should be able to completely answer before
reading the section. The idea is that the questions prime you to engage meaningfully
with the new content ahead. If you are using the online version, most of these
questions will provide you with immediate feedback so you can be confident moving
forward.

Examples. I have tried to include the "correct" number of examples. For those
examples that include problems, full solutions are included. Before reading the
solution, try to at least have an understanding of what the problem is asking. Unlike
some textbooks, the examples are not meant to be all-inclusive for problems you
will see in the exercises. They should not be used as a blueprint for solving other
problems. Instead, use the examples to deepen your understanding of the concepts
and techniques discussed in each section. Then use this understanding to solve the
exercises at the end of each section.

Exercises. You get good at math through practice. Each section concludes with
practice problems meant to solidify concepts and basic skills presented in that
section; the online version provides immediate feedback on these problems. There
are then additional exercises that are more challenging and open-ended. These
might be assigned as written homework or used in class as group work. Some of the
additional exercises have hints or solutions in the back of the book, but use these
as little as possible. Struggle is good for you. At the end of each chapter, a larger
collection of similar exercises is included (as a sort of "chapter review") which might
bridge the material of different sections in that chapter.

Interactive Online Version. For those of you reading this in print or as a PDF, I
encourage you to also check out the interactive online version. Many of the preview
activities and exercises are interactive and can give you immediate feedback. Some of

                                                     xi
xii

these have randomized components, allowing you to practice many similar versions
of the same problems until you master the topic.

    Hints and solutions to examples are also hidden away behind an extra click to
encourage you to think about the problem before reading the solution. There is a
good search feature available as well, and the index has expandable links to see the
content without jumping to the page immediately. There is also a python scratch
pad (the pencil icon) so you can try out some code if you feel so inclined.

    Additional interactivity is planned. These "bonus" features will be added on a
rolling basis, so keep an eye out!

    You can view the interactive version for free at discrete.openmathbooks.org or by
scanning the QR code below.
                      Contents

Acknowledgements                        vii

Preface                                 ix

How to Use This Book                    xi

0 Introduction and Preliminaries        1

0.1 What is Discrete Mathematics? . . . . . . . . . . . . . . . 1
    Reading Questions . . . . . . . . . . . . . . . . . . . . . 4

0.2 Discrete Structures . . . . . . . . . . . . . . . . . . . . 5
    0.2.1 Introduction . . . . . . . . . . . . . . . . . . . . . 5
    0.2.2 Sets . . . . . . . . . . . . . . . . . . . . . . . . 5
    0.2.3 Functions . . . . . . . . . . . . . . . . . . . . . . 6
    0.2.4 Sequences. . . . . . . . . . . . . . . . . . . . . . 8
    0.2.5 Relations . . . . . . . . . . . . . . . . . . . . . . 9
    0.2.6 Graphs . . . . . . . . . . . . . . . . . . . . . . . 10
    0.2.7 Even More Structures . . . . . . . . . . . . . . . . . 10
    0.2.8 Reading Questions . . . . . . . . . . . . . . . . . . 11

1 Logic and Proofs                      13

1.1 Mathematical Statements . . . . . . . . . . . . . . . . . . 13
    1.1.1 Section Preview . . . . . . . . . . . . . . . . . . . 14
    1.1.2 Atomic and Molecular Statements . . . . . . . . . . . . 17
    1.1.3 Quantifiers and Predicates . . . . . . . . . . . . . . . 22
    1.1.4 Reading Questions . . . . . . . . . . . . . . . . . . 25
    1.1.5 Practice Problems. . . . . . . . . . . . . . . . . . . 26
    1.1.6 Additional Exercises . . . . . . . . . . . . . . . . . 28

1.2 Implications . . . . . . . . . . . . . . . . . . . . . . . 30
    1.2.1 Section Preview . . . . . . . . . . . . . . . . . . . 30
    1.2.2 Understanding the Truth Table . . . . . . . . . . . . . 32
    1.2.3 Related Statements . . . . . . . . . . . . . . . . . . 35
    1.2.4 Reading Questions . . . . . . . . . . . . . . . . . . 40
    1.2.5 Practice Problems. . . . . . . . . . . . . . . . . . . 40
    1.2.6 Additional Exercises . . . . . . . . . . . . . . . . . 42

1.3 Rules of Logic . . . . . . . . . . . . . . . . . . . . . . 44
    1.3.1 Section Preview . . . . . . . . . . . . . . . . . . . 44
    1.3.2 Truth Tables . . . . . . . . . . . . . . . . . . . . . 46
    1.3.3 Logical Equivalence . . . . . . . . . . . . . . . . . . 48

                                  xiii
xiv Contents

    1.3.4 Equivalence for Quantified Statements . . . . . . . . . . 51
    1.3.5 Deductions . . . . . . . . . . . . . . . . . . . . . 55
    1.3.6 Reading Questions . . . . . . . . . . . . . . . . . . 57
    1.3.7 Practice Problems. . . . . . . . . . . . . . . . . . . 57
    1.3.8 Additional Exercises . . . . . . . . . . . . . . . . . 58
1.4 Proofs . . . . . . . . . . . . . . . . . . . . . . . . . 62
    1.4.1 Section Preview . . . . . . . . . . . . . . . . . . . 62
    1.4.2 Direct Proof . . . . . . . . . . . . . . . . . . . . . 64
    1.4.3 Proof by Contrapositive . . . . . . . . . . . . . . . . 69
    1.4.4 Proof by Contradiction . . . . . . . . . . . . . . . . 71
    1.4.5 Summary of Proof Styles . . . . . . . . . . . . . . . . 74
    1.4.6 Reading Questions . . . . . . . . . . . . . . . . . . 76
    1.4.7 Practice Problems. . . . . . . . . . . . . . . . . . . 77
    1.4.8 Additional Exercises . . . . . . . . . . . . . . . . . 79
1.5 Proofs about Discrete Structures . . . . . . . . . . . . . . . 83
    1.5.1 Section Preview . . . . . . . . . . . . . . . . . . . 83
    1.5.2 Proofs about Sets . . . . . . . . . . . . . . . . . . . 85
    1.5.3 Proofs about Functions . . . . . . . . . . . . . . . . 87
    1.5.4 Proofs about Relations . . . . . . . . . . . . . . . . . 89
    1.5.5 Proofs about Graphs . . . . . . . . . . . . . . . . . 90
    1.5.6 Reading Questions . . . . . . . . . . . . . . . . . . 92
    1.5.7 Practice Problems. . . . . . . . . . . . . . . . . . . 92
    1.5.8 Additional Exercises . . . . . . . . . . . . . . . . . 94
1.6 Chapter Summary . . . . . . . . . . . . . . . . . . . . 96
    Chapter Review . . . . . . . . . . . . . . . . . . . . . . 97

2 Graph Theory  99

2.1 Problems and Definitions. . . . . . . . . . . . . . . . . . 99
    2.1.1 Section Preview . . . . . . . . . . . . . . . . . . . 100
    2.1.2 What is a Graph? . . . . . . . . . . . . . . . . . . . 102
    2.1.3 Reading Questions . . . . . . . . . . . . . . . . . . 111
    2.1.4 Practice Problems. . . . . . . . . . . . . . . . . . . 111
    2.1.5 Additional Exercises . . . . . . . . . . . . . . . . . 112

2.2 Trees . . . . . . . . . . . . . . . . . . . . . . . . . . 117
    2.2.1 Section Preview . . . . . . . . . . . . . . . . . . . 117
    2.2.2 Properties of Trees . . . . . . . . . . . . . . . . . . 119
    2.2.3 Spanning Trees. . . . . . . . . . . . . . . . . . . . 122
    2.2.4 Rooted Trees . . . . . . . . . . . . . . . . . . . . 123
    2.2.5 Reading Questions . . . . . . . . . . . . . . . . . . 125
    2.2.6 Practice Problems. . . . . . . . . . . . . . . . . . . 125
    2.2.7 Additional Exercises . . . . . . . . . . . . . . . . . 126
            Contents xv

2.3 Planar Graphs . . . . . . . . . . . . . . . . . . . . . . 129
    2.3.1 Section Preview . . . . . . . . . . . . . . . . . . . 129
    2.3.2 Euler's Formula for Planar Graphs . . . . . . . . . . . . 131
    2.3.3 Non-planar Graphs . . . . . . . . . . . . . . . . . . 132
    2.3.4 Polyhedra . . . . . . . . . . . . . . . . . . . . . . 134
    2.3.5 Reading Questions . . . . . . . . . . . . . . . . . . 137
    2.3.6 Practice Problems. . . . . . . . . . . . . . . . . . . 137
    2.3.7 Additional Exercises . . . . . . . . . . . . . . . . . 138

2.4 Euler Trails and Circuits . . . . . . . . . . . . . . . . . . 141
    2.4.1 Section Preview . . . . . . . . . . . . . . . . . . . 141
    2.4.2 Conditions for Euler Trails . . . . . . . . . . . . . . . 143
    2.4.3 Hamilton Paths . . . . . . . . . . . . . . . . . . . 144
    2.4.4 Reading Questions . . . . . . . . . . . . . . . . . . 145
    2.4.5 Practice Problems. . . . . . . . . . . . . . . . . . . 146
    2.4.6 Additional Exercises . . . . . . . . . . . . . . . . . 147

2.5 Coloring . . . . . . . . . . . . . . . . . . . . . . . . 150
    2.5.1 Section Preview . . . . . . . . . . . . . . . . . . . 150
    2.5.2 Coloring Vertices . . . . . . . . . . . . . . . . . . . 152
    2.5.3 Coloring Edges . . . . . . . . . . . . . . . . . . . 157
    2.5.4 Reading Questions . . . . . . . . . . . . . . . . . . 158
    2.5.5 Practice Problems. . . . . . . . . . . . . . . . . . . 158
    2.5.6 Additional Exercises . . . . . . . . . . . . . . . . . 160

2.6 Relations and Graphs . . . . . . . . . . . . . . . . . . . 163
    2.6.1 Section Preview . . . . . . . . . . . . . . . . . . . 163
    2.6.2 Relations Generally . . . . . . . . . . . . . . . . . . 165
    2.6.3 Properties of Relations. . . . . . . . . . . . . . . . . 170
    2.6.4 Equivalence Relations . . . . . . . . . . . . . . . . . 172
    2.6.5 Equivalence Classes and Partitions . . . . . . . . . . . . 174
    2.6.6 Reading Questions . . . . . . . . . . . . . . . . . . 177
    2.6.7 Practice Problems. . . . . . . . . . . . . . . . . . . 177
    2.6.8 Additional Exercises . . . . . . . . . . . . . . . . . 179

2.7 Matching in Bipartite Graphs . . . . . . . . . . . . . . . . 181
    Exercises . . . . . . . . . . . . . . . . . . . . . . . . . 183

2.8 Chapter Summary . . . . . . . . . . . . . . . . . . . . 186
    Chapter Review . . . . . . . . . . . . . . . . . . . . . . 186

3 Counting  191

3.1 Pascal's Arithmetical Triangle . . . . . . . . . . . . . . . . 191
    3.1.1 Section Preview . . . . . . . . . . . . . . . . . . . 192
    3.1.2 Lattice Paths. . . . . . . . . . . . . . . . . . . . . 195
    3.1.3 Bit Strings. . . . . . . . . . . . . . . . . . . . . . 197
    3.1.4 Subsets and Pizzas . . . . . . . . . . . . . . . . . . 199
    3.1.5 Algebra? . . . . . . . . . . . . . . . . . . . . . . 201
    3.1.6 Reading Questions . . . . . . . . . . . . . . . . . . 202
xvi Contents

        3.1.7 Practice Problems. . . . . . . . . . . . . . . . . . . 203
        3.1.8 Additional Exercises . . . . . . . . . . . . . . . . . 204
    3.2 Combining Outcomes . . . . . . . . . . . . . . . . . . . 205
        3.2.1 Section Preview . . . . . . . . . . . . . . . . . . . 205
        3.2.2 What are Outcomes? . . . . . . . . . . . . . . . . . . 206
        3.2.3 The Sum and Product Principles . . . . . . . . . . . . . 207
        3.2.4 Combining Principles . . . . . . . . . . . . . . . . . 213
        3.2.5 Reading Questions . . . . . . . . . . . . . . . . . . 215
        3.2.6 Practice Problems. . . . . . . . . . . . . . . . . . . 215
        3.2.7 Additional Exercises . . . . . . . . . . . . . . . . . 217
    3.3 Non-Disjoint Outcomes . . . . . . . . . . . . . . . . . . 218
        3.3.1 Section Preview . . . . . . . . . . . . . . . . . . . 218
        3.3.2 Counting with Venn Diagrams . . . . . . . . . . . . . 219
        3.3.3 The Principle of Inclusion/Exclusion . . . . . . . . . . . 222
        3.3.4 Overlaps and the Product Principle . . . . . . . . . . . 225
        3.3.5 Reading Questions . . . . . . . . . . . . . . . . . . 226
        3.3.6 Practice Problems. . . . . . . . . . . . . . . . . . . 227
        3.3.7 Additional Exercises . . . . . . . . . . . . . . . . . 228
    3.4 Combinations and Permutations . . . . . . . . . . . . . . . 230
        3.4.1 Section Preview . . . . . . . . . . . . . . . . . . . 230
        3.4.2 Counting Sequences . . . . . . . . . . . . . . . . . 232
        3.4.3 Counting Sets . . . . . . . . . . . . . . . . . . . . 234
        3.4.4 The Quotient Principle. . . . . . . . . . . . . . . . . 239
        3.4.5 Reading Questions . . . . . . . . . . . . . . . . . . 241
        3.4.6 Practice Problems. . . . . . . . . . . . . . . . . . . 241
        3.4.7 Additional Exercises . . . . . . . . . . . . . . . . . 243
    3.5 Counting Multisets . . . . . . . . . . . . . . . . . . . . 244
        3.5.1 Section Preview . . . . . . . . . . . . . . . . . . . 244
        3.5.2 Have Some Cookies . . . . . . . . . . . . . . . . . . 246
        3.5.3 Representing Multisets with Bit Strings . . . . . . . . . . 249
        3.5.4 Reading Questions . . . . . . . . . . . . . . . . . . 252
        3.5.5 Practice Problems. . . . . . . . . . . . . . . . . . . 253
        3.5.6 Additional Exercises . . . . . . . . . . . . . . . . . 254
    3.6 Combinatorial Proofs . . . . . . . . . . . . . . . . . . . 256
        3.6.1 Section Preview . . . . . . . . . . . . . . . . . . . 256
        3.6.2 Patterns in Pascal's Triangle. . . . . . . . . . . . . . . 258
        3.6.3 More Proofs . . . . . . . . . . . . . . . . . . . . . 262
        3.6.4 Reading Questions . . . . . . . . . . . . . . . . . . 267
        3.6.5 Practice Problems. . . . . . . . . . . . . . . . . . . 267
        3.6.6 Additional Exercises . . . . . . . . . . . . . . . . . 268
    3.7 Applications to Probability . . . . . . . . . . . . . . . . . 273
        3.7.1 Section Preview . . . . . . . . . . . . . . . . . . . 273
        3.7.2 Computing Probabilities . . . . . . . . . . . . . . . . 275
        3.7.3 Probability Rules . . . . . . . . . . . . . . . . . . . 278
        3.7.4 Conditional Probability . . . . . . . . . . . . . . . . 283
             Contents xvii

    3.7.5 Reading Questions . . . . . . . . . . . . . . . . . . 285
    3.7.6 Practice Problems. . . . . . . . . . . . . . . . . . . 286
    3.7.7 Additional Exercises . . . . . . . . . . . . . . . . . 288
3.8 Advanced Counting Using PIE . . . . . . . . . . . . . . . 290
    3.8.1 Section Preview . . . . . . . . . . . . . . . . . . . 290
    3.8.2 PIE for Multisets . . . . . . . . . . . . . . . . . . . 291
    3.8.3 Counting Derangements . . . . . . . . . . . . . . . . 295
    3.8.4 Counting Functions . . . . . . . . . . . . . . . . . . 296
    3.8.5 Practice Problems. . . . . . . . . . . . . . . . . . . 302
    3.8.6 Additional Exercises . . . . . . . . . . . . . . . . . 304
3.9 Chapter Summary . . . . . . . . . . . . . . . . . . . . 305
    Chapter Review . . . . . . . . . . . . . . . . . . . . . . 306

4 Sequences  311

4.1 Describing Sequences . . . . . . . . . . . . . . . . . . . 311
    4.1.1 Section Preview . . . . . . . . . . . . . . . . . . . 311
    4.1.2 Sequences and Formulas . . . . . . . . . . . . . . . . 313
    4.1.3 Partial Sums and Differences . . . . . . . . . . . . . . 319
    4.1.4 Sequences in python . . . . . . . . . . . . . . . . . 322
    4.1.5 Reading Questions . . . . . . . . . . . . . . . . . . 323
    4.1.6 Practice Problems. . . . . . . . . . . . . . . . . . . 323
    4.1.7 Additional Exercises . . . . . . . . . . . . . . . . . 324

4.2 Rate of Growth . . . . . . . . . . . . . . . . . . . . . . 327
    4.2.1 Section Preview . . . . . . . . . . . . . . . . . . . 327
    4.2.2 Arithmetic Sequences . . . . . . . . . . . . . . . . . 328
    4.2.3 Geometric Sequences . . . . . . . . . . . . . . . . . 330
    4.2.4 Beyond Arithmetic and Geometric Sequences . . . . . . . 332
    4.2.5 Reading Questions . . . . . . . . . . . . . . . . . . 334
    4.2.6 Practice Problems. . . . . . . . . . . . . . . . . . . 334
    4.2.7 Additional Exercises . . . . . . . . . . . . . . . . . 335

4.3 Polynomial Sequences . . . . . . . . . . . . . . . . . . . 338
    4.3.1 Section Preview . . . . . . . . . . . . . . . . . . . 338
    4.3.2 Summing Arithmetic Sequences: Reverse and Add . . . . . 340
    4.3.3 Higher Degree Polynomials. . . . . . . . . . . . . . . 342
    4.3.4 Solving Systems of Equations with Technology . . . . . . . 347
    4.3.5 Reading Questions . . . . . . . . . . . . . . . . . . 348
    4.3.6 Practice Problems. . . . . . . . . . . . . . . . . . . 349
    4.3.7 Additional Exercises . . . . . . . . . . . . . . . . . 350

4.4 Exponential Sequences. . . . . . . . . . . . . . . . . . . 353
    4.4.1 Section Preview . . . . . . . . . . . . . . . . . . . 353
    4.4.2 Summing Geometric Sequences: Multiply, Shift, and Subtract . 354
    4.4.3 The Characteristic Root Technique . . . . . . . . . . . . 356
    4.4.4 Reading Questions . . . . . . . . . . . . . . . . . . 359
    4.4.5 Practice Problems. . . . . . . . . . . . . . . . . . . 360
xviii Contents

    4.4.6 Additional Exercises . . . . . . . . . . . . . . . . . 360
4.5 Proof by Induction . . . . . . . . . . . . . . . . . . . . 363

    4.5.1 Section Preview . . . . . . . . . . . . . . . . . . . 363
    4.5.2 Recursive Reasoning . . . . . . . . . . . . . . . . . 364
    4.5.3 Formalizing Proofs . . . . . . . . . . . . . . . . . . 364
    4.5.4 Examples . . . . . . . . . . . . . . . . . . . . . . 366
    4.5.5 Reading Questions . . . . . . . . . . . . . . . . . . 369
    4.5.6 Practice Problems. . . . . . . . . . . . . . . . . . . 370
    4.5.7 Additional Exercises . . . . . . . . . . . . . . . . . 373
4.6 Strong Induction . . . . . . . . . . . . . . . . . . . . . 377
    4.6.1 Section Preview . . . . . . . . . . . . . . . . . . . 377
    4.6.2 Divide and Conquer . . . . . . . . . . . . . . . . . 379
    4.6.3 Reading Questions . . . . . . . . . . . . . . . . . . 381
    4.6.4 Practice Problems. . . . . . . . . . . . . . . . . . . 381
    4.6.5 Additional Exercises . . . . . . . . . . . . . . . . . 382
4.7 Chapter Summary . . . . . . . . . . . . . . . . . . . . 385
    Chapter Review . . . . . . . . . . . . . . . . . . . . . . 386

5 Discrete Structures Revisited  389

5.1 Sets . . . . . . . . . . . . . . . . . . . . . . . . . . 389
    5.1.1 Notation . . . . . . . . . . . . . . . . . . . . . . 389
    5.1.2 Relationships between Sets . . . . . . . . . . . . . . . 393
    5.1.3 Operations on Sets . . . . . . . . . . . . . . . . . . 395
    5.1.4 Venn Diagrams . . . . . . . . . . . . . . . . . . . 398
    5.1.5 Exercises . . . . . . . . . . . . . . . . . . . . . . 399

5.2 Functions . . . . . . . . . . . . . . . . . . . . . . . . 403
    5.2.1 Describing Functions . . . . . . . . . . . . . . . . . 404
    5.2.2 Surjections, Injections, and Bections . . . . . . . . . . . 409
    5.2.3 Image and Inverse Image. . . . . . . . . . . . . . . . 411
    5.2.4 Exercises . . . . . . . . . . . . . . . . . . . . . . 414

6 Additional Topics              421

6.1 Generating Functions . . . . . . . . . . . . . . . . . . . 421
    6.1.1 Building Generating Functions . . . . . . . . . . . . . 422
    6.1.2 Differencing . . . . . . . . . . . . . . . . . . . . . 424
    6.1.3 Multiplication and Partial Sums . . . . . . . . . . . . . 427
    6.1.4 Solving Recurrence Relations with Generating Functions . . . 428
    6.1.5 Exercises . . . . . . . . . . . . . . . . . . . . . . 429

6.2 Introduction to Number Theory . . . . . . . . . . . . . . . 432
    6.2.1 Divisibility . . . . . . . . . . . . . . . . . . . . . 432
    6.2.2 Remainder Classes . . . . . . . . . . . . . . . . . . 435
    6.2.3 Properties of Congruence . . . . . . . . . . . . . . . 437
    6.2.4 Solving Congruences . . . . . . . . . . . . . . . . . 441
    6.2.5 Solving Linear Diophantine Equations . . . . . . . . . . 443
                      Contents xix

        6.2.6 Exercises . . . . . . . . . . . . . . . . . . . . . . 447

Appendices

A Selected Hints      449

B Selected Solutions  461

C List of Symbols     519

Back Matter

Index                 521
                                           Chapter 0

      Introduction and Preliminaries

Welcome to Discrete Mathematics. If this is your first time encountering the subject,
you will probably find discrete mathematics quite different from other math subjects.
You might not even know what discrete math is! Hopefully this short introduction
will shed some light on what the subject is about and what you can expect as you
move forward in your studies.

               0.1 What is Discrete Mathematics?

        dis·crete / dis'krët.
       Adjective: Individually separate and distinct.
       Synonyms: separate - detached - distinct - abstract.

Defining discrete mathematics is hard because defining mathematics is hard. What is
mathematics? The study of numbers? In part yes, but you also study functions and
lines and triangles and parallelepipeds and vectors and . . . . Or perhaps you want
to say that mathematics is a collection of tools that allow you to solve problems.
What sort of problems? Well, those that involve numbers, functions, lines, triangles,
. . . . Whatever your conception of what mathematics is, try applying the concept of
"discrete" to it, as defined above. Some math fundamentally deals with stuff that is
individually separate and distinct.

     In an algebra or calculus class, you might have found a particular set of numbers
(perhaps they constitute the range of a function). You would represent this set as an
interval: [0, ) is the range of  () = 2 since the set of outputs of the function are
all real numbers 0 and greater. This set of numbers is NOT discrete. The numbers in
the set are not separated by much at all. In fact, take any two numbers in the set and
there are infinitely many more between them that are also in the set.

     Discrete math could still ask about the range of a function, but the set would
not be an interval. Consider the function that gives the number of children of
each person reading this. What is the range? I'm guessing it is something like
{0, 1, 2, 3, 4}. Maybe 5 or 6 is in there too.1 But certainly nobody reading this has
1.32419 children. This output set is discrete because the elements are separate. The
inputs to the function also form a discrete set because each input is an individual
person.

     There are many discrete mathematical objects besides sets of numbers; we will
introduce some of these in Section 0.2. Studying these discrete structures is the main

    1Even larger natural numbers for old ladies who live in shoes.

                                                      1
2 0. Introduction and Preliminaries

focus of discrete mathematics and this book. However, the reason we want to study
these structures is because they provide a way to model "real-world" problems.2

    To get a feel for the subject, let's consider the types of problems you solve in
discrete math. Here are a few simple examples:

       Investigate!

     Note: Throughout the book you will see Investigate! activities like this one. Answer
     the questions in these as best you can to give yourself a feel for what is coming next.

1. The most popular mathematician in the world is throwing a party for
   all of his friends. To kick things off, they decide that everyone should
   shake hands. Assuming all 10 people at the party each shake hands
   with every other person (but not themselves, obviously) exactly once,
   how many handshakes take place?

2. At the warm-up event for Oscar's All-Star Hot Dog Eating Contest, Al
   ate one hot dog. Bob then showed him up by eating three hot dogs.
   Not to be outdone, Carl ate five. This continued with each contestant
   eating two more hot dogs than the previous contestant. How many
   hot dogs did Zeno (the 26th and final contestant) eat? How many hot
   dogs were eaten in total?

3. After excavating for weeks, you finally arrive at the burial chamber.
   The room is empty except for two large chests. On each is carved a
   message (strangely in English):

    Exactly one of these                 For either chest, if the
chests contains a treasure,          chest's message is true, then
while the other is filled with       the chest contains treasure.
deadly immortal scorpions.

The problem is, you don't know whether the messages are true or
false. What do you do?

4. Back in the days of yore, five small towns decided they wanted to
   build roads directly connecting each pair of towns. While the towns
   had plenty of money to build roads as long and as winding as they
   wished, it was very important that the roads not intersect with each
   other (as stop signs had not yet been invented). Also, tunnels and
   bridges were not allowed, for moral reasons. Is it possible for each of
   these towns to build a road to each of the four other towns without
   creating any intersections?

    2Many of the problems discussed in this book are admittedly contrived and clearly fictional, but
hopefully you will see how these toy problems can be generalized to actually represent problems that
people would care about in reality.
                                                                                   0.1. What is Discrete Mathematics? 3

    As you consider the problems above, don't worry if it is not obvious to you
what the solutions are. We are more interested here in what sort of information we
need to be able to answer the questions. How can we represent the situation using
individually separate and distinct objects? Don't read on until you have thought
about at least this for each of the questions.

    Ready? Here are some things you might have thought about:

   1. The people at the party are individuals. We can consider the set of people. We
       can also consider sets of pairs of people, since it takes exactly two people to
       shake hands. So the question is really, how many pairs can you make using
       elements from a 10-element set?

       For example, if there were three people at the party, conveniently named 1, 2,
       and 3, then the pairs would be (1, 2), (1, 3), and (2, 3). Or should we include
       (2, 1), (3, 1), and (3, 2) as well?

   2. To count the number of hot dogs eaten, either by an individual or in total,
       we could use a sequence of integers (whole numbers). The th term in the
       sequence might represent the number of hot dogs eaten by the th contestant.
       We can consider a second sequence, also of integers, that gives the total number
       of hot dogs eaten by the first  contestants combined.

       The solution to the problem will then be the value of the 26th term in the
       sequence. To help us find this, we could consider the rate of growth of the
       sequences, as well as how these two sequences relate to each other.

   3. Logic questions also belong under the discrete math umbrella: Each statement
       can have a value of True or False (and there is nothing in-between). To answer
       questions like that of the chests of scorpions, we must understand the structure
       of the statements, and how the truth values of the parts of the statements
       interact to determine the truth value of the whole statement.

   4. The last question is about a discrete structure called a graph, not to be confused
       with a graph of a function or set of points. We can use a graph to represent
       which elements of a set (or towns) are related to each other (or connected by
       a road). In this case, the question becomes, can we draw a graph with five
       vertices (towns) and ten edges (roads) such that no two edges intersect?

    The four problems above illustrate the four main topics of this book: combina-
torics (the theory of ways things combine; in particular, how to count these ways),
sequences, symbolic logic, and graph theory. However, there are other topics
that are also considered part of discrete mathematics, including computer science,
abstract algebra, number theory, game theory, probability, and geometry (some of
these, particularly the last two, have both discrete and non-discrete variants).

    Ultimately the best way to learn what discrete math is about is to do it. Let's get
started! Before we can begin answering more complicated (and fun) problems, we
will consider a very brief overview of the types of discrete structures we will be
using.
4 0. Introduction and Preliminaries

                                    Reading Questions

Each section of the book will end with a small number of Reading Questions like
the ones below. These are designed to help you reflect on what you have read. In
particular, the final reading question asks you to ask a question of your own. Thinking
about what you don't yet know is a wonderful way to further your understanding of
what you do.

1. Right now, how would you describe what discrete mathematics is about, if
       you were telling your friends about the class you are in? Write one or two
       sentences.

2. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.
                       0.2 Discrete Structures

                                   0.2.1 Introduction

       Investigate!

     A double-six domino set consists of tiles containing pairs of numbers, each
     from 0 to 6. How many tiles are in a double-six domino set? How many
     dominoes are in a double-nine domino set? How many dominoes are in a
     double- domino set?

  Try it 0.2.1

    Spend a few minutes thinking about the questions above. Then write 2-3
    sentences describing your thoughts. You do not need to find a complete
    solution, but you should describe what you could try and what you think you
    might need to do to find a solution.

    We are taking a problem-solving approach to discrete mathematics: We will
consider a large variety of questions that have a discrete feel to them, and consider
how to answer those questions (and prove that our answers are correct). This is not
the only way to study discrete math. Another approach would be to study the tools
used to solve the problems. If we were art students, we could study paintbrushes
and easels and the composition of paint, which would be interesting for sure, but I
think it is more enjoyable to actually paint those happy little trees.

    That said, understanding your tools does help you use them, so in this section,
we will consider some basic tools used in discrete mathematics. We will come back
to these throughout our studies and understand them better as we need to.

    The tools in our subject are called discrete structures. They are the mathematical
objects that we use to represent parts of the problems we are solving. "Structure"
is a good word here, since these "things" have fairly rigid constraints that make
them what they are, just like an apartment building is going to have different
characteristics than an airplane hangar or a suspension bridge (these are types of
physical structures, not mathematical structures, just to be overly clear and destroy
the metaphor).

    The structures we will use most in discrete math are sets, functions, sequences,
relations, and graphs. We now briefly preview each of these. As we progress
through our studies, each will be explored in more detail.

                                          0.2.2 Sets

A set is an unordered collection of elements. This is fairly vague, but unless we
want to spend a whole book trying to understand sets more precisely, it will be
good enough for us. It is possible to define all of mathematics using just sets (even

                                                      5
6 0. Introduction and Preliminaries

numbers can be thought of as sets themselves), but this is also not what we will do.
Rather, we want to be able to talk about collections of numbers and other objects,
and we will collect them in something we call a set.

    We can describe sets by saying exactly what elements are members of the set. We
could specify this membership in words (e.g., Let  be the set of all natural numbers
less than 10), or by explicitly listing all the elements (e.g.,  = {3, 5, 7}), or using
something called set comprehension (also called set builder notation). An example
of this is  = {   :  < 10}. We would read that as " is the set of natural
numbers that satisfy the property that they are less than 10." More precisely, the
 symbol represents the natural numbers, which is itself a set:  = {0, 1, 2, 3, . . .}
(this shows another way to describe a set). The  symbol means "is an element of".
The : is read "such that" and tells us that what comes next is the condition that must
be true of the set's elements.

    By the way... In this book, we define the natural numbers to be the whole
    numbers starting with 0. Not every book includes 0 in this set. It largely
    depends on what area of mathematics you study.

    Since there are multiple ways to describe the same set, we should be careful
about what it means for sets to be the same or different. A set is determined by its
membership, so all four of the following describe exactly the same set:

   1. {1, 2, 3, 4}.

   2. {1, 2, 1 + 1, 1 + 2, 2 + 2}. (How many numbers belong to this set? It's not 5.)

   3. {2, 4, 1, 3}. (All that matters is what elements are in the collection, not what
       order they were written down in.)

   4. {   :  < 5 and   1}.

    There are lots of things you can do with sets, which we will consider in more
detail as we need to. We will see that it is often helpful to build new sets from
ones we already have (by taking the union or intersection of sets, for example), to
compare sets (asking if one set is a subset of another), and to find the number of
elements of a set (called its cardinality). We might also want to match up elements
of one set with another: To do this, we might use a function, which we will discuss
next. Awesomely, we can also use sets themselves to describe functions. Let's check
it out.

                                      0.2.3 Functions

One way to define a function is as a rule that assigns each input exactly one output.
The output is called the image of the input. Functions also come equipped with a
domain, the set of all inputs, and a codomain, the set of all allowable outputs. You
might also speak of the range of the function, which is the set of all actual outputs,
or put another way, the set of all images of elements from the domain.
                                                                                                  0.2. Discrete Structures 7

    We write  :    to describe a function with name  , domain  and codomain
. This does not tell us which function  is though. To define the function, we must
describe the rule. Often this is done with a formula (for example,  () = 2 says
that each element of the domain is mapped to its square), or in words (like how we
just described the squaring function). We could also define a function with a table
or a graph.

    The key thing that makes a rule a function is that there is exactly one output for
each input. That is, the rule must be a good rule. What output do we assign to the
input 7? There can only be one answer for any particular function.

    Since a function maps one set (the domain) to another set (the codomain), there
is an obvious connection between sets and functions. There is another connection
worth considering though: The graph of a function is often described as a set of
points. Here is an example.

  Example 0.2.2

    Consider the function  : {1, 2, 3}  {2, 4, 6} defined by  () = 2. If we
    wanted to plot a graph of this function, we would draw the points (1, 2), (2, 4),
    and (3, 6) (but we would not connect these points with lines, since we are
    studying discrete math; the domain only contains three elements, not the
    infinitely many between them).

         So associated with the function is the set of points {(1, 2), (2, 4), (3, 6)}. In
    fact, this set of points is associated exactly with this (and only this) function.
    So we can think of this set of points as the function itself.

    Of course, we are using a mathematical object here: an ordered pair. This is not
a set (since sets are unordered). How should we talk about ordered things? We will
take this question up in the next section.

    There is one more important consideration about how we define a function with
a rule. A closed formula is one in which each output is given by an explicit rule
based solely on its input. This is what most of us think of as a formula. For example,
 () = 3 + 1 is a closed formula, since to find  (5) (say) we take the input 5 and do
something to it: Multiply it by 3 and then add 1.

    What else could a formula possibly be? A recursive definition of a function tells
us how to compute the output for a given input based on other outputs of the function.
For example, we might insist that  () = 2 ·  ( - 1). If we also specify an initial
condition that  (0) = 3, then we can find  (1) = 2 · 3 = 6, and then  (2) = 2 · 6 = 12,
and so on. What is  (5) here? The only way to answer that is to find  (4), which
means we need to find  (3), which we could do, since we have computed  (2).

    Recursive definitions of functions might be less useful for finding a particular
output, but they are often easier to specify for a particular application. We will
explore this phenomenon more when we study sequences. Speaking of which...
8 0. Introduction and Preliminaries

                                     0.2.4 Sequences

Sometimes we are interested not just in a collection of numbers, but in what order

those numbers appear. In such cases, we cannot use sets, since they do not distinguish

between the order of their elements. Instead, we consider sequences.

    We will consider both finite and infinite sequences. A finite sequence may be
something as simple as (1, 2, 3); that is a sequence with 3 elements, in that particular
order. We might also call this an ordered triple, the same way that (7, 3) is an
ordered pair. In general, we could call this an -tuple if it has  elements (we assume

that tuples are ordered).
     The key difference between the sequence (1, 2, 3) and the set {1, 2, 3} is that we

"care" about the order. That is, the sequence (1, 2, 3) is different from the sequence
(2, 3, 1), while the set {1, 2, 3} is identical to {2, 3, 1}.

We will often use sequences as a counting tool. For example, a very simple

counting question is, "How many wheels do 100 cars have?" Instead of answering
just this one question, we could generalize and ask how many wheels  cars have,
and get a sequence of answers. This yields the infinite sequence (4, 8, 12, . . .). The

order these multiples of 4 appear in is important, since each number in the sequence

corresponds to a specific version of the question.

It is fine to think of a sequence of numbers as an ordered list. We can refer to the

terms simply as

                                     0, 1, 2, . . .

and might refer to the entire sequence as ()0 or ().
    If we want to be a little more precise and more abstract, we can think of a sequence

as a function. The domain is the natural numbers or some subset of consecutive
natural numbers (like {1, 2, 3, 4}). The codomain is some set. We think of the domain

as the positions in the sequence, and the image of those inputs as the terms in the

sequence.
    For example, we might consider the Fibonacci sequence ( )1, which starts

1, 1, 2, 3, 5, 8, . . .. What is the 4th term in the sequence? We might say 4 = 3 (this is
assuming the first 1 is the first term and not the 0th term). Note that there can only
be one 4th term. There can only be one -th term for any particular value of . So

for any input (the position of the term), there is only one output (the term). It would
be perfectly reasonable to write  (4) = 3, and that really does look like a function.

But we like to use subscripts.

    We can also describe the terms in a sequence using a table. We might write

something like the following:

                                      1 2 3 4 ...
                                      1 3 6 10 ...

This looks exactly like how you would represent a function, even though this table
describes the sequence of triangular numbers (we will see why they are called this
later).

    Since sequences are functions, we can use any of the techniques to describe
functions to describe sequences. In particular, we might give a closed formula for a
                                                                                                  0.2. Discrete Structures 9

sequence by explicitly giving the function for the -th term. For example,

                                              = ( + 1) .
                                                         2

Alternatively, we could define a sequence recursively by saying how to get from
one term to the next. This is especially useful for the Fibonacci sequence:

                                    = -1 + -2; 1 = 1, 2 = 1.

    Much of our effort in understanding sequences will go into taking a recursive
definition and finding a closed formula for the sequence. We will study this, and
everything else sequence related in Chapter 4.

                                      0.2.5 Relations

How are the numbers 2 and 6 related? Oh, I know: 2 < 6. Also, 6 is a multiple of 2.
The two numbers are also both even. And here is another fact: They are not equal.
All four of these are examples of relations: less than, multiple of, both even, not
equal. And there are many more (infinitely many) relations for pairs of numbers.

    The examples above are all binary relations in that they relate two elements.
You could also consider relations between more than two elements. For example,
we could consider the relation "Pythagorean triple" on three numbers that holds
precisely if they are the side lengths of a right triangle. So the relation is true of the
triple (3, 4, 5), but not of (4, 5, 6) (since 32 + 42 = 52, but 42 + 52  62).

    Notice that we can talk about a pair or triple satisfying a relation. We might say
that a pair belongs to the relation. The careful and formal way to define a relation is
as a set of ordered pairs (or triples, etc.). Consider the (infinite) set of all ordered
pairs (, ) such that  < . Every element of this set contains numbers for which
the relation "less than" is true, and every pair of numbers for which the relation is
true is a pair in the set. So we can say that this set of pairs is the relation.

    Relations can have some standard properties, and deciding whether a particular
relation has a given property can often help us understand the relation better. The
less-than relation is, for example, irreflexive because there are no elements that are
less than themselves. It is also antisymmetric since there are no distinct numbers 
and  such that  <  and  < . It is also transitive since if  <  and  <  then it
must follow that  < . These are just a few examples of relation properties though.

    Why would we care about these properties? It turns out that some groups of
properties happen together frequently, and for such collections of properties, we
can prove general results about the relations that satisfy them. So if we can prove
that a given relation is reflexive, symmetric, and transitive (whatever those mean),
then we know the relation is an equivalence relation, and therefore we know it
has a bunch of other properties. A large portion of discrete mathematics is about
studying particular types of relations. One of my favorites is a relation that gives us
a graph.
10 0. Introduction and Preliminaries

                                        0.2.6 Graphs

Consider the set  = {1, 2, 3, 4, 5, 6}. Which pairs of numbers from that set add
up to 7? We could have {1, 6} or {2, 5} or {3, 4}. We can picture the set and the
interesting (unordered) pairs (i.e., two-element subsets) as a picture called a graph:

                                                    61

                                      5  2

                                                    43
    On the other hand, we might want to consider pairs of numbers whose sum is
even. Then, we would get the following picture.

                                                    61

                                      5  2

                                                    43

    We call these discrete structures graphs. A graph is a type of relation, one that is
symmetric (if  is related to , then  is related to ) and irreflexive (no element is
related to itself).

    However, we mostly think of graphs as the drawings of dots and lines, or more
precisely as a set of vertices together with a set of edges, where each edge is a
two-element subset of the vertices. Notice that even here, we are using the structure
set to define the structure graph.

    Graphs show up in all sorts of real-world applications: In a class, some students
are friends with each other, so take the students to be the vertices and the edges to be
the friendships. In geography, some countries share a border, so take the countries
to be the vertices and connect a pair of vertices with an edge if the countries share a
border. Perhaps you are planning a trip and want to fly from Denver to Paris. Is
there a direct flight, or must you stop in Newark? That is, does the graph of flights
have an edge between Denver and Paris or only between Denver and Newark and
between Newark and Paris? When your Amazon driver delivers packages to 10
houses in your neighborhood, how does her app know in which order to deliver the
packages? Graph theory!

    The study of graphs is a subject in its own right, in which many mathematicians
hold doctorate degrees and write hundreds of papers each year. We will scratch the
surface of this fascinating subject in Chapter 2

                             0.2.7 Even More Structures

Our list of structures could go on and on, but we will stop here. We will spend just
a little time looking at multisets, which are just like sets except that they can have
                                                                                                0.2. Discrete Structures 11

repeated elements. Since this is not a geometry class, we will not consider finite
geometries, or designs (which are somewhere between graphs and geometries).
Discrete structures are useful in computer science, but we will stop short of studying
linked lists or red-black trees. Although abstract algebra is a fascinating subject,
we will not get to groups or rings or metroids or POSets or Boolean algebras or ....
These are examples of sets on which we define additional operations and study the
algebraic structure of how the sets and operations interact.

    The point is, discrete mathematics is awesome, and you can spend multiple
lifetimes studying it. So what are we waiting for? Let's dive in and solve some
problems.

                               0.2.8 Reading Questions

1. Think back to the domino problem at the beginning of this section. We asked
       how many dominoes are in a double-six domino set. Is this really a set, in our
       mathematical sense? What discrete structure would you use to represent each
       domino individually?

2. A double-zero domino set would contain only one domino (both sides showing
       0). A double-one set would contain this plus the dominoes (1, 0) and (1, 1). We
       can continue in this way, creating a sequence of domino sets. Find the next
       three terms of the sequence.
           1, 3, , , , ...

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.
                                          Chapter 1

                Logic and Proofs

Logic is the study of consequence. Given a few mathematical statements or facts, we
would like to be able to draw some conclusions. For example, if I told you that a
particular real-valued function was continuous on the interval [0, 1], and  (0) = -1
and  (1) = 5, can we conclude that there is some point between [0, 1] where the
graph of the function crosses the -axis? Yes, we can, thanks to the Intermediate
Value Theorem from calculus. Can we conclude that there is exactly one point?
No. Whenever we find an "answer" in math, we really have a (perhaps hidden)
argument.

    Mathematics is really about establishing general statements (like the Intermediate
Value Theorem). This is done via an argument called a proof. We start with some
given conditions, the premises of our argument, and from these, we find a consequence
of interest, our conclusion.

    The problem is, as you no doubt know from arguing with friends, not all
arguments are good arguments. A bad argument is one in which the conclusion does
not follow from the premises; i.e., the conclusion is not a consequence of the premises.
Logic is the study of what makes an argument good or bad. In other words, logic
aims to determine in which cases a conclusion is, or is not, a consequence of a set of
premises.

    We will start in Section 1.1 by considering statements, the building blocks of
arguments. Understanding what counts as a statement and what form statements
can take is the first step in understanding arguments. We will take a closer look at
how statements can be combined in Section 1.2. Then we will see what mathematical
tools we can develop to better analyze these statements and how they interact in
Section 1.3. Finally, we will put all of this together in Section 1.4 and Section 1.5 to
see how we can use these tools to construct arguments and prove statements.

                   1.1 Mathematical Statements

       Objectives

     After completing this section, you should be able to do the following.

         1. Identify the logical structure of statements to determine their truth
             value in terms of the truth values of their parts.

         2. Identify the use of quantifiers in a statement, and determine the truth
             value of the statement based on those quantifiers.

         3. Translate between statements in natural language and logical symbols.

                                                     13
14 1. Logic and Proofs

                                  1.1.1 Section Preview

       Investigate!

     While walking through a fictional forest, you encounter three trolls guarding
     a bridge. Each is either a knight, who always tells the truth, or a knave, who
     always lies. The trolls will not let you pass until you correctly identify each
     as either a knight or a knave. Each troll makes a single statement:

            Troll 1: If I am a knave, then there are exactly two knights here.
            Troll 2: Troll 1 is lying.
            Troll 3: Either we are all knaves, or at least one of us is a knight.

     Which troll is which?

  Try it 1.1.1

    Spend a few minutes thinking about the Investigate problem above. What
    could you conclude if you knew Troll 1 really was a knave (i.e., their statement
    was false)? Share your initial thoughts on this.

    In order to do mathematics, we must be able to talk and write about mathematics.
Perhaps your experience with mathematics so far has mostly involved finding
numerical answers to problems. As we embark towards more advanced and abstract
mathematics, writing will play a more prominent role in the mathematical process.

    In fact, the primary goal of mathematics, as an academic discipline in its own
right, is to establish general mathematical truths. How can we know whether these
facts, perhaps called theorems or propositions, are true? We construct valid arguments,
called proofs, which establish the truth of the statements. Here, an argument is not
the sort of thing you have with your Mom when you disagree about what to have
for dinner. Rather, we have a technical definition of the term.

     Definition 1.1.2 Argument.

    An argument is a sequence of statements, the last of which is called the
    conclusion and the rest of which are called premises.

         An argument is said to be valid provided the conclusion must be true
    whenever the premises are all true. An argument is invalid if it is not valid;
    that is, all the premises can be true, and the conclusion could still be false.

         An argument is sound provided it is valid and all the premises are true. A
    proof of a statement is a sound argument whose conclusion is the statement.
                                                                                         1.1. Mathematical Statements 15

    By the way... Our definitions of argument, valid argument, and sound
    argument are the same ones used in philosophy, the other primary academic
    discipline concerned with logic and reasoning.

    To determine whether we have a proof of a statement, we must decide both
whether every premise is true, and whether the argument is valid: whether the
conclusion follows from the premises. How can we do this?

  Example 1.1.3

    Consider the following two arguments:

                     If Edith eats her vegetables, then she can have a cookie.
                     Edith eats her vegetables.
               Edith gets a cookie.

                         Florence must eat her vegetables to get a cookie.
                         Florence eats her vegetables.
                    Florence gets a cookie.

    (The symbol "" means "therefore")
         Are these arguments valid?

    Solution. Do you agree that the first argument is valid but the second
    argument is not? We will soon develop a better understanding of the logic
    involved in this analysis, but if your intuition agrees with this assessment,
    then you are in good shape.

         Notice the two arguments look almost identical. Edith and Florence both
    eat their vegetables. In both cases, there is a connection between the eating of
    vegetables and cookies. Yet we claim that it is valid to conclude that Edith gets
    a cookie, but not that Florence does. The difference must be in the connection
    between eating vegetables and getting cookies. We need to be skilled at
    reading and comprehending these sentences. Do the two sentences mean the
    same thing?

         Unfortunately, in everyday language we are often sloppy, and you might
    be tempted to say they are equivalent. But notice that just because Florence
    must eat her vegetables, we have not claimed that doing so would be enough
    (she might also need to clean her room, for example). In everyday (non-
    mathematical) practice, you might be tempted to say this "other direction" is
    implied. In mathematics, we never get that luxury.

    Remark 1.1.4 The arguments in the example above illustrate another important
    point: Even if you don't care about the advancement of human knowledge in
16 1. Logic and Proofs

    the field of mathematics, becoming skilled at analyzing arguments is useful.
    And even if you don't want to give your grandmother a cookie. If you are using
    mathematics to solve problems in some other discipline, it is still necessary to
    demonstrate that your solution is correct. You better have a good argument
    that it is!

    Since arguments are built up of statements, we must agree on what counts as a
statement.

     Definition 1.1.5
    A statement is a declarative sentence that is either true or false.

    If the sentences in an argument could not be true or false, there would be no way
to determine whether the argument was valid, since validity describes a relationship
between the truth values of the premises and conclusions.

    The goal of this section is to explore the different "shapes" a statement can take.
We will see that more complicated statements can be built up from simpler ones,
in ways that entirely determine their truth value based on the truth values of their
parts.

                                           Preview Activity

Before reading on to the main content of the section, complete this preview activity
to start thinking about the types of questions this section will address.

1. Which of the following sentences should count as statements? That is, for
       which of the sentences below could you potentially claim the sentence was either
       true or false? Select all that apply.

          A. The sum of the first 100 positive integers.

          B. What is the sum of the first 100 positive integers?

          C. The sum of the first 100 positive integers is 5050.

          D. Is the sum of the first 100 positive integers 5050?

          E. The sum of the first 100 positive integers is 17.
2. You and your roommate are arguing, and they make the audacious claim that

       pineapple is good both on pizza and in smoothies. Which of the following are
       reasonable responses to this claim, from a logical point of view?

          A. The statement is false because even though pineapple is good in smoothies,
              it is NOT good on pizza.

          B. The statement is false because while pineapple is good on pizza and
              pineapple is good in smoothies, a pizza smoothie is never good.
                                                                                         1.1. Mathematical Statements 17

          C. The statement is half true because regardless of what you think about
              pineapple on pizza, we can all agree at least that pineapple is good in
              smoothies.

          D. The statement is false because everyone who likes pineapple on pizza
              does NOT like pineapple in smoothies.

3. Your roommate now makes an even more outrageous claim: If a superhero
       movie is part of the Marvel Cinematic Universe, then it is good. Which of the
       following are reasonable responses to this claim, from a logical point of view?

          A. This is false because there are good superhero movies, like Wonder
              Woman and Dark Knight, that are based on DC Comics, and so not part
              of the Marvel Cinematic Universe.

          B. The statement is false because there is at least one superhero movie that
              is part of the Marvel Cinematic Universe that is also not good.

          C. The statement is false because, for example, Green Lantern is neither
              Marvel nor good.

          D. The statement is true because more than half of the Marvel movies are
              good.

4. Your roommate just won't let up with their outrageous claims. Now they claim
       that either every troll is a knave, or there is at least one troll that is a knight.
      What can you say to this?

          A. Yes, this is true because every troll is either a knight or a knave. If it is
              not the case that all trolls are knaves, then there must be some troll that is
              a knight.

          B. This is false because some trolls are knights and some other trolls are
              knaves.

          C. The statement is false because there is no way to verify which of the two
              options is the case.

          D. The statement is false because no troll could say that all trolls are knaves,
              since knaves always lie.

                    1.1.2 Atomic and Molecular Statements

A statement is any declarative sentence which is either true or false. A statement
is atomic if it cannot be divided into smaller statements, otherwise it is called
molecular.
18 1. Logic and Proofs

  Example 1.1.6

    These are statements (in fact, atomic statements):

        · Telephone numbers in the USA have 10 digits.

        · The moon is made of cheese.

        · 42 is a perfect square.

        · Every even number greater than 2 can be expressed as the sum of two
           primes.

        · 3 + 7 = 12

    And these are not statements:

        · Would you like some cake?

        · The sum of two squares.

        · 1 + 3 + 5 + 7 + · · · + 2 + 1.

        · Go to your room!

        · 3 +  = 12

    The reason the sentence "3 +  = 12" is not a statement is that it contains a
variable. Depending on what  is, the sentence is either true or false, but right now
it is neither. One way to make the sentence into a statement is to specify the value of
the variable in some way. This could be done by setting a specific substitution, for
example, "3 +  = 12 where  = 9," which is a true statement. Or you could capture
the free variable by quantifying over it, as in, "For all values of , 3 +  = 12," which
is false. We will discuss quantifiers in more detail in the subsection Quantifiers and
Predicates below.

    You can build more complicated (molecular) statements out of simpler (atomic
or molecular) ones using logical connectives. For example, this is a molecular
statement:

       Telephone numbers in the USA have 10 digits, and 42 is a perfect square.

Note that we can break this down into two smaller statements. The two shorter
statements are connected by an "and." We will consider 5 connectives: "and" (Sam
is a man, and Chris is a woman), "or" (Sam is a man, or Chris is a woman), "if. . . ,
then. . . " (if Sam is a man, then Chris is a woman), "if and only if" (Sam is a man
if and only if Chris is a woman), and "not" (Sam is not a man). The first four are
called binary connectives (because they connect two statements) while "not" is an
example of a unary connective (since it applies to a single statement).

    These molecular statements are, of course, still statements, so they must be either
true or false. The crucial observation here is that which truth value the molecular
                                                                                         1.1. Mathematical Statements 19

statement achieves is completely determined by the type of connective and the truth
values of the parts. We do not need to know what the parts actually say or whether
they have some material connection to each other, only whether those parts are true
or false.

    To analyze logical connectives, it is enough to consider propositional variables
(sometimes called sentential variables), usually capital letters in the middle of the
alphabet: , , , , . . .. We think of these as standing in for (usually atomic)
statements, but there are only two values the variables can achieve: true or false.1
We also have symbols for the logical connectives: , , , , ¬.

     Definition 1.1.7 Logical Connectives.

    We define the following logical connectives.
        ·    is read " and ," and is called a conjunction.
        ·    is read " or ," and is called a disjunction.
        ·    is read "if  then ," and is called an implication or conditional.

        ·    is read " if and only if ," and is called a biconditional.
        · ¬ is read "not ," and is called a negation.

    The truth value of a statement is determined by the truth value(s) of its part(s),
depending on the connectives:

     Definition 1.1.8 Truth Conditions for Connectives.
    The truth conditions for the logical connectives are defined as follows.

        ·    is true when both  and  are true.
        ·    is true when  or  or both are true.
        ·    is true when  is false or  is true (or both).
        ·    is true when  and  are both true, or both false.
        · ¬ is true when  is false.

    Each of the above definitions can be represented in a table, called a truth table.
We simply list what the truth value of the statement is for each possible combination
of truth values of the parts.

    1In computer programming, we should call such variables Boolean variables.
20 1. Logic and Proofs

                                       

TT T                    TT T  TT  T  TT  T
TF F                    TF T
FT F                    FT T  TF  F  TF  F
FF F                    FF F
                              FT  T  FT  F

                              FF  T  FF  T

                                                   ¬

                                                  TF

                                                  FT

Figure 1.1.9 Truth tables for logical connectives.

    For example, we can use the truth table for    to decide whether the
statement, "If 5 is even, then 6 is even," is true or false. Here  is the statement "5 is
even," and  is the statement "6 is even." Since 5 is not even, the statement  is false.
Since 6 is even, the statement  is true. The truth table tells us that the statement
   is true when  is false and  is true (the 3rd row). So the statement, "If 5 is
even, then 6 is even," is true. (If you don't like that the statement is true, hold on to
that thought, and we will hopefully resolve it soon.)

    Note that for us, or is the inclusive or (and not the sometimes used exclusive or)
meaning that    is true when  or  or both  and  are true. As for the other
connectives, "and" behaves as you would expect, as does negation. The biconditional
(if and only if) might seem a little strange, but you should think of this as saying the
two parts of the statements are equivalent in that they have the same truth value.

    This leaves only the implication    which has a slightly different meaning
in mathematics than in ordinary usage. However, implications are so common and
useful in mathematics that we must develop a level of fluency with their use which
warrants a whole section (Section 1.2).

Example 1.1.10

Using the truth conditions for the logical connectives, determine which
statements below are true and which are false.

   1. 17 is prime, and 17 is odd.
   2. 17 is prime, and 18 is prime.
   3. 17 is prime, or 18 is prime.
   4. 17 is prime, or 19 is prime.
   5. If 17 is prime, then 19 is prime.
   6. If 18 is prime, then my favorite number is 17.
   7. 17 is prime if and only if 19 is prime.
   8. 17 is not prime if and only if 19 is not prime.
                                                                                         1.1. Mathematical Statements 21

    Solution. First, let's agree on some facts: 17 really is prime and odd, 18 is
    not either, and 19 is prime.

        1. True. Both parts of the conjunction are true, so the entire statement is
            true.

        2. False. The first part is true, but the second part is false, so the entire
            statement is false.

        3. True. The first part is true, so the entire statement is true. As soon as
           we see one true statement in a disjunction, we can stop checking and
            declare the entire statement true.

        4. True. Since we use the inclusive or, the statement is true when both
           parts are true.

        5. True. Don't be worried that there isn't a good reason that 17 being
           prime causes 19 to be prime. That is not what we mean by a conditional
            statement. Since the "then" part is true, we know that the statement
            overall is true.

        6. True. The "if" part of the statement is false. That's all we need. I bet
           you don't even know what my favorite number is, and you don't need
            to. The statement is true.

        7. True. Do both parts have the same truth value? Yes, since they are both
            true. So the entire statement is true.

        8. True as well. Now both parts are false (since both are the negation of a
            true statement), so the entire statement is true.

    The way we define logical connectives and their truth value is very precise and
technical. Often, language is not. Part of learning how to communicate mathematics
is learning the cultural norms of mathematical language and how to translate
statements in ordinary language into these technical statements. This will get easier
with practice, so make sure you are talking to lots of people about the math you are
studying.

    Here are a few examples of how ordinary language might be difficult to translate.

  Example 1.1.11

    Identify the logical structure of each of the following statements.
        1. 4 and 5 are both prime.

        2. Only one of 4 or 5 is prime.

        3. You must attend every day and do the homework to pass this class.
22 1. Logic and Proofs

        4. Every number is even or odd.

    Solution.

        1. Do you agree this is the same statement as "4 is prime, and 5 is prime"?
            Notice that it would not make sense to write this as    where  is
           "4" and  is "5 is prime". But if we let  be the statement, "4 is prime,"
            then both parts of the conjunction are statements.

        2. Again, we can't just put what is on one side of the "or" as a statement.
            But if we let  be "4 is prime" and  be "5 is prime,", then we can write
            this as (  )  ¬(  ). That is, either 4 is prime or 5 is prime, and it
            is not the case that both 4 is prime and 5 is prime.

        3. Here is another way you could phrase the same statement: If you pass
            the class, then it must be the case that you attended every day and that
            you did the homework. If we agree that this is just a clearer way to
            state the original statement, then we could illustrate its structure as
              (  ).

        4. Notice that this is not the same as saying, "Every number is even, or
            every number is odd." Of course, saying, "3 is even or odd," is the same
            as saying, "3 is even, or 3 is odd." Language is confusing!

            We don't yet have the logical technology to translate this statement as
            anything more than , where  is the statement, "Every number is even
            or odd." Luckily, that technology is available, starting... now!

                          1.1.3 Quantifiers and Predicates

Did you know that all mammals have hair? That every integer is even or odd? That
some odd numbers are not prime?

     Our goal is to explore how to write statements such as these in mathematical
notation to highlight the logical structure of the statements.

     This will require considering a new sort of basic sentence called a predicate,
which is like a statement, but contains a free variable. When you replace that
variable with a constant of some sort, then the sentence becomes a statement proper.
Think of a predicate as making a claim about the values that are substituted for the
"placeholder" variable(s).

     A predicate can be made into a (true or false) statement by evaluating it at some
constant(s), or we can claim that some or all possible constants would make the
resulting statement true or false. This is done using quantifiers.
                           1.1. Mathematical Statements 23

 Definition 1.1.12 Quantifiers.

The universal quantifier is written  and is read, "for all." The existential
quantifier is written  and is read, "there exists" or "for some."

    We usually write predicates similar to how you write a function, although with
capital letters. For example, we might use the predicate () to represent " is
prime". We can then say that (7) is true (since 7 is prime) and that (8) is false.

Or using quantifiers, we can (falsely) claim that all numbers are prime by writing
() or (truthfully) claim that there is at least one prime number, by writing
().

Example 1.1.13

Translate the statement, "Every number is even or odd," into symbols.

Solution. Before we even start using symbols, it is helpful to rephrase this

in a way that captures the logical structure of the statement. What is the claim

saying? Given any number, it will either be the case that the number is even,

or that the number is odd. In particular, we are not claiming that either all

numbers are even or all numbers are odd.
    Let's use () to say that  is even, and () to say that  is odd. Then we

can write,

                ()  ()

to say that  is even or  is odd. Which  is that true for (according to the
claim)? All of them. So we write the statement as,

                (()  ()).

We added some parentheses to emphasize that the scope of the universal
quantifier includes both predicates.

    Note that if we incorrectly interpreted the statement as claiming that
either all numbers are even or all numbers are odd, we could write that as
()  (). This is not the same!

    Just like we did for propositional logic and the logical connectives, we should
decide what it means for a quantified predicate to be true or false. We say ()
is true if () is true no matter what constant  we substitute for . And similarly,
() is true if there is at least one value  for which () is true.

    However, we must be careful here. Consider the statement

                                              ( < ).

You would read this, "For every  there is some  such that  is less than ." Note
that < is a predicate with two free variables; we have chosen to write it with the
symbol between the variables instead of the funky-looking (, ) or < (, ).
24 1. Logic and Proofs

    Is this statement true? The answer depends on our domain of discourse. When
we say "for all" , do we mean all positive integers or all real numbers or all elephants
or...? Usually, this information is implied by the context of the statement. In discrete
mathematics, we almost always quantify over the natural numbers, 0, 1, 2, . . ., so let's
take that for our domain of discourse here.

    For the statement to be true, we need, no matter what natural number we select,
for there to be some natural number that is strictly smaller. Perhaps we could let
 be  - 1? But here is the problem: what if  = 0? Then  = -1, and that is not
a number! (in our domain of discourse). Thus we see that the statement is false
because there is a number less than or equal to all other numbers. In symbols,

                                              (  ).

    We will explore some rules for working with quantifiers and other connectives
in Section 1.3. For now, we will focus on translating between informal statements
in ordinary language and the more precise language of logic. There is no perfect
algorithm for doing this translation, but here are a few useful rules of thumb.

     Every blank is blank.

         Any statement of the form, "Every -thing is a -thing" can be written as

                                           (()  ()).

         Example: all mammals have hair, becomes (()  ()), where
    () means  is a mammal, and () means  has hair.

    To make sense of this, think about what we mean by statements like these in
terms of sets. We claim that the set of mammals is contained in, or is a subset of, the
set of hairy things. What we mean by " is a subset of " is precisely that every
element of  is an element of . This can also be expressed by saying that "if  is an
element of , then  is also an element of ."

     Some blanks are blank.

         Any statement of the form, "Some -things are -things," can be written
    as

                                           (()  ()).

         Example: Some cats can swim, becomes (()  ()), where ()
    means  is a cat, and () means  can swim.

    Again, it is helpful to think of how to express such statements in terms of sets.
To say that some cats can swim is to say that there are things that belong both to the
set of cats and to the set of swimming things. Such animals belong to the intersection
of these two sets, which you can describe as belonging to the first set and the second
set. Existential statements of this form claim that the intersection of the two sets is
not empty.
                               1.1. Mathematical Statements 25

Implicit Quantifiers. It is always a good idea to be precise in mathematics. Some-

times though, we can relax a bit, as long as we all agree on a convention. An example

of such a convention is to assume that sentences containing predicates with free

variables are intended as statements, where the variables are universally quantified.

For example, do you believe that if a shape is a square, then it is a rectangle? But

how can that be true if it is not a statement? To be a little more precise, we have two
predicates: () for " is a square" and () for " is a rectangle". The sentence we

are looking at is

                      ()  ().

This is neither true nor false, as it is not a statement. But come on! We all know that
we meant to consider the statement,

                                           (()  ()),

and this is what our convention tells us to consider. We call the resulting statement
the universal generalization of the original sentence.

 Definition 1.1.14

Given a sentence with free variables, the universal generalization of that
sentence is the statement obtained by adding enough universal quantifiers to
the beginning of the sentence so that all free variables become bound.

    Similarly, we will often be a bit sloppy about the distinction between a predicate
and a statement. For example, we might write, let () be the statement, " is prime,"
which is technically incorrect. It is implicit that we mean that we are defining ()
to be a predicate, which for each  becomes the statement,  is prime.

                   1.1.4 Reading Questions

1. Match each statement in symbols with its type of statement.

                       and  (conjunction)
                      If , then , (implication)
                       or  (disjunction)
                   ¬  Not  (negation)

2. Consider the sentence, "If  > 3, then  is even."
           Which of the following statements are true about the sentence? Select all

       that apply.

A. The sentence is a false statement since it has a free variable.

B. The universal generalization of the sentence is a statement.
C. If you substitute 10 for , the resulting statement is true.

D. The sentence becomes a true statement no matter what natural number
    you substitute for .
26 1. Logic and Proofs

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                1.1.5 Practice Problems

1. For each sentence below, decide whether it is an atomic statement, a molecular
       statement, or not a statement at all.

         (a) Some say the end is near, and some say we'll see Armageddon soon.

         (b) Mom's coming 'round to put it back the way it ought to be.

         (c) Learn to swim.
2. Classify each of the sentences below as an atomic statement, a molecular

       statement, or not a statement at all. If the statement is molecular, say what kind
       it is (conjuction, disjunction, conditional, biconditional, negation).

         (a) Everybody can be fooled sometimes.

         (b) Every natural number greater than 1 is either prime or composite.

         (c) Go to your room!

         (d) The Broncos will win the Super Bowl, or I'll eat my hat.

         (e) This shirt is not black.
3. Determine whether each molecular statement below is true or false, or whether

       it is impossible to determine. Assume you do not know what my favorite
       number is (but you do know which numbers are prime).

(a) If 4 is my favorite number, then 4 + 1 is my favorite number.

(b) 8 is my favorite number, and 3 is not prime.

(c) 4 is my favorite number, or 4 is prime.

(d) If 4 is prime, then 2 · 4 is prime.

(e) If 3 is prime, then 3 is my favorite number.

          (f) 8 is my favorite number, and 4 is not prime.

4. Let (, ) be the predicate, "person  can be fooled at time ."
           Match each statement with its representation in symbols.

It is always true that some people can be fooled.  (, )
Sometimes everyone can be fooled.                  (, )
Everyone can be fooled sometimes.                  (, )
Some people can be fooled all of the time.         (, )
                                                                                         1.1. Mathematical Statements 27

5. Your friend believes that you cannot fool everyone at the same time. What is
       another way of saying this, and how would you write that in symbols (using
       (, ) to say you can fool  at time ).

          A. Someone is never fooled. ¬(, )

          B. Everyone is never fooled. ¬(, )

          C. Someone is not fooled sometimes. ¬(, )

          D. Everyone is not fooled sometimes. ¬(, )
6. Regardless of your beliefs of how many people can be fooled at various times,

       what could you conclude if we reinterpret (, ) to mean  <  and only
       quantify over the natural numbers (so  means "For all natural numbers,"
       and  means "There exists a natural number")? Select all of the following
       that apply.

          A. (, ) is true.

          B. (, ) is true.

          C. (, ) is true.

          D. (, ) is true.

          E. No matter what (, ) means, we can conclude that (, ) and
               are NOT logically equivalent

7. Let () be the predicate, "17 + 1 is even."

         (a) Is (15) true or false?

         (b) What, if anything, can you conclude about () from the truth value
              of (15)?

         (c) What, if anything, can you conclude about () from the truth value
              of (15)?

8. Let () be the predicate, "18 + 1 is even."

         (a) Is (15) true or false?

         (b) What, if anything, can you conclude about () from the truth value
              of (15)?

         (c) What, if anything, can you conclude about () from the truth value
              of (15)?

9. Consider the sentence, (, )  (, ). What can we say about this
       sentence? Select all that apply.

          A. The sentence is a statement because it contains quantifiers.
28 1. Logic and Proofs

          B. The sentence is not a statement because  and  are free variables.
          C. The sentence is not a statement because  is a free variable.

          D. The universal generalization of the sentence is a statement.
10. Suppose (, ) is some binary predicate defined on a very small domain of

       discourse: just the integers 1, 2, 3, and 4. For each of the 16 pairs of these
       numbers, (, ) is either true or false, according to the following table (
       values are rows,  values are columns).

                                                    1234
                                               1TFFF
                                               2FTTF
                                               3TTTT
                                               4FFFF
       For example, (1, 3) is false, as indicated by the F in the first row, third column.
           Use the table to decide whether the following statements are true or false.

         (a) (, ).
         (b) (, ).
         (c) (, ).
         (d) (, ).

                              1.1.6 Additional Exercises

1. Suppose  and  are the statements: : Jack passed math. : Jill passed math.

         (a) Translate "Jack and Jill both passed math" into symbols.

         (b) Translate "If Jack passed math, then Jill did not" into symbols.
         (c) Translate "  " into English.
         (d) Translate "¬(  )  " into English.

         (e) Suppose you know that if Jack passed math, then so did Jill. What can
              you conclude if you know that:

                  i. Jill passed math?
                 ii. Jill did not pass math?
2. Translate into symbols. Use () for " is even" and () for " is odd."

         (a) No number is both even and odd.

         (b) One more than any even number is an odd number.
                                                                                         1.1. Mathematical Statements 29

         (c) There is a prime number that is even.
         (d) Between any two numbers there is a third number.
         (e) There is no number between a number and one more than that number.
3. For each of the statements below, give a domain of discourse for which the
       statement is true, and a domain for which the statement is false.
         (a) (2 = ).
         (b) ( <   ( <  < )).
         (c) ( <       ).
                             1.2 Implications

       Objectives

     After completing this section, you should be able to do the following.

         1. Explain the conditions under which an implication is true.

         2. Identify statements as equivalent to a given implication or its converse.

         3. Explain the relationship between the truth values of an implication,
             its converse, and its contrapositive.

                                  1.2.1 Section Preview

       Investigate!

     Little Timmy's Mom tells him, "If you don't eat all your broccoli, then you
     will not get any ice cream." Of course, Timmy loves his ice cream, so he
     quickly eats all his broccoli (which actually tastes pretty good).

          After dinner, when Timmy asks for his ice cream, he is told no! Does
     Timmy have a right to be upset? Why or why not?

    By far, the most important type of statement in mathematics is the implication.
It is also the least intuitive of our basic molecular statement types. Our goal in this
section is to become more familiar with this key concept.

    To see why this sort of statement is so prevalent, consider the Pythagorean Theorem.
Despite what social media might claim, the Pythagorean Theorem is not

                                              2 + 2 = 2.
Okay, sure, that has a variable in it, so we must be using the convention to take the
universal generalization,

                                   , ,    2 + 2 = 2 .
So 12 + 52 = 22??? Okay, fine. The equation is true as long as  and  are the lengths
of the legs of a right triangle and  is the length of the hypotenuse. In other words:

       If  and  are the lengths of the legs of a right triangle with hypotenuse
       of length , then 2 + 2 = 2.
Math is about making general claims, but a claim is rarely going to be true of
absolutely every mathematical object. The way we restrict our claims to a particular
type of object is with an implication: "Take any object you like, if it is of the right
type, then this thing is true about it."

                                                     30
       1.2. Implications 31

    Similarly, as we saw in the Quantifiers and Predicates subsection, when we
make claims like "Every square is a rectangle," we really have an implication: "If
something is a square, then it is a rectangle."

    Here is a reminder of what we mean by an implication.

     Definition 1.2.1 Implication.

    An implication (or conditional) is a molecular statement of the form

                                                  

    where  and  are statements. We say that

        ·  is the hypothesis (or antecedent).

        ·  is the conclusion (or consequent).

         An implication is true provided  is false or  is true (or both), and false
    otherwise. In particular, the only way for    to be false is for  to be true
    and  to be false.

The definition of truth of an implication can also be represented as a truth table:

  

TT  T

TF  F

FT  T

FF  T

Figure 1.2.2 The truth table for   .

    Does this truth table make sense? Should we believe it? Look in particular at
the third row: F, T, T, and consider the implication, "If 5 < 3 then 5 + 3 = 8." Does
that statement feel true? The truth table says it should be (since 5 < 3 is false, and
5 + 3 = 8 is true).

    Much of what we will do in the remainder of this section is convince ourselves
that this truth table makes sense.

                                           Preview Activity
1. Consider the statement, "If Tommy doesn't eat his broccoli, then he will not get

       any ice cream." Which of the following statements mean the same thing (i.e.,
       will be true in the same situations)? Select all that apply.

          A. If Tommy does eat his broccoli, then he will get ice cream.

          B. If Tommy gets ice cream, then he ate his broccoli.

          C. If Tommy doesn't get ice cream, then he didn't eat his broccoli.
32 1. Logic and Proofs

          D. Tommy ate his broccoli and still didn't get any ice cream.
2. Suppose that your shady uncle offers you the following deal: If you loan him

       your car, then he will bring you tacos. In which of the following situations
       would it be fair to say that your uncle is a liar (i.e., that his statement was false)?
       Select all that apply.

          A. You loan him your car. He brings you tacos.

          B. You loan him your car. He never buys you tacos.

          C. You don't loan him your car. He still brings you tacos.

          D. You don't loan him your car. He never brings you tacos.
3. Consider the sentence, "If   10, then 2  25." This sentence becomes a

       statement when we replace  by a value, or "capture" the  in the scope of a
       quantifier. Which of the following claims are true (select all that apply)?

          A. If we replace  by 15, then the resulting statement is true. (Note, 152 =
              225.)

          B. If we replace  by 3, then the resulting statement is true.
          C. If we replace  by 6, then the resulting statement is true.
          D. The universal generalization ("for all , if   10 the 2  25") is true.
          E. There is a number we could replace  with that makes the statement

              false.
4. Consider the statement, "If I see a movie, then I eat popcorn" (which happens

       to be true). Based solely on your intuition of English, which of the following
       statements mean the same thing? Select all that apply.

          A. If I eat popcorn, then I see a movie.

          B. If I don't eat popcorn, then I don't see a movie.

          C. It is necessary that I eat popcorn when I see a movie.

          D. To see a movie, it is sufficient for me to eat popcorn.

          E. I only watch a movie if I eat popcorn.

                      1.2.2 Understanding the Truth Table

The truth value of the implication is determined by the truth values of its two parts.
Our definition of the truth conditions for an implication says that there is only one
way for an implication to be false: when the hypothesis is true and the conclusion is
false.
                                                                                                         1.2. Implications 33

  Example 1.2.3

    Consider the statement:

            If Bob gets a 90 on the final, then Bob will pass the class.

    This is definitely an implication:  is the statement "Bob gets a 90 on the final,"
    and  is the statement "Bob will pass the class."

         Suppose I made that statement to Bob. In what circumstances would it be
    fair to call me a liar? What if Bob really did get a 90 on the final, and he did
    pass the class? Then I have not lied; my statement is true. However, if Bob
    did get a 90 on the final and did not pass the class, then I lied, making the
    statement false. The tricky case is this: What if Bob did not get a 90 on the
    final? Maybe he passes the class, maybe he doesn't. Did I lie in either case? I
    think not. In these last two cases,  was false, and the statement    was
    true. In the first case,  was true, and so was   . So    is true when
    either  is false or  is true.

    Just to be clear, although we sometimes read    as " implies ", we are
not insisting that there is some causal relationship between the statements  and 
(although there might be). "If  < , then  + 1 <  + 1," is a true statement (or at
least, its universal generalization is). We know it is true because we understand how
the two parts interact. If you add 1 to two numbers  and , then their order does
not change. But the statement, "if 1 < 2, then Euclid studied geometry" is also a
true implication.

  Example 1.2.4

    Decide which of the following statements are true and which are false. Briefly
    explain.

        1. If 1 = 1, then most horses have 4 legs.

        2. If 0 = 1, then 1 = 1.

        3. If 8 is a prime number, then the 7624th digit of  is an 8.

        4. If the 7624th digit of  is an 8, then 2 + 2 = 4.

    Solution. All four of the statements are true. Remember, the only way for
    an implication to be false is for the if part to be true and the then part to be
    false.

        1. Here both the hypothesis and the conclusion are true, so the implication
            is true. It does not matter that there is no meaningful connection
            between the true mathematical fact and the fact about horses.
34 1. Logic and Proofs

        2. Here the hypothesis is false and the conclusion is true, so the implication
           is true.

        3. I have no idea what the 7624th digit of  is, but this does not matter.
           Since the hypothesis is false, the implication is automatically true.

        4. Regardless of the truth value of the hypothesis, the conclusion is true,
           making the implication true.

    This is a strange example and isn't really how we use implications anyway. This
strangeness is not just mathematicians being stubborn though. The truth conditions
for implications must be like they are for mathematics to make sense. Let's see why.

  Example 1.2.5

    Consider the statement, "All squares are rectangles," which can also be
    phrased as, "For all shapes, if the shape is a square, then it is a rectangle." Is
    this statement true or false? Are we sure? What about the following three
    shapes?

    Solution. Of course the statement is true. A square is a 4-sided plane figure
    with 4 right angles and 4 equal-length sides, while a rectangle is a 4-sided
    plane figure with 4 right angles.

         However, what we mean when we consider a universal statement like
    this is that, no matter what we "plug in" for the variable ("the shape" in this
    case), the resulting statement is true. When the statement is about a particular
    shape, we have an implication   . This means it must be true that, if the
    actual shape on the left is a square, then it is a rectangle. Great. The shape is a
    square ( is true) and is a rectangle ( is true), so yes, the implication is true.

         Is the implication true of the rectangle in the middle? Well, that shape
    is not a square ( is false), and it is a rectangle ( is true). But look, we
    believe that all squares are rectangles, so the statement must be true. Even of
    a rectangle. The only way this works is if "false implies true" is true!

         Similarly, all squares are rectangles is a true statement, even when we look
    at a triangle.  is false (the triangle is not a square), and  is false (the triangle
    is not a rectangle). Thankfully, we defined implications to be true in this case
    as well.

         We have given shapes that illustrate lines 1, 3, and 4 of the truth table for
    implications (Figure 1.2.2). What shape illustrates line 2? That would need to
                                                                                                         1.2. Implications 35

    be a shape that was a square and was not a rectangle.... Of course we can't
    find one, precisely because the statement is true!

                               1.2.3 Related Statements

An implication is a way of expressing a relationship between two statements. It is
often interesting to ask whether there are other relationships between the statements.
Here we introduce some common language to address this question.

     Definition 1.2.6 Converse, Contrapositive, and Inverse.
    Given an implication   , we say,

        · The converse is the statement   .
        · The contrapositive is the statement ¬  ¬.
        · The inverse is the statement, ¬  ¬.

  Example 1.2.7

    Consider the implication, "If you clean your room, then you can go to the
    party." Give the converse, contrapositive, and inverse of this statement
    Solution. The converse is, "If you can go to the party, then you clean your
    room."

         The contrapositive is, "If you can't go to the party, then you don't clean
    your room."

         The inverse is, "If you don't clean your room, then you can't go to the
    party."

    Symbolically, both the converse and the contrapositive switch the order of the two
parts of the statement (or alternatively, think about turning the arrow to point in the
other direction). The contrapositive and the inverse take the negation of both of the
statements. Notice that if you take the converse (switch the order) and then take the
contrapositive of that converse (switch the order back and negate both parts) you get
the inverse. So the inverse is nothing more than the contrapositive of the converse.
Or the converse of the contrapositive, which is a fun fact to mention at parties.

    When considering statements with quantifiers, we ignore the outside quantifiers
when forming the converse, contrapositive, and inverse.
36 1. Logic and Proofs

Quantifiers and the Converse, Contrapositive, and Inverse.
   A quantified implication (()  ()) has:

       Converse         (()  ())
Contrapositive          (¬()  ¬())
                        (¬()  ¬())
          Inverse

    Note 1.2.8 It is unlikely that we would encounter a statement of the form
    (()  ()), since this would be automatically true if there was any
     that made () false. But if we did, the same rules would apply to the
    converse, contrapositive, and inverse as above: Just ignore the quantifier when
    swapping and/or negating the parts of the implication.

     For example, "For all shapes, if the shape is a square, then it is a rectangle" (i.e.,
all squares are rectangles) has the converse, "For all shapes, if the shape is a rectangle,
then it is a square" (so all rectangles are squares).

     Well, that's not true! There exist shapes that are rectangles and are NOT squares.
Indeed, this is an example of a statement that is true with a false converse. There are
lots of examples of this throughout mathematics. There are also examples of true
implications that have true converses. You just can't know from the logic.2

     The contrapositive of "For all shapes, if it is a square, then it is a rectangle" is
"For all shapes, if the shape is not a rectangle, then it is not a square." This is true. In
fact, the contrapositive of a true statement is always true!

     Since the contrapositive of an implication always has the same truth value as its
original implication, it can often be helpful to analyze the contrapositive to decide
whether an implication is true.

   Example 1.2.9

    True or false: If you draw any nine playing cards from a regular deck, then
    you will have at least three cards all of the same suit. Is the converse true?
    Solution. True. The original implication is a little hard to analyze because
    there are so many combinations of nine cards. But consider the contrapositive:
    if you don't have at least three cards all of the same suit, then you don't have
    nine cards. It is easy to see why this is true. If you don't have at least three
    cards in a suit, you can have at most two cards of each of the four suits, for a
    total of at most eight cards.

    2It turns out the Pythagorean Theorem is one such statement. It is also true that if 2 + 2 = 2,
then there is a right triangle with legs of lengths  and  and hypotenuse of length . So we could have
also written the theorem as a biconditional: " and  are the lengths of the legs of a right triangle with
hypotenuse of length  if and only if 2 + 2 = 2."
                                                                                                         1.2. Implications 37

         The converse: If you have at least three cards of the same suit, then you
    have nine cards. This is false. You could have three spades and nothing
    else. Note that to demonstrate that the converse (an implication) is false, we
    provided an example where the hypothesis is true (you do have three cards
    of the same suit), but where the conclusion is false (you do not have nine
    cards). In other words, we find some example that puts us in row 2 of the
    implication's truth table.

    Understanding converses and contrapositives can help understand implications
and their truth values:

  Example 1.2.10

    Suppose I tell Sue that if she gets a 93% on her final, then she will get an A in
    the class. Assuming that what I said is true, what can you conclude in the
    following cases:

        1. Sue gets a 93% on her final.

        2. Sue gets an A in the class.

        3. Sue does not get a 93% on her final.

        4. Sue does not get an A in the class.

    Solution. Note first that whenever    and  are both true statements,
     must be true as well. For this problem, take  to mean "Sue gets a 93% on
    her final" and  to mean "Sue will get an A in the class."

        1. We have    and , so  follows. Sue gets an A.

        2. You cannot conclude anything. Sue could have gotten the A because
           she did extra credit, for example. Notice that we do not know that if
           Sue gets an , then she gets a 93% on her final. That is the converse of
           the original implication, so it might or might not be true.

        3. The contrapositive of the converse of    is ¬  ¬, which states
           that if Sue does not get a 93% on the final, then she will not get an A in
           the class. But this does not follow from the original implication. Again,
           we can conclude nothing. Sue could have done extra credit.

        4. What would happen if Sue did not get an A but did get a 93% on the
           final? Then  would be true, and  would be false. This makes the
           implication    false! It must be that Sue did not get a 93% on
           the final. Notice we now have the implication ¬  ¬ which is the
           contrapositive of   . Since    is assumed to be true, we know
           ¬  ¬ is true as well.
38 1. Logic and Proofs

    As we said above, an implication is not logically equivalent to its converse, but it
is possible that both the implication and its converse are true. In this case, when
both    and    are true, we say that  and  are equivalent and write
  . This is the biconditional we mentioned in Section 1.1.

    You can think of "if and only if" statements as having two parts: an implication
and its converse. We might say one is the "if" part, and the other is the "only if"
part. We also sometimes say that "if and only if" statements have two directions: a
forward direction (  ) and a backward direction (  , which is really just
sloppy notation for   ).

    Let's think a little about which part is which. Is    the "if" part or the "only
if" part? Consider an example.

  Example 1.2.11

    Suppose it is true that I sing if and only if I'm in the shower. We know this
    means both that if I sing, then I'm in the shower, and also the converse, that if
    I'm in the shower, then I sing. Let  be the statement, "I sing," and  be, "I'm
    in the shower." So    is the statement "if I sing, then I'm in the shower."
    Which part of the if and only if statement is this?

         What we are really asking for is the meaning of "I sing if I'm in the shower"
    and "I sing only if I'm in the shower." When is the first one (the "if" part)
    false? When I am in the shower but not singing. That is the same condition
    for being false as the statement, "If I'm in the shower, then I sing." So the "if"
    part is   . On the other hand, to say, "I sing only if I'm in the shower" is
    equivalent to saying "If I sing, then I'm in the shower," so the "only if" part is
      .

    It is not especially important to know which part is the "if" or "only if" part, but
this does illustrate something very, very important: There are many ways to state an
implication!

  Example 1.2.12

    Rephrase the implication, "If I dream, then I am asleep" in as many ways as
    possible. Then do the same for the converse.
    Solution. The following are all equivalent to the original implication:

        1. I am asleep if I dream.

        2. I dream only if I am asleep.

        3. In order to dream, I must be asleep.

        4. To dream, it is necessary that I am asleep.

        5. To be asleep, it is sufficient to dream.
                                                                                                         1.2. Implications 39

        6. I am not dreaming unless I am asleep.

    The following are equivalent to the converse (if I am asleep, then I dream):

        1. I dream if I am asleep.

        2. I am asleep only if I dream.

        3. It is necessary that I dream in order to be asleep.

        4. It is sufficient that I be asleep in order to dream.

        5. If I don't dream, then I'm not asleep.

    Hopefully you agree with the above example. We include the "necessary and
sufficient" versions because those are common when discussing mathematics. Let's
agree once and for all what they mean.

     Definition 1.2.13 Necessary and Sufficient.
        · " is necessary for " means   .
        · " is sufficient for " means   .
        · If  is necessary and sufficient for , then   .

    To be honest, I have trouble with these if I'm not very careful. I find it helps to
keep a standard example for reference.

  Example 1.2.14

    In a regular deck of cards, the red suits are hearts and diamonds. The black
    suits are clubs and spades. Thus it is true that, after picking a card, if my card
    is a spade, then my card is black.

         Restate this fact using necessary and sufficient phrasing.
    Solution. For my card to be a spade, it is necessary that it is black. However,
    it is not sufficient for it to be black to say that I am holding a spade (since I
    could have a club).

         I can also say that to have a black card, it is sufficient to have a spade. It is
    not necessary that I have a spade.

         It is helpful to think about the amount of evidence you need. Is knowing
    that the card is a spade enough evidence to conclude that it is a black card?
    Yes, that is sufficient! Being a spade is a sufficient condition for the card to be
    black.

    Thinking about the necessity and sufficiency of conditions can also help when
writing proofs and justifying conclusions. If you want to establish some mathematical
40 1. Logic and Proofs

fact, it is helpful to think what other facts would be enough (be sufficient) to prove
your fact. If you have an assumption, think about what must also be necessary if
that hypothesis is true.

                               1.2.4 Reading Questions

1. It happens to be true that all mammals have hair. Which of the following are
       also true?

          A. Having hair is a necessary condition for being a mammal.

          B. Having hair is a sufficient condition for being a mammal.

          C. If an animal doesn't have hair, then it is not a mammal.

          D. An animal is a mammal only if it has hair.
2. Give an example of a true implication (written out in words) that has a false

       converse. Explain why your implication is true and why the converse is false.
3. What questions do you have after reading this section? Write at least one

       question about the content of this section that you are curious about.

                                1.2.5 Practice Problems

1. In my safe is a sheet of paper with two shapes drawn on it in colored crayon.
       One is a circle, and the other is a pentagon. Each shape is drawn in a single
       color. Suppose you believe me when I tell you that, "If the circle is purple, then
       the pentagon is orange.
           What do you therefore know about the truth value of the following state-
       ments?

         (a) The circle and the pentagon are both purple.

         (b) The circle and the pentagon are both orange.

         (c) The circle is not purple, or the pentagon is orange.

         (d) If the pentagon is orange, then the circle is purple.

         (e) If the pentagon is not orange, then the circle is not purple.
2. Suppose the statement, "If the square is yellow, then the circle is purple," is true.

       Assume also that the converse is false. Classify each statement below as true or
       false (if possible).

         (a) The circle is purple.

         (b) The square is yellow if and only if the circle is not purple.

         (c) The square is yellow.
                                                                                                         1.2. Implications 41

         (d) The square is yellow if and only if the circle is purple.
3. Consider the statement, "If you will give me magic beans, then I will give you a

       cow." Decide whether each statement below is the converse, the contrapositive,
       or neither.

         (a) If I will give you a cow, then you will not give me magic beans.

         (b) If I will give you a cow, then you will give me magic beans.

         (c) If you will not give me magic beans, then I will not give you a cow.

         (d) If you will give me magic beans, then I will not give you a cow.

         (e) You will give me magic beans, and I will not give you a cow.

          (f) If I will not give you a cow, then you will not give me magic beans.
4. You have discovered an old paper on graph theory that discusses the viscosity

       of a graph (which for all you know, is something completely made up by the
       author). A theorem in the paper claims that "if a graph satisfies condition
      (V), then the graph is viscous." Which of the following are equivalent ways of
       stating this claim? Which are equivalent to the converse of the claim?

         (a) Only viscous graphs satisfy condition (V).

         (b) For a graph to be viscous, it is necessary that it satisfies condition (V).

         (c) A graph is viscous only if it satisfies condition (V).

         (d) Satisfying condition (V) is a necessary condition for a graph to be viscous.

         (e) A graph is viscous if it satisfies condition (V).
5. Which of the following statements are equivalent to the implication, "if you win

       the lottery, then you will be rich," and which are equivalent to the converse of the
       implication?

         (a) If you are not rich, then you did not win the lottery.

         (b) It is sufficient to win the lottery to be rich.

         (c) Either you win the lottery, or else you are not rich.

         (d) If you are rich, you must have won the lottery.

         (e) You will win the lottery if and only if you are rich.
42 1. Logic and Proofs

                              1.2.6 Additional Exercises

1. Translate into English:
         (a) (()  ( + 2)).
         (b) (sin() = ).
         (c) (sin() = ).
         (d) (3 = 3   = ).

2. Consider the statement, "If Oscar eats Chinese food, then he drinks milk."

         (a) Write the converse of the statement.

         (b) Write the contrapositive of the statement.

         (c) Is it possible for the contrapositive to be false? If it was, what would that
              tell you?

         (d) Suppose the original statement is true, and that Oscar drinks milk. Can
              you conclude anything (about his eating Chinese food)? Explain.

         (e) Suppose the original statement is true, and that Oscar does not drink milk.
              Can you conclude anything (about his eating Chinese food)? Explain.

3. Write each of the following statements in the form, "If . . . , then . . . ." Careful,
       some statements may be false (which is fine for the purposes of this question).

         (a) To lose weight, you must exercise.

         (b) To lose weight, all you need to do is exercise.

         (c) Every American is patriotic.

         (d) You are patriotic only if you are American.

         (e) The set of rational numbers is a subset of the real numbers.

          (f) A number is prime if it is not even.

         (g) Either the Broncos will win the Super Bowl, or they won't play in the
              Super Bowl.

4. Consider the implication, "If you clean your room, then you can watch TV."
       Rephrase the implication in as many ways as possible. Then do the same for
       the converse.

5. Recall from calculus, if a function is differentiable at a point , then it is
       continuous at , but that the converse of this statement is not true (for example,
        () = || at the point 0). Restate this fact using "necessary and sufficient"
       language.
                                                                                                         1.2. Implications 43

6. Consider the statement, "For all natural numbers , if  is prime, then  is
       solitary." You do not need to know what solitary means for this problem, just
       that it is a property that some numbers have and others do not.

         (a) Write the converse and the contrapositive of the statement, saying which
              is which. Note: the original statement claims that an implication is true
              for all , and it is that implication that we are taking the converse and
              contrapositive of.

         (b) Write the negation of the original statement. What would you need to
              show to prove that the statement is false?

         (c) Even though you don't know whether 10 is solitary (in fact, nobody
              knows this), is the statement, "If 10 is prime, then 10 is solitary" true or
              false? Explain.

         (d) It turns out that 8 is solitary. Does this tell you anything about the truth
              or falsity of the original statement, its converse or its contrapositive?
              Explain.

         (e) Assuming that the original statement is true, what can you say about the
              relationship between the set  of prime numbers and the set  of solitary
              numbers. Explain.
                            1.3 Rules of Logic

       Objectives

     After completing this section, you should be able to do the following.

         1. Use truth tables to determine whether two statements are logically
             equivalent.

         2. Use truth tables to determine whether a deduction rule is valid.

         3. Use logical equivalence and deduction rules to simplify statements
             and make deductions.

                                  1.3.1 Section Preview

       Investigate!

     Holmes always wears one of the two vests he owns: one tweed and one
     mint green. He always wears either the green vest or red shoes. Whenever
     he wears a purple shirt and the green vest, he chooses to not wear a bow tie.
     He never wears the green vest unless he is also wearing either a purple shirt
     or red shoes. Whenever he wears red shoes, he also wears a purple shirt.
     Today, Holmes wore a bow tie. What else did he wear?

   Try it 1.3.1

    Spend a few minutes thinking about the Investigate! question above. Of the six
    statements in the puzzle, only one is atomic. Use this atomic statement and
    one other statement to deduce a new statement about what Holmes might (or
    might not) be wearing. Explain why you think your new statement is true.
    Hint. The atomic statement is, "Holmes wore a bow tie." Only one of the
    molecular statements has this as one of its atoms.

     Logic studies the ways statements can interact with each other. More precisely,
we consider the way the logical form statements can interact. The study of logic does
not care about the content of the atomic statements or the meaning of predicates.
For example, the claims, "If spiders have six legs, then Sam walks with a limp," and,
"If the moon is made of cheese, then cheddar is a type of cheese," are identical from a
logical perspective. Logic doesn't care about whether Sam is a spider or the culinary
makeup of the moon. Both statements have the same form: They are implications,
  .

     Of course, in mathematics we often do know some relationship between various

                                                     44
                                                                                                       1.3. Rules of Logic 45

atomic statements. For example, we know a relationship between being even and
being a multiple of 10. That relationship allows us to make claims such as, "If
the number I'm thinking of is a multiple of 10, then it is even." Suppose I also
told you that I am now thinking of a number that is not even. We can deduce
that I am not thinking of a multiple of 10! Crucially, if we accept the truth of the
statements here, we can make this deduction without thinking about the nature of
numbers. It can feel very liberating and provide much-needed clarity when trying
to understand complicated reasoning if we can separate the content from the logical
form of arguments.

    Our goal in this section is to establish some procedures for analyzing how the
truth or falsity of statements interact, based on their logical form. We will see that
some molecular statements must be true regardless of whether their atomic parts
are true or false, while some statements must always be false. For other statements,
it can be that two statements are always true or false together, or that whenever one
statement is true, another statement must also be true.

    The main method for establishing these relationships will be truth tables.
There is a very clear procedure for constructing and analyzing truth tables, but for
complicated arguments that contain many atomic statements, the truth tables become
very large and unwieldy. We will therefore use truth tables to understand some
basic equivalences and deductions that can be applied in a sequence of reasoning to
construct larger arguments.

                                           Preview Activity

1. Consider the statement, "Whenever Holmes wears a purple shirt and the green
       vest, he chooses to not wear a bow tie." Let  be the statement, "Holmes wears
       a purple shirt,"  be the statement, "Holmes wears the green vest," and  be
       the statement, "Holmes wears a bow tie." Which of the following is the best
       translation of the statement into propositional logic?

          A. (  )  ¬

          B. (  )  

          C. (  )  ¬

          D.   (  )
2. Consider the statement, "Holmes never wears the green vest unless he is also

       wearing either a purple shirt or red shoes." With  and  as in the previous
       question, and  being the statement, "Holmes wears red shoes," which of the
       following is the best translation of the statement into propositional logic?

          A.   (  )

          B. ¬  (  )

          C. (  )  
46 1. Logic and Proofs

          D. (  )  ¬
3. Consider the statement, "If you major in math, then you will get a high-paying

       job," and the statement, "Either you don't major in math, or you will get a
       high-paying job." In which of the following cases are both statements true?
       Select all that apply.

          A. You major in math and get a high-paying job.

          B. You major in math and don't get a high-paying job.

          C. You don't major in math and do get a high-paying job.

          D. You don't major in math and don't get a high-paying job.

                                    1.3.2 Truth Tables

Here's a question about playing Monopoly:

       If you get more doubles than any other player, then you will lose, or if
       you lose, then you must have bought the most properties.

True or false? We will answer this question and won't need to know anything about
Monopoly. Instead, we will look at the logical form of the statement.

    We need to decide when the statement (  )  (  ) is true. Using the
definitions of the connectives in Definition 1.1.8, we see that for this to be true, either
   must be true or    must be true (or both). Those are true if either  is
false or  is true (in the first case) and  is false or  is true (in the second case).
So--yeah, it gets a bit messy. Luckily, we can make a chart to keep track of all the
possibilities with a truth table.

    The idea is this: On each row, we list a possible combination of T's and F's (Trues
and Falses) for each of the propositional variables, and then mark down whether the
(molecular) statement in question is true or false in that case. We do this for every
possible combination of T's and F's. Then we can clearly see the cases in which the
statement is true or false. For complicated statements, we will first fill in values
for each part of the statement, as a way of breaking up our task into smaller, more
manageable pieces.

    Since the truth value of a statement is completely determined by the truth values
of its parts and how they are connected, all you need to know is the truth tables for
each of the logical connectives, which we have already seen in Figure 1.1.9

    The truth tables we consider here all build off the basic ones, applying the basic
rules multiple times.

  Example 1.3.2

    Make a truth table for the statement ¬  .
    Solution. Note that this statement is not ¬(  ); the negation belongs to
     alone. The main connective here is the , which means we will use that
                                                  1.3. Rules of Logic 47

truth table last. First, we apply the truth table for ¬, and then apply the truth
table for  using "inputs" from ¬ and .

    Since there are two variables, there are four possible combinations of T's

and F's. Putting this all together gives us the following truth table.

                 ¬ ¬  

               TT F  T

               TF F  F

               FT T  T

               FF T  T

We added a column for ¬ to make filling out the last column easier. The
entries in the ¬ column were determined by the entries in the  column.
Then to fill in the final column, look only at the column for  and the column
for ¬ and use the rule for .

Now let's answer our question about Monopoly.

Example 1.3.3

Analyze the statement, "If you get more doubles than any other player, then
you will lose, or if you lose, then you must have bought the most properties,"
using truth tables.

Solution. Represent the statement in symbols as (  )  (  ), where
 is the statement, "You get more doubles than any other player,"  is the
statement, "You will lose," and  is the statement, "You must have bought
the most properties." Now make a truth table.

    The truth table must contain 8 rows to account for every possible combi-
nation of truth and falsity among the three statements. Here is the full truth
table:

         (  )  (  )

TTT T             T                            T

TTF            T  F                            T

TFT            F  T                            T

TFF            F  T                            T

FTT T             T                            T

FTF            T  F                            T

FFT T             T                            T

FFF            T  T                            T

The first three columns are simply a systematic listing of all possible combi-
nations of T and F for the three statements (do you see how you would list
the 16 possible combinations for four statements?). The next two columns
48 1. Logic and Proofs

are determined by the values of , , and  and the definition of implication.
Then, the last column is determined by the values in the previous two columns
and the definition of . It is this final column we care about.

    Notice that in each of the eight possible cases, the statement in question
is true. So our statement about monopoly is true (regardless of how many
properties you own, how many doubles you roll, or whether you win or lose).

    The statement about monopoly is an example of a tautology, a statement that is
necessarily true based on its logical form alone. Tautologies are always true, but they
don't tell us much about the world. No knowledge about monopoly was required
to determine that the statement was true, and thus knowing that the statement is
true tells us nothing about monopoly. It is equally true that "if the moon is made of
cheese, then Elvis is still alive, or if Elvis is still alive, then unicorns have 5 legs."

                        1.3.3 Logical Equivalence

You might have noticed in Example 1.3.2 that the final column in the truth table for
¬   is identical to the final column in the truth table for   :

                             ¬  

                        TT  T          T

                        TF  F          F

                        FT  T          T

                        FF  T          T

This says that no matter what  and  are, the statements ¬   and   
are either both true or both false. We therefore say these statements are logically
equivalent.

Definition 1.3.4 Logical Equivalence.

Two (molecular) statements  and  are logically equivalent provided  is
true precisely when  is true. That is,  and  have the same truth value

under any assignment of truth values to their atomic parts.
    We write this as   .

    To verify that two statements are logically equivalent, you can make a truth table
for each and check whether the columns for the two statements are identical.

    In Section 1.2 we claimed that whenever an implication is true, so is its contra-
positive. We can now make this claim as the following theorem.

     Theorem 1.3.5

    An implication is logically equivalent to its contrapositive. That is,

                                             ¬  ¬.
                                               1.3. Rules of Logic 49

Proof. We simply examine the truth tables.

                        ¬ ¬ ¬  ¬

TT  T                 TT F F                   T

TF  F                 TF T F                   F

FT  T                 FT F T                   T

FF  T                 FF T T                   T

    (Note that we have the truth value combinations in the same order in both
tables, so we can easily see that the final columns are identical.)

    Recognizing two statements as logically equivalent can be quite helpful. Rephras-
ing a mathematical statement can often lend insight into what it is saying, or how
to prove or refute it. By using truth tables we can systematically verify that two
statements are indeed logically equivalent.

Example 1.3.6

Are the statements, "It will not rain or snow," and, "It will not rain and it will
not snow," logically equivalent?

Solution. We want to know whether ¬(  ) is logically equivalent to
¬  ¬. Make a truth table which includes both statements:

                 ¬(  ) ¬  ¬

               TT  F                        F

               TF  F                        F

               FT  F                        F

               FF  T                        T

Since the truth values for the two statements are equal in every row, the two
statements are logically equivalent.

    Notice that this example gives us a way to "distribute" a negation over a
disjunction (an "or"). We have a similar rule for distributing over conjunctions
("and"s):

     Theorem 1.3.7 De Morgan's Laws.

    The negation of a disjunction or conjunction is logically equivalent to a conjunction
    or disjunction of negations, respectively. That is,

                                         ¬(  )  ¬  ¬

    and,
                                        ¬(  )  ¬  ¬.

This suggests there might be a sort of "algebra" you could apply to statements
50 1. Logic and Proofs

(okay, there is: It is called Boolean algebra) to transform one statement into another.
We can start collecting useful examples of logical equivalence and apply them in
succession to a statement, instead of writing out a complicated truth table.

    De Morgan's laws do not directly help us with implications, but as we saw above,
every implication can be written as a disjunction:

     Implications are Disjunctions.

                                               ¬  .

         Example: "If a number is a multiple of 4, then it is even" is equivalent to,
    "A number is not a multiple of 4, or (else) it is even."

    With this and De Morgan's laws, you can take any statement and simplify it to the
point where negations are only being applied to atomic propositions. Well, except
that you could get multiple negations stacked up. But this can be easily dealt with:

     Double Negation.

                                                ¬¬  .
         Example: "It is not the case that  is not odd" means " is odd."

Let's see how we can apply the equivalences we have encountered.

Example 1.3.8

Prove that the statements ¬(  ) and   ¬ are logically equivalent
without using truth tables.

Solution. We want to start with one of the statements and transform it into

the other through a sequence of logically equivalent statements. Start with
¬(  ). We can rewrite the implication as a disjunction, so this is logically

equivalent to

                        ¬(¬  ).

Now apply De Morgan's law to get

                        ¬¬  ¬.

Finally, use double negation to arrive at   ¬

    Notice that the above example illustrates that the negation of an implication is
NOT an implication: It is a conjunction! We saw this before, in Section 1.1, but it is
so important and useful, it warrants stating as a theorem.
                      1.3. Rules of Logic 51

 Theorem 1.3.9 Negation of an Implication.
The negation of an implication is a conjunction:

                                    ¬(  )    ¬.

That is, the only way for an implication to be false is for the hypothesis to be true
AND the conclusion to be false.

    To verify that two statements are logically equivalent, you can use truth tables or
a sequence of logically equivalent replacements. The truth table method, although
cumbersome, has the advantage that it can verify that two statements are NOT
logically equivalent.

Example 1.3.10

Are the statements (  )   and (  )  (  ) logically equivalent?

Solution. Note that while we could start rewriting these statements with
logically equivalent replacements in the hopes of transforming one into
another, we will never be sure that our failure is due to their lack of logical
equivalence rather than our lack of imagination. So instead, let's make a truth
table:

   (  )   (  )  (  )

TTT             T  T

TTF             F  F

TFT             T  T

TFF             F  T

FTT             T  T

FTF             F  T

FFT             T  T

FFF             T  T

Look at the fourth (or sixth) row. In this case, (  )  (  ) is true, but
(  )   is false. Therefore the statements are not logically equivalent.

    While we don't have logical equivalence, it is the case that whenever
(  )   is true, so is (  )  (  ). This tells us that we can deduce
(  )  (  ) from (  )  , just not the reverse direction.

                 1.3.4 Equivalence for Quantified Statements

All the examples we have looked at so far have only involved propositional logic,
where the basic units of logic are statements that are either true or false. It is also
possible to say that two statements involving quantifiers and predicates are logically
equivalent.
52 1. Logic and Proofs

Sometimes the quantifiers have nothing to do with the equivalence. For example,

                        (()  ())  (¬()  ()).

As soon as we replace the  with a constant, we are left with two statements that are

logically equivalent based on their propositional form.

Other times, the more interesting times, it is exactly the logic of the quantifiers

that makes the statements logically equivalent. What is especially interesting here is

that we cannot use truth tables to verify these equivalences!

Instead, we need to reason about the domain of discourse as a set. For example,

let's consider how negation interacts with quantifiers.

    Consider the claim that "all odd numbers are prime." We might represent this
symbolically as (()  ()). The statement clearly is not true, so what is true
is that "not all odd numbers are prime" (i.e., ¬(()  ())). How do we know?

Easy: 9. Yes, 9 is odd but not prime. But is it enough that just one odd number isn't

prime?

To dispute a universal claim, you just need one single counterexample. You just

need to show there exists a number for which the claim is false. In our case, we have

the equivalence,

                        ¬(()  ())  (()  ¬()).

If we ignore the quantifiers for a minute, we are left with

                        ¬(  )    ¬

which is exactly an example of Theorem 1.3.9. The new, interesting part is that when
we negated the universal quantifier, we got an existential quantifier.

    Negating an existential quantifier results in a universal quantifier. This makes
sense. If there does not exist something with a property, then everything does not
have that property.

     Quantifiers and Negation.

            ¬() is equivalent to ¬().
            ¬() is equivalent to ¬().

    Symbolically, we can pass the negation symbol over a quantifier, but that causes
the quantifier to switch type.

    Another way to see why this makes sense: Universal quantifiers are like (possibly
infinite) conjunctions since they claim that the property is true of this thing, and
that thing, and the other thing,... all things. Existential quantifiers are like (possibly
infinite) disjunctions: The property is true of at least one thing, maybe this, or that,
or the other, or.... De Morgan's laws tell us that when we negate a conjunction, we
get a disjunction, and when we negate a disjunction, we get a conjunction. Isn't it
great when everything works out as it should?
                                        1.3. Rules of Logic 53

Example 1.3.11

Suppose we claim that there is no smallest number. We can translate this into

symbols as

                ¬(  ).

("It is not true that there is a number  such that for all numbers ,  is less
than or equal to .")

    However, we know how negation interacts with quantifiers: We can pass a

negation over a quantifier by switching the quantifier type (between universal
and existential). So the statement above should be logically equivalent to

                ( < ).

Notice that  <  is the negation of   . This reads, "For every number 
there is a number  which is smaller than ." We see that this is another way

to make our original claim.

    It is important to stress that predicate logic extends propositional logic (much
like how quantum mechanics extends classical mechanics). Everything that we
learned about logical equivalence and deductions still applies. However, predicate
logic allows us to analyze statements at a higher resolution, digging down into the
individual propositions , , etc.

    To do this, we need to understand how quantifiers and connectives interact. We
have already seen something about negations and quantifiers. What about the other
connectives? Let's look at an example exploring how the universal quantifier and
disjunctions can (or cannot) work together.

Example 1.3.12

Consider the two statements,   ()  ().
                     (()  ())

Are these logically equivalent?

Solution. These statements are NOT logically equivalent. Intuitively, the
statement on the left claims that everything is either a -thing or a -thing.
The statement on the right claims that either everything is a -thing or that
everything is a -thing. These feel different.

    To be sure, we would like to think of predicates () and () and some

domain of discourse such that one of the statements is true and the other is
false. How about we let () be, " is even" and () be, " is odd." Our

domain of discourse will be all integers (as that is the set of numbers for

which even and odd make sense).

    The statement on the left is true! Every number is either even or odd. But
54 1. Logic and Proofs

is every number even? No. Is every number odd? No. So the statement on

the right is false (it is a false or false).

Interestingly, the statement on the right implies the statement on the left.

That is,

                        (()  ())  (()  ())

is always true.
    This is similar to a tautology, although we reserve that term for necessary

truths in propositional logic. A statement in predicate logic that is necessarily
true gets the more prestigious designation of a law of logic (or sometimes
logically valid, but that is less fun).

We can also consider how quantifiers interact with each other.

Example 1.3.13

Can you switch the order of quantifiers? For example, consider the two

statements:

                        (, ) and (, ).

Are these logically equivalent?

Solution. These statements are NOT logically equivalent. To see this, we
should provide an interpretation of the predicate (, ) which makes one of

the statements true and the other false.
    Let (, ) be the predicate  < . It is true, in the natural numbers, that

for all  there is some  greater than that  (since there are infinitely many
numbers). However, there is no natural number  which is greater than every
number . Thus it is possible for (, ) to be true while (, ) is

false.
    We cannot do the reverse of this though. If there is some  for which every

 satisfies (, ), then certainly for every  there is some  which satisfies
(, ). The first is saying we can find one  that works for every . The
second allows different 's to work for different 's, but nothing is preventing
us from using the same  that works for every . In other words, while we

don't have logical equivalence between the two statements, we do have a valid

deduction rule:

                                             (, )

                                      (, )

Put yet another way, this says that the single statement

                        (, )  (, )

is always true; it is a law of logic.
                                                              1.3. Rules of Logic 55

                1.3.5 Deductions

Earlier, we claimed that the following was a valid argument:

        If Edith eats her vegetables, then she can have a cookie. Edith ate her
       vegetables. Therefore Edith gets a cookie.

How do we know this is valid? Let's look at the form of the statements. Let  denote,
"Edith eats her vegetables" and  denote, "Edith can have a cookie." The logical
form of the argument is then:

                     
                         

                

This is an example of a deduction rule, an argument form that is always valid. This
one is a particularly famous rule called modus ponens. Are you convinced that it is a
valid deduction rule? If not, consider the following truth table:

                  

                TT    T

                TF    F

                FT    T

                FF    T

This is just the truth table for   , but what matters here is that all the lines in

the deduction rule have their own column in the truth table. Remember that an

argument is valid provided the conclusion must be true given that the premises are
true. The premises in this case are    and . Which rows of the truth table
correspond to both of these being true?  is true in the first two rows, and of those,
only the first row has    true as well. And lo-and-behold, in this one case,  is
also true. So if    and  are both true, we see that  must be true as well.

    Think of deduction rules as a sort of one-way form of logical equivalence. Two

statements are logically equivalent provided that in every row of the truth table in

which the first statement is true, so is the second, and in every row in which the

second statement is true, so is the first. A deduction only requires the first of these

two parts.

    Here are a few more examples.

Example 1.3.14

Show that the following is a valid deduction rule.

                    

                  ¬  

                    

Solution. We make a truth table which contains all the lines of the argument
56 1. Logic and Proofs

form:

                             ¬ ¬  

                        TT  T  F          T

                        TF  F  F          T

                        FT  T  T          T

                        FF  T  T          F

(we include a column for ¬ just as a helping step to get the column for
¬  ).

    Now look at all the rows for which both    and ¬   are true.
This happens only in rows 1 and 3. Hey! In those rows  is true as well, so

the argument form is valid (it is a valid deduction rule).

Example 1.3.15

Decide whether the following is a valid deduction rule.

                                 
                                 

                                     
                             

Solution. Let's make a truth table containing all four statements.

                              

                        TTT T          T     T

                        TTF F          F     T

                        TFT T          T     T

                        TFF F          T     T

                        FTT T          T     T

                        FTF T          F     T

                        FFT T          T     F

                        FFF T          T     F

Look at the second-to-last row. Here all three premises of the argument are
true, but the conclusion is false. Thus this is not a valid deduction rule.

    While we have the truth table in front of us, look at rows 1, 3, and 5. These
are the only rows in which all of the statements   ,   , and   
are true. It also happens that  is true in these rows as well. Thus we have
discovered a new deduction rule we know is valid:

                                                

                                                

                                                 

                                        
                                                                         1.3. Rules of Logic 57

Quantifier deductions. There are also deduction rules we could write down for
quantifiers. For example, such a rule might be:

                                                     ()
                                              ()

If everything is a -thing, then there must be something which is a -thing.3 These
rules cannot be verified with a truth table, and a full treatment of this sort of predicate
logic is beyond the scope of this text.

                               1.3.6 Reading Questions

1. To check whether two statements are logically equivalent, you can use a truth
       table. Explain what you would look for in the truth table to conclude that
       the two statements are logically equivalent. What would tell you they are not
       logically equivalent?

2. To check whether a deduction rule is valid, you can use a truth table. Explain
       what you would look for in the completed truth table to say that the deduction
       rule is valid, and what would tell you the deduction rule is not valid.

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                1.3.7 Practice Problems

1. Make a truth table for the statement (  )  (  ).
2. Complete a truth table for the statement ¬  (  )). What can you

       conclude about  and  if you knew the statement above was false?
3. Construct a truth table for the statement   (¬  ).
4. Determine whether the statements   (  ) and (  )  (  ) are

       logically equivalent by completing a truth table for both statements.

5. Determine if the following is a valid deduction rule:

                                                        
                                                           ¬

                                                 ¬

6. Determine if the following is a valid deduction rule:

    (  )

  ¬(  )

  

7. Determine if the following is a valid deduction rule:

3Note that this does assume that your domain of discourse is non-empty.
58 1. Logic and Proofs

                          (  )  

                          ¬  ¬

                          ¬

8. Determine if the following is a valid deduction rule:

                                                        
                                                          ¬
                                                

9. Which of the following statements is a law of logic? That is, which of the
       following are true no matter what your domain of discourse is and no matter
       what you interpret the predicates as meaning? Select all that apply.

A. (()  ¬()).
B. ()  ().
C. ¬()  ().
D. (, )  (, ).

                              1.3.8 Additional Exercises

1. You stumble upon two trolls playing Stratego®. They tell you:

              Troll 1: If we are cousins, then we are both knaves.
              Troll 2: We are cousins, or we are both knaves.

       Could both trolls be knights? Recall that all trolls are either always-truth-telling
       knights or always-lying knaves. Explain your answer and how you can use
       truth tables to find it.
2. Next you come upon three trolls, helpfully wearing name tags. They say:

Pat    If either Quinn or I are knights, then so is Ryan.
Quinn  Ryan is a knight, and if Pat is a knight, then so am I.
Ryan   Quinn is a knave, but Pat and I share the same persuasion.

           Create a truth table that includes all three statements. Then use the truth
       table to determine the persuasion of each troll.
3. Consider the statement about a party, "If it's your birthday or there will be
       cake, then there will be cake."

         (a) Translate the above statement into symbols. Clearly state which statement
              is  and which is .

         (b) Make a truth table for the statement.
                                                                                                       1.3. Rules of Logic 59

         (c) Assuming the statement is true, what (if anything) can you conclude if
              you know there will be cake?

         (d) Assuming the statement is true, what (if anything) can you conclude if
              you know there will not be cake?

         (e) Suppose you found out that the statement was a lie. What can you
              conclude?

4. Geoff Poshingten is out at a fancy pizza joint and decides to order a calzone.
      When the waiter asks what he would like in it, he replies, "I want either
       pepperoni or sausage. Also, if I have sausage, then I must also include quail.
       Oh, and if I have pepperoni or quail, then I must also have ricotta cheese."

         (a) Translate Geoff's order into logical symbols.

         (b) The waiter knows that Geoff is either a liar or a truth-teller (so either
              everything he says is false, or everything is true). Which is it?

         (c) What, if anything, can the waiter conclude about the ingredients in
              Geoff's desired calzone?

5. Determine whether the following two statements are logically equivalent:
       ¬(  ) and   ¬. Explain how you know you are correct.

6. Simplify the following statements (so that negation only appears right before
       variables).

         (a) ¬(  ¬).

         (b) (¬  ¬)  ¬(¬  ).

         (c) ¬((  ¬)  ¬(  ¬)).

         (d) It is false that if Sam is not a man then Chris is a woman, and that Chris
              is not a woman.

7. Use De Morgan's Laws and any other logical equivalence facts you know to
       simplify the following statements. Show all your steps. Your final statements
       should have negations only appear directly next to the sentence variables or
       predicates (, , (), etc.), and no double negations. It would be a good idea
       to use only conjunctions, disjunctions, and negations.

         (a) ¬((¬  )  ¬(  ¬)).

         (b) ¬((¬  ¬)  (¬  )) (careful with the implications).

         (c) For both parts above, verify your answers are correct using truth tables.
              That is, use a truth table to check that the given statement and your
              proposed simplification are actually logically equivalent.

8. Consider the statement, "If a number is triangular or square, then it is not
       prime"
60 1. Logic and Proofs

         (a) Make a truth table for the statement (  )  ¬.

         (b) If you believed the statement was false, what properties would a coun-
              terexample need to possess? Explain by referencing your truth table.

         (c) If the statement were true, what could you conclude about the number
              5657, which is definitely prime? Again, explain using the truth table.

9. Tommy Flanagan was telling you what he ate yesterday afternoon. He tells
       you, "I had either popcorn or raisins. Also, if I had cucumber sandwiches, then
       I had soda. But I didn't drink soda or tea." Of course, you know that Tommy is
       the world's worst liar, and everything he says is false. What did Tommy eat?
           Justify your answer by writing all of Tommy's statements using sentence
       variables (, , , , ), taking their negations, and using these to deduce what
       Tommy actually ate.

10. Can you chain implications together? That is, if    and   , does that
       means the   ? Prove that the following is a valid deduction rule:

                                                        
                                                        
                                                 
11. Suppose  and  are (possibly molecular) propositional statements. Prove
       that  and  are logically equivalent if and only if    is a tautology.
12. Suppose 1, 2, . . . ,  and  are (possibly molecular) propositional statements.
       Suppose further that

                                                           1
                                                           2
                                                           ..
                                                           .
                                                           
                                                   

       is a valid deduction rule. Prove that the statement

                                          (1  2  · · ·  )  

       is a tautology.
13. Consider the statements below. Translate each into symbols, using the predicate

       (, ) for "person  can be fooled at time ." Decide whether any of the
       statements are equivalent to each other, or whether any imply any others, in
       this context or in general.

         (a) You can fool some people all of the time.

         (b) You can fool everyone some of the time.

         (c) You can always fool some people.
                                                                                                       1.3. Rules of Logic 61

         (d) Sometimes you can fool everyone.
14. Suppose () is some predicate for which the statement () is true. Is it also

       the case that () is true? In other words, is the statement ()  ()
       always true? Is the converse always true? Assume the domain of discourse is
       non-empty.
15. Simplifying negations will be especially useful when we try to prove a statement
       by considering what would happen if it were false. For each statement below,
       write the negation of the statement as simply as possible. Don't just say, "It is
       false that . . . "

         (a) Every number is either even or odd.

         (b) There is a sequence that is both arithmetic and geometric.

         (c) For all numbers , if  is prime, then  + 3 is not prime.
16. We can simplify statements in predicate logic using our rules for passing

       negations over quantifiers before applying logical equivalence to the "inside"
       propositional part. Simplify the statements below (so negation appears only
       directly next to predicates).

         (a) ¬(¬()  ()).

         (b) ¬¬¬( <   ( <    < )).

         (c) There is a number  for which no other number is less than or equal to .

         (d) It is false that for every number  there are two other numbers which 
              is between.

17. Simplify the statements below to the point that negation symbols occur only
       directly next to predicates.

         (a) ¬( <    < ).

         (b) ¬(()  ()).
                             1.4 Proofs

  Objectives

After completing this section, you should be able to do the following.
    · Identify the logical structure of, and distinguish between, direct proofs,
       a proof by contrapositives, and a proof by contradictions.
    · Identify flaws in an incorrect proof and determine whether they are
       flaws in logic or mathematical concepts.
    · Apply definitions to prove statements using basic proof styles.

1.4.1 Section Preview

  Investigate!

A mini sudoku puzzle is a 4 × 4 grid of squares, divided into four 2 × 2
boxes. The goal is to fill each square with a digit from 1 to 4, such that no
digit repeats in any row, any column, or any box.

    Here is a simple mini sudoku puzzle you can try to solve.

2            1

   4

          3

    You might notice that the solution to the above puzzle has its four outside
corners all different, and its four middle squares all different.

    The goal of this Investigate! question is to prove that this is not a
coincidence: Suppose a mini sudoku puzzle has all different numbers in
its four corners (marked with # below). Prove that the center four squares
(marked with  below) must also contain different numbers.

#            #

   **

   **

#            #

      62
                                           1.4. Proofs 63

Try it 1.4.1

 Try placing numbers into an empty mini sudoku puzzle. See if you can break
 the statement we were asked to prove in the Investigate! activity. What stops
 you? Briefly explain whether you think the statement is true or false, and
 why.

    Anyone who doesn't believe there is creativity in mathematics clearly has not
tried to write proofs. Finding a way to convince the world that a particular statement
is necessarily true is a mighty undertaking and can often be quite challenging. There
is no guaranteed path to success in the search for proofs. For example, in the summer
of 1742, a German mathematician by the name of Christian Goldbach wondered
whether every even integer greater than 2 could be written as the sum of two primes.
Centuries later, we still don't have a proof of this apparent fact (computers have
checked that Goldbach's conjecture holds for all numbers less than 4 × 1018, but no
proof that the statement holds for all numbers has been found).

    Writing proofs is a bit of an art. Like any art, to be truly great at it, you need
some sort of inspiration, as well as some foundational technique. Just as musicians
can learn proper fingering, and painters can learn the proper way to hold a brush,
we can look at the proper way to construct arguments.

    We can view a proof through two distinct but intersecting lenses. First, we can
think about the logical structure of a proof. Below we will consider three styles
of proof that vary precisely in their logical structure. Second, we can look at the
mathematical content of the proof. How does the proof illustrate understanding of
mathematical concepts? Does it use definitions of mathematical objects correctly?
How do the definitions interact with each other?

    Recall that in Section 1.3 we said that a tautology is a necessarily true statement,
but that it doesn't tell us anything interesting. Similarly, if a proof relied entirely
on the logical form of the statement it was proving, it wouldn't tell us anything
interesting about mathematics. Thus all the proofs we consider must involve some
combining of mathematical concepts in addition to their logical structure.

    In this section, we will see examples of how the interaction between logical
and mathematical structure plays out. We will think of the logical structure as the
skeleton or scaffolding of the proof and look at the different shapes this skeleton can
take. We will then see how the mathematical content of the proof fills in the details
of the skeleton, how it adds meat to the bones.

    It is often challenging to be careful about proofs when the statements we try to
prove seem too obvious or familiar. While we will definitely want to prove simple
facts about numbers, like that the sum of two even numbers is even, our familiarity
with numbers can make it difficult to take this task seriously. So instead, we will start
by proving some facts in what is hopefully a novel setting: mini sudoku puzzles.

                         Preview Activity

Consider the statement:
64 1. Logic and Proofs

       If  is an even number, then  or  is even.

Which of the proofs below appear to be valid proofs of this statement? Note: You
can assume all the algebra below is correct (because it is).

1. Suppose  and  are odd. That is,  = 2 + 1 and  = 2 + 1 for some integers
        and . Then

                                           = (2 + 1)(2 + 1)
                                              = 4 + 2 + 2 + 1
                                              = 2(2 +  + ) + 1.

           Therefore  is odd.
2. Assume that  or  is even -- say it is  (the case where  is even will be identical).

       That is,  = 2 for some integer . Then

                                                    = (2)
                                                       = 2().

           Thus  is even.
3. Suppose that  is even but  and  are both odd. Namely,  = 2,  = 2 + 1

       and  = 2 + 1 for some integers , , and . Then

                                            2 = (2 + 1)(2 + 1)
                                            2 = 4  + 2 + 2 + 1

                                              = 2 +  +  + 1.
                                                                     2

           But since 2  +  +  is an integer, this says that the integer  is equal to a
       non-integer, which is impossible.
4. Let  be an even number, say  = 2, and  be an odd number, say  = 2 + 1.

                                                      = (2 + 1)
                                                     2 = 2 + 
                                             2 - 2 = 
                                            2( - ) = .

           Therefore  must be even.

                                    1.4.2 Direct Proof

The simplest style of proof is direct proof. Often all that is required to prove
something is a systematic explanation of what everything means. You look at
the definitions, carefully explain and unpack their meaning, until you see that the
conclusion is true.
                                                                                                                1.4. Proofs 65

    To illustrate the importance of definitions in a proof, let's give a few careful
definitions about mini sudoku puzzles.

     Definition 1.4.2 Mini Sudoku Definitions.

    A mini sudoku puzzle is a partially filled in 4 × 4 grid of squares, divided
    into four 2 × 2 boxes. Each square can be empty or contain a digit from 1 to 4.

         We say that a mini sudoku puzzle is valid provided no digit from 1 to 4
    appears more than once in any row, any column, or any box.

         A solution to a mini sudoku puzzle is a valid puzzle with no empty
    squares and every non-empty square of the puzzle unchanged.

         We say that a mini sudoku puzzle is solvable if there is exactly one
    solution.

    First, let's prove a useful and "obvious" fact about any valid mini sudoku puzzle.

     Proposition 1.4.3

    Any solution to a mini sudoku puzzle will have each digit from 1 to 4 appear exactly
    once in each row, in each column, and in each box, appearing a total of four times.

    That's obvious, you say! Isn't that exactly what a valid puzzle is? Well, a valid
completed puzzle, which is what we mean by a solution, right? Okay, not exactly,
since valid means that no digit repeats... isn't that the same thing?

    Yes! Exactly! Saying this is a direct proof.
Proof. Suppose you have a solution to a mini sudoku puzzle. That means that
you have a 4 × 4 grid with each square filled in with a digit from 1 to 4 that is
valid.4 Since the puzzle is valid, no digit repeats in any row, any column, or any
box5. Since a row contains four numbers that do not repeat, and there are exactly
four possible digits, each of those digits must appear exactly once. This is true for
every row, and for every column, and for every box.

    For each digit, since it appears exactly once in four different rows, it appears
exactly four times. This completes the proof.

    Remark 1.4.4 The proof contained one key mathematical idea besides just
    explaining definitions: If four distinct numbers are chosen from a set of four
    numbers, then all four numbers are chosen. Perhaps you want to also explain
    why this is true, or just say it is an example of the pigeonhole principle (we
    will say what this is soon). How much you explain depends on who you are
    writing the proof for. A little paranoia when writing proofs is healthy.

         Indeed, in most contexts, we wouldn't even need to write out any of the
    above proof. It would probably be sufficient to say, "Clearly this follows

    4Definition of solution
    5Definition of valid
66 1. Logic and Proofs

    from the definitions." However, we are currently trying to learn how to write
    proofs, and it can be useful to be overly pedantic so we can focus on the proof
    structure and the importance of applying definitions.

    Let's prove something about a particular sudoku puzzle.

  Example 1.4.5

    Prove that for any solution to the mini sudoku puzzle below, if the solution
    has a 2 in the top-left square (r1c1), then it will contain a 2 in the bottom-right
    square (r4c4).

                                                13
                                                            1
                                                            3

Solution. We do not know whether the puzzle is solvable (in fact, it is not),

although note that it is valid right now. What we want to prove is that if 2 is

in the top-left square in any particular solution, then that solution contains a 2

in the bottom-right square.

Proof. Let  be a solution to the puzzle, and assume that  contains a 2 in
the top-left square. Since  is a valid puzzle, no digit repeats in any row, any

column, or any box. Look first at the top row. Since the row already contains

1, 2, and 3, the remaining open square (r1c4) must be a 4.

Now look at column 4 (the right-most column). Since we now know the

top-right square is a 4, this column already contains 1, 3, and 4. So the last

open square (r4c4) must be a 2.
    Thus  contains a 2 in the bottom-right square, which is what we needed

to prove.                                                   

    Observe the general form of the argument above. We were trying to prove an
implication   : If there was a 2 in r1c1, then there was a 2 in r4c4. We started by
assuming  was true. From that, we deduced something, and from that something
we deduced . This is exactly what a direct proof of an implication    looks
like (we could have had more steps between the  and  as well).

       Assume . Explain, explain, . . . , explain. Therefore .

The one additional consideration we must make is that often we are proving a
general, universal statement, a statement of the form (()  ()). To handle
the quantifier, we fix an arbitrary instance of . Above, we said, "Let  be a solution
to the puzzle." Since we made no additional assumptions about  besides that 
                      1.4. Proofs 67

was true about it, we say that  was an arbitrary solution.

    If we wanted to prove that all squares are rectangles, we first realize that this is

the same as saying, "For any shape, if the shape is a square, then it is a rectangle."
In symbols, (()  ()). We will want to assume () is true and deduce ().
Which  do we use? An arbitrary one, so our proof can be applied to all possible .

Example 1.4.6

Prove that for any mini sudoku puzzle with three empty squares, if the puzzle
has a solution, then the puzzle is solvable.

Solution. Is this obvious? If a puzzle has a solution, then it is solvable,
right? Not at all! Look again at the Mini Sudoku Definitions: Just because
a puzzle has a solution doesn't mean that it has exactly one solution (i.e., it
is solvable). But even if we don't think this needs a proof, let's be paranoid
again and use this as an excuse to focus on the logical structure of the proof.

    Notice that we are proving that the claim is true no matter what mini
sudoku puzzle we start with. We might start with this puzzle:

               3  42

               2431

               1  4

               4213

    Clearly there is only one way to complete the puzzle: The top row has
only one open square, so we can only put one digit in it, and then columns 2
and 3 only have one open square each, so we can fill those uniquely.

    Looking at a single example can often be helpful when crafting a proof,
but proving a general statement with an example is NEVER a correct proof.

    While there are only around 152.58 billion mini sudoku puzzles (and most
of those are not valid, fewer have solutions, and even fewer have exactly one
empty square), we don't really want to check all possible puzzles. So instead,
we fix an arbitrary valid mini sudoku puzzle. We assume that it has a solution
and has exactly three open squares. From this, we prove that there is only
one possible solution.

Proof. Let  be an arbitrary mini sudoku puzzle. Assume  has exactly
three empty squares and that  is a solution.

    Since  is arbitrary, we don't know how the three empty squares are
arranged. They could all be in different rows, or two could be in the same
row, or all three could be in the same row.

    If all the empty squares are in different rows, then in each row, there
is exactly one empty square. The other three squares are filled with three
different digits (since the puzzle is valid), so there is only one choice to fill the
68 1. Logic and Proofs

empty square. This number must be the number used in the solution .

Now consider the case where two of the empty squares are in the same

row, and the third square is in a different row. The third empty square's row

has three different digits, so there is only one choice for the last square, and it
must agree with . Once this is filled in, the other two empty squares must

be in two different columns, each of which has three filled-in digits. In each

of these columns, the three filled-in digits are different, so there is only one
choice for the empty square. So again, any solution must be exactly .

Finally, if all three empty squares are in the same row, then they are all in

different columns. So using the same argument as we did when the empty
squares were in different rows, but using columns instead, we see that  is

the only solution.

We have considered all possible cases, and in each case,  is the only

solution, so  is solvable.                                           

Direct proof can, of course, be used to prove statements in mathematics too.

Example 1.4.7

Prove: For all integers , if  is even, then 2 is even.

Solution. The format of the proof will be this: Let  be an arbitrary integer.
Assume that  is even. Explain explain explain. Therefore 2 is even.

    To fill in the details, we explain what it means for  to be even, and then
see what that means for 2. The definition that is relevant here is, "An integer
 is even if there is an integer  such that  = 2." Here is a complete proof.

Proof. Let  be an arbitrary integer. Suppose  is even. Then  = 2 for
some integer . Now 2 = (2)2 = 42 = 2(22). Since 22 is an integer, 2 is

even.                                                                

Example 1.4.8

 Prove: For all integers , , and , if  is a multiple of , and  is a multiple of
 , then  is a multiple of .

 Solution. Even if we don't remember exactly what "is a multiple of" means,
 we can set up a direct proof for this statement. It will go something like this:
 Let , , and  be arbitrary integers. Assume that  is a multiple of  and that
  is a multiple of . Dot dot dot. Therefore  is a multiple of .

      How do we connect the dots? We say what our hypothesis really means
 and why this gives us what the conclusion really means. This is where we
 need the definition of  is a multiple of : This means that  =  for some
 integers . What are we going for? That  = , for some integer . Here is the
 complete proof.
                                                           1.4. Proofs 69

Proof. Let , , and  be integers. Assume that  is a multiple of  and that 
is a multiple of . So there are integers  and  such that  =  and  = .

Combining these (through substitution) we get that

 = () = ().

But  is an integer, so this says that  is a multiple of .  

                           1.4.3 Proof by Contrapositive

Recall that an implication    is logically equivalent to its contrapositive
¬  ¬. There are plenty of examples of statements that are hard to prove directly,
but whose contrapositive can easily be proved using a direct proof. This is all that
proof by contrapositive does. It gives a direct proof of the contrapositive of the
implication. This is enough because the contrapositive is logically equivalent to the
original implication.

    The skeleton of the proof of    by contrapositive will always look roughly
like this:

       Assume ¬. Explain, explain, . . . explain. Therefore ¬.

As before, if there are variables and quantifiers, we set them to be arbitrary elements
of our domain.

  Example 1.4.9

    Prove that if a mini sudoku puzzle is solvable, then it is valid.
    Solution. Remember, a puzzle is valid provided no row, column, or box
    contains a repeated digit. A puzzle is solvable if there is exactly one solution,
    where a solution is a valid puzzle with no empty squares (that doesn't change
    any previously filled-in square).

         If we try a direct proof, we would start with an arbitrary puzzle and
    assume it is solvable. We could then "get" the solution, but would need to
    reason back in time to when the puzzle started. This seems hard. Often,
    when a proof seems to require breaking things apart, it is easier to try the
    contrapositive. That's what we will do.
    Proof. Let  be an arbitrary mini sudoku puzzle and assume that it is not
    valid. This means that in at least one row, or one column, or one box, some
    digit appears more than once.

         Now suppose we have filled in the empty squares but not changed any
    previously filled-in squares. The original row, column, or box that contained
    a duplicate digit will still contain that duplication, so the resulting completed
    puzzle will not be valid. Thus no solution to  exists, so  is not solvable. 

         We have proved that if a mini sudoku puzzle is not valid, then it is not
    solvable, which is the contrapositive of what we wanted to prove and so
70 1. Logic and Proofs

serves as a proof of the original statement.

Here are a couple more mathy examples.

Example 1.4.10

Is the statement, "For all integers , if 2 is even, then  is even," true?

Solution. This is the converse of the statement we proved in Example 1.4.7

above using a direct proof. From trying a few examples, this statement

appears to be true. So let's prove it.
    A direct proof of this statement would require fixing an arbitrary  and

assuming that 2 is even. But it is not at all clear how this would allow us to
conclude anything about . Just because 2 = 2 does not in itself suggest
how we could write  as a multiple of 2.

    Try something else: Write the contrapositive of the statement. We get, for
all integers , if  is odd, then 2 is odd. This looks much more promising.

    We need a definition of a number being odd. An integer  is odd provided
 = 2 + 1 for some integer . Our proof will look something like this:

    Let  be an arbitrary integer. Suppose that  is not even. This means that
. . . . In other words . . . . But this is the same as saying . . . . Therefore 2 is not

even.

    Now we fill in the details.

Proof. We will prove the contrapositive. Let  be an arbitrary integer.

Suppose that  is not even, and thus odd. Then  = 2 + 1 for some integer

. Now 2 = (2 + 1)2 = 42 + 4 + 1 = 2(22 + 2) + 1. Since 22 + 2 is an

integer, we see that 2 is odd and therefore not even.                       

Example 1.4.11

Prove that for all integers  and , if  +  is odd, then  is odd or  is odd.

Solution. The problem with trying a direct proof is that it will be hard to
separate  and  from knowing something about  + . On the other hand, if
we know something about  and  separately, then combining them might
give us information about  + . The contrapositive of the statement we are
trying to prove is: for all integers  and , if  and  are even, then  +  is

even. Thus our proof will have the following format:
    Let  and  be integers. Assume that  and  are both even. la la la.

Therefore  +  is even.

Here is a complete proof.

Proof. Let  and  be integers. Assume that  and  are even. Then  = 2

and  = 2 for some integers  and . Now  +  = 2 + 2 = 2( + ). Since

 +  is an integer, we see that  +  is even, completing the proof.           
                                               1.4. Proofs 71

    Note that our assumption that  and  are even is the negation of  or  is
odd. We used De Morgan's law here.

    Direct proofs and proofs by contrapositive can be used when proving implications.
Remember that some statements that are not explicitly written as an implication can
be rephrased as one.

Example 1.4.12

Consider the statement, "For every prime number , either  = 2, or  is odd."
We can rephrase this as, "For every prime number , if   2, then  is odd."

Now try to prove it.
    Use the following as the definition of a prime number: An integer  > 1 is

prime provided it has exactly two factors, namely 1 and .

Solution.

Proof. Let  be an arbitrary prime number. Assume  is not odd. So  is

divisible by 2. Since  is prime, it must have exactly two divisors, and it has

2 as a divisor, so  must be divisible by only 1 and 2. Therefore  = 2. This

completes the proof (by contrapositive).       

                 1.4.4 Proof by Contradiction

Take a step back and consider what it would mean if the conclusion of an argument
were false. There are two reasons this could happen. Either the logic in the argument
is faulty, or at least one assumption must be false. A proof by contradiction exploits
this second possibility. We start with a single assumption and construct a valid proof
that leads to a false conclusion; the only possibility is that the single assumption was
false. The false conclusion is the "contradiction," which just means a necessarily
false statement (technically a statement of the form   ¬).

    The general form of a proof by contradiction to prove a statement  is,

       Assume ¬ (that  is not true). This means that..., which tells us..., so
       we can say... But that is a contradiction, so  must in fact be true.

Note that if we think of this style of argument as a direct proof of something, it is a

direct proof of

                 ¬  contradiction.

So we have a valid proof of this implication. How can a true implication have a false
conclusion? Recall the truth table for an implication (Figure 1.2.2). The only row
in which the implication is true but the conclusion is false is row 4, and here the
hypothesis is also false. So ¬ is false, which is to say  is true.

    Once you start writing proofs by contradiction, it becomes very natural. Let's
see how with a sudoku proof.
72 1. Logic and Proofs

Example 1.4.13

Prove that any solution to the mini sudoku puzzle below must contain a 3 in
the top-right corner (r1c4).

                             2
                             3
                        3

                                         1

Solution. There are multiple ways we could prove this, which is often the

case for proofs by contradiction. While we would always start with the

same initial assumption (the opposite of what we want to prove), where the

contradiction is found can vary.

Proof. Let  be a solution to the puzzle, but assume that  does not contain a

3 in the top-right corner. Then the top row must contain a 3 somewhere else.

It cannot be in column 1, since it already has a 3. It cannot be in column 2,

since that square is already filled in (with the 2). It also cannot be in column

3, since if it was, there would be no place to put a three in the bottom row. So

there would be no 3 in the top row, contradicting that  is a solution.

Therefore  must contain a 3 in the top-right corner.                    

Example 1.4.14
 Prove that there is no solution to the sudoku puzzle below.
                                        4

                                  1
                                             4

Solution.  Look at the logical format of this statement:
                               ¬( is a solution ).

Using the rules for negation of quantifiers, this is the same as
                                   ( is not a solution).

If we were to prove this directly, we would need to consider all possible
solutions and show that they are not valid. That seems quite challenging.
                                                                                   1.4. Proofs 73

    On the other hand, if we try a proof by contradiction, we get to assume
the negation of the statement we are asked to prove. That is, we can assume
that there is a solution. That is a single solution we can reason about. Much
more manageable.

Proof. Suppose, for the sake of contradiction, that there does exist a solution

to the puzzle. This solution must have a 4 in the bottom-left box. But the only

squares that can hold a 4 are either in row 4 or column 1 (or both). In either

case, this contradicts that there is a 4 already in column 1 and row 4.                         

Here are three examples of proofs by contradiction about numbers:

Example 1.4.15

              
Prove that 2 is irrational.

Solution.  
Proof. Suppose not. Then 2 is equal to a fraction  . Without loss of
                        
generality,  assume       is  in  lowest  terms  (otherwise   reduce    the    fraction).  So,

                                               2
                                          2 = 2

                                          22 = 2.

    Thus 2 is even, and as such  is even. So  = 2 for some integer , and
2 = 42. We then have,

                                            22 = 42

                                          2 = 22.

Thus  2      is  even,  and   as  such    is  even.  Since    is  also  even,  we  see  that    is
                                                                                              

not in lowest terms, a contradiction. Thus 2 is irrational.                                     

Example 1.4.16

Prove: There are no integers  and  such that 2 = 4 + 2.

Solution.

Proof. We proceed by contradiction. So suppose there are integers  and

 such that 2 = 4 + 2 = 2(2 + 1). So 2 is even. We have seen that this

implies that  is even. So  = 2 for some integer . Then 2 = 42. This in

turn gives 22 = (2 + 1). But 22 is even, and 2 + 1 is odd, so these cannot

be equal. Thus we have a contradiction, so there must not be any integers 

and  such that 2 = 4 + 2.                                                                       
74 1. Logic and Proofs

Example 1.4.17

The Pigeonhole Principle: If more than  pigeons fly into  pigeonholes,
then at least one pigeonhole will contain at least two pigeons. Prove this!

Solution.

Proof. Suppose, contrary to stipulation, that each of the pigeonholes contains

at most one pigeon. Then at most, there will be  pigeons. But we assumed

that there are more than  pigeons, so this is impossible. Thus there must be

a pigeonhole with more than one pigeon.                        

    While we phrased this proof as a proof by contradiction, we could have
also used a proof by contrapositive since our contradiction was simply the
negation of the hypothesis. Sometimes this will happen, in which case
you can use either style of proof. There are examples, however, where the
contradiction occurs "far away" from the original statement.

                           1.4.5 Summary of Proof Styles

We have considered three styles of proof: direct proof, proof by contrapositive, and
proof by contradiction. It can be challenging to decide which style of proof to use
on a given problem, and no rule will always tell us what to do. Often, there are
multiple ways you can proceed in a proof, which is one reason math is so exciting.

    A good starting point when writing proofs is to consider what the initial
assumption would be with each style, and what the conclusion you would be looking
for is. A proof is a little like a kids-menu maze. There is a START and an EXIT, and
your goal is to find your way from one to the other. Sometimes it helps to work your
way in from both sides and hopefully meet in the middle.

Starts and Ends Proofs.
   To prove an implication   :

           Direct       Start: Assume .
Contrapositive              End: Therefore .
 Contradiction
                        Start: Assume ¬.
                            End: Therefore ¬.

                        Start: Assume ¬(  ).

                            End: ...which is a contradiction.

    You can use a proof by contradiction even if you are not trying to prove an
implication, but if the statement is an implication, then assuming ¬(  ) is really
powerful. Remember, the only way for an implication to be false is for  to be true
and  to be false. So we are actually assuming   ¬. Aha!  is what we assume
in a direct proof. ¬ is what we assume in a proof by contrapositive. So a proof by
        1.4. Proofs 75

contradiction is like doing the other two proofs at the same time, and meeting in the middle!

    To illustrate this, let's prove the fact from the Investigate! activity. We will prove
that if a mini sudoku puzzle has all different numbers in its corners (marked with 
through  below), then the center four squares (marked with  below) must also

contain different numbers (in any solution).

      

  **

  **

      

    We will give three proofs, first a direct proof, then a proof by contrapositive, and
finally a proof by contradiction.

Proof. Let  be a sudoku puzzle with all different numbers in its corners:  in the
top-left,  in the top-right,  in the bottom-left, and  in the bottom-right. Let  be
any solution to the puzzle.

    In , whatever digit  is must appear in row 2. Since  is already in the top-left
box, it cannot appear in columns 1 or 2, so it must appear in columns 3 or 4. If it is
in column 3, then  appears in one of the center squares. If not, then it is in column
4. In this latter case, we ask where  appears in row 3: It cannot be in column 1 or
4, so it must be in column 2 or 3, and thus in one of the center squares.

    The same argument can now be applied to each of the other three outer squares.
Thus, in any solution to the puzzle, the center four squares must contain the digits
 through , all different.

    Now we will prove the same statement by contrapositive.

Proof. Let  be a mini sudoku puzzle with numbers in its corners. Let  be any
solution to the puzzle. Assume that the center four squares do not contain all
different numbers in . Then there must be some common number, say , in two
of the center squares.

    Since  cannot appear twice in a row, it must be that  is in two center squares
diagonally from each other: either in r2c2 and r3c3, or in r2c3 and r3c2. In either
case, where could  be in rows 1 and 4? It cannot be in columns 2 or 3, so it must be
in columns 1 and 4. This means that  will be in opposite outer corners, meaning
that the digits in the four corners are not all different.

    Finally, we will prove the same statement by contradiction.

Proof. Let  be a mini sudoku puzzle and assume that the four outer corners are
all different, but in some solution , the center four squares are not all different.

    Suppose , the digit in the top-left corner, appears twice in the center four
squares. The only way this can happen is if  appears in r3c2 and r2c3, as shown
below.
76 1. Logic and Proofs

                             

                          *

                          *

                             

    But now, where can the fourth  in the go in the solution? It must be in r4c4,
contradicting that the four corners are all different. An analogous argument leads
to a contradiction for each of the other possible outer corner digits being repeated
in the center. Thus, the center four squares must contain all different numbers.

                               1.4.6 Reading Questions

1. Which of the following would be the best first line of a direct proof if you wanted
       to prove the statement, "For all sets  of single-digit numbers, if || = 6, then
        contains an even number."

          A. Suppose there exists a set  of single-digit numbers with || = 6 but that
              contains only odd numbers.

          B. Fix an arbitrary set  of single-digit numbers, and assume || = 6.

          C. Suppose  is a set of single-digit numbers with ||  6.

          D. Let  be a set of single-digit numbers that contains an even number.

          E. Let  be a set of single-digit numbers, and assume that  does not contain
              any even numbers.

2. Which of the following would be the best first line of a proof by contrapositive if
       you wanted to prove the statement, "For all sets  of single-digit numbers, if
       || = 6, then  contains an even number."

          A. Suppose there exists a set  of single-digit numbers with || = 6 but that
              contains only odd numbers.

          B. Fix an arbitrary set  of single-digit numbers, and assume || = 6.

          C. Suppose  is a set of single-digit numbers with ||  6.

          D. Let  be a set of single-digit numbers that contains an even number.

          E. Let  be a set of single-digit numbers, and assume that  does not contain
              any even numbers.

3. Which of the following would be the best first line of a proof by contradiction if
       you wanted to prove the statement, "For all sets  of single-digit numbers, if
                                                                                                                1.4. Proofs 77

       || = 6, then  contains an even number."

          A. Suppose there exists a set  of single-digit numbers with || = 6 but that
              contains only odd numbers.

          B. Fix an arbitrary set  of single-digit numbers, and assume || = 6.
          C. Suppose  is a set of single-digit numbers with ||  6.
          D. Let  be a set of single-digit numbers that contains an even number.
          E. Let  be a set of single-digit numbers, and assume that  does not contain

              any even numbers.
4. What questions do you have after reading this section? Write at least one

       question about the content of this section that you are curious about.

                                1.4.7 Practice Problems

1. Arrange some of the statements below to form a correct proof of the following
       statement: "For any integer , if  is even, then 7 is even."

           · Let  be an arbitrary integer, and assume 7 is even.
           · Let  be an arbitrary integer, and assume 7 is odd.

           · Since 7 is odd and the product of an odd number and an odd number is
              odd,

           · Since an even number divided by 7 must be odd,
           ·  must be even.
           · 7 must be odd.
           · Let  be an arbitrary integer, and assume  is even.

           · Since the product of any number with an even number is even,
           · 7 must be even.
2. Arrange some of the statements below to form a correct proof of the following
       statement: "For any integer , if 7 is even, then  is even."

           · Let  be an arbitrary integer, and assume  is even.

           · Since the 7 is odd and the product of an odd number with an even number
              is even,

           · 7 must be even.
           · Let  be an arbitrary integer, and assume 7 is even.
78 1. Logic and Proofs

           · Since an even number divided by 7 must be even,

           ·  must be even.

           · Let  be an arbitrary integer, and assume  is odd.

           · Since 7 is odd and the product of an odd number and an odd number is
              odd,

           · 7 must be odd.
3. Consider the statement, "For any numbers  and , if  +  is odd, then either 

       or  is odd".
           Give a valid proof of the statement using a proof by contrapositive. Arrange

       some statements below to complete the proof.

           · Let  and  be integers, and assume that  +  is odd.

           · Let  and  be integers, and assume that if  +  is odd, then either  or 
              is odd.

           · Let  and  be integers, and assume both are even.

           · The sum of two even integers must also be even.

           · Therefore  +  is even.

           · Let  and  be integers and assume that  +  is odd but  and  are both
              even.

           · The sum of two odd integers must be even.

           · But then  +  is both even and odd, a contradiction.
4. Consider the same statement, "For any numbers  and , if  +  is odd, then

       either  or  is odd."
           Give a valid proof of the statement, this time using a proof by contradiction

       using some of the statements below.

           · Let  and  be integers, and assume that  +  is odd.

           · Let  and  be integers, and assume that if  +  is odd, then either  or 
              is odd.

           · Let  and  be integers, and assume both are even.

           · Let  and  be integers, and assume that  +  is odd but  and  are both
              even.

           · Therefore  +  is even.

           · The sum of two even integers must also be even.
                                      1.4. Proofs 79

           · The sum of two odd integers must be even.

           · But then  +  is both even and odd, a contradiction.
5. Below are three statements together with a possible first line of a proof of that

       statement. In each case, say whether the first line is the start of a direct proof, a
       proof by contrapositive, or a proof by contradiction.

(a) Statement: For every integer , the number 7 - 1 is divisible by 6.
     First line: Suppose there were some integer  for which 7 - 1 was not
     divisible by 6.

(b) Statement: For any integer , if  is prime, then  is solitary
     First line: Let  be an integer, and assume  is not solitary.

         (c) Statement: If a shape is a pentagon, then its interior angles add up to 480
              degrees.

              First line: Consider an arbitrary shape, and assume it is a pentagon.

6. What would the first line be for a proof in each style, of the following statement:
      "If a function  :    is a bection, then || = ||."

Assume  :    is a bection             Direct proof
Assume  :    is a bection and ||  ||  Proof by contrapositive
Assume ||  ||                         Proof by contradiction

                              1.4.8 Additional Exercises

1. For a given predicate (), you might believe that the statements () or
       () are either true or false. How would you decide if you were correct in
       each case? You have four choices: You could give an example of an element 
       in the domain for which () is true or for which () is false, or you could
       argue that no matter what  is, () is true or is false.

         (a) What would you need to do to prove () is true?

         (b) What would you need to do to prove () is false?

         (c) What would you need to do to prove () is true?

         (d) What would you need to do to prove () is false?
2. Consider the statement, "For all integers  and , if  +  is even, then  and 

       are even."

         (a) Write the contrapositive of the statement.

         (b) Write the converse of the statement.

         (c) Write the negation of the statement.
80 1. Logic and Proofs

         (d) Is the original statement true or false? Prove your answer.

         (e) Is the contrapositive of the original statement true or false? Prove your
              answer.

          (f) Is the converse of the original statement true or false? Prove your answer.

         (g) Is the negation of the original statement true or false? Prove your answer.
3. For each of the statements below, say what method of proof you should use to

       prove them. Then say how the proof starts and how it ends. Bonus points for
       filling in the middle.

         (a) There are no integers  and  such that  is a prime greater than 5 and
               = 6 + 3.

         (b) For all integers , if  is a multiple of 3, then  can be written as the sum
              of consecutive integers.

         (c) For all integers  and , if 2 + 2 is odd, then  or  is odd.
4. Consider the statement, "For all integers , if  is even then 8 is even."

         (a) Prove the statement. What sort of proof are you using?

         (b) Is the converse true? Prove or disprove.
5. The game TENZI comes with 40 six-sided dice (each numbered 1 to 6). Suppose

       you roll all 40 dice.

         (a) Prove that there will be at least seven dice that land on the same number.

         (b) How many dice would you have to roll before you were guaranteed that
              some four of them would all match or all be different? Prove your answer.

6. Prove that for all integers , it is the case that  is even if and only if 3 is even.
       That is, prove both implications: If  is even, then 3 is even, and if 3 is even,
       then  is even.
                     

7. Prove that 3 is irrational.
8. Consider the statement, "For all integers  and , if  is even and  is a multiple

       of 3, then  is a multiple of 6."

         (a) Prove the statement. What sort of proof are you using?

         (b) State the converse. Is it true? Prove or disprove.
9. Prove the statement, "For all integers , if 5 is odd, then  is odd." Clearly

       state the style of proof you are using.
10. Prove the statement, "For all integers , , and , if 2 + 2 = 2, then  or  is

       even."
                                                                                                                1.4. Proofs 81

11. Suppose that you would like to prove the following implication:

              For all numbers , if  is prime then  is solitary.

      Write out the beginning and end of the argument if you were to prove the
       statement,

         (a) Directly

         (b) By contrapositive

         (c) By contradiction

           You do not need to provide the middle parts of the proofs (since you do
       not know what solitary means). However, make sure that you give the first
       few and last few lines of the proofs so that we can see the logical structure you
       would follow.
12. Suppose you have a collection of rare 5-cent stamps and 8-cent stamps. You
       desperately need to mail a letter and, having no other stamps available, decide
       to dip into your collection. The question is, what amounts of postage can you
       make?

         (a) Prove that if you only use an even number of both types of stamps, the
              amount of postage you make must be even.

         (b) Suppose you made an even amount of postage. Prove that you used an
              even number of at least one of the types of stamps.

         (c) Suppose you made exactly 72 cents of postage. Prove that you used at
              least 6 of at least one type of stamp.
                                                    ( + )2

13. Prove:  =  if and only if   = 4 . Note, you will need to prove two
      "directions" here, the "if" and the "only if" part.

14. Prove that log(7) is irrational.
15. Prove that there are no integer solutions to the equation 2 = 4 + 3.
16. Prove that every prime number greater than 3 is either one more or one less

       than a multiple of 6.
17. Your "friend" has shown you a "proof" he wrote to show that 1 = 3. Here is

       the proof:
       Proof. I claim that 1 = 3. Of course we can do anything to one side of an
       equation as long as we also do it to the other side. So subtract 2 from both
       sides. This gives -1 = 1. Now square both sides, to get 1 = 1. And we all
       agree this is true.

           What is going on here? Is your friend's argument valid? Is the argument a
       proof of the claim 1 = 3? Carefully explain using what we know about logic.
82 1. Logic and Proofs

18. A standard deck of 52 cards consists of 4 suits (hearts, diamonds, spades, and
       clubs) each containing 13 different values (Ace, 2, 3, . . . , 10, J, Q, K). If you
       draw some number of cards at random, you might or might not have a pair
       (two cards with the same value) or three cards all of the same suit. However, if
       you draw enough cards, you will be guaranteed to have these. For each of the
       following, find the smallest number of cards you would need to draw to be
       guaranteed having the specified cards. Prove your answers.

         (a) Three of a kind (for example, three 7's).

         (b) A flush of five cards (for example, five hearts).

         (c) Three cards that are either all the same suit or all different suits.
19. Suppose you are at a party with 19 of your closest friends (so including you,

       there are 20 people there). Explain why there must be at least two people at the
       party who are friends with the same number of people at the party. Assume
       friendship is always reciprocated.
20. Your friend has given you his list of 115 best Doctor Who episodes (in order of
       greatness). It turns out that you have seen 60 of them. Prove that there are at
       least two episodes you have seen that are exactly four episodes apart on your
       friend's list.
21. Suppose you have an  ×  chessboard, but your dog has eaten one of the corner
       squares. You have dominoes that each cover exactly two squares of the board.
       Can you cover the remaining squares on the board with non-overlapping
       dominoes? What needs to be true about ? Give necessary and sufficient
       conditions (that is, say exactly which values of  work and which do not work).
       Prove your answers.

22. What if your  ×  chessboard is missing two opposite corners? Prove that
       no matter what  is, you will not be able to cover the remaining squares with
       non-overlapping dominoes.
             1.5 Proofs about Discrete Structures

       Objectives

     After completing this section, you should be able to do the following.

         · Read and comprehend definitions related to discrete structures, so
             you can apply the definitions correctly.

         · Write proofs about discrete structures.

                                  1.5.1 Section Preview

       Investigate!

     Suppose there are 15 people at a party. Most people know each other already,
     but there are still some people who decide to shake hands. Is it possible for
     everyone at the party to shake hands with exactly three other people?

    So far we have seen how the logical form of a statement can inform how to build
the scaffolding of a proof. This can only get us so far though: To flesh out the proof
skeleton requires an understanding of the mathematical objects and structures the
proofs are about. Some of this can come from carefully reading definitions. Yet there
is also some less concrete understanding and intuition that comes from working
with the objects and structures that can lead to that "ah-ha!" moment of inspiration
that suggests how to proceed with a proof.

    By the way... Why are we writing proofs? Besides practice in becoming better
    reasoners, diving into careful proofs about discrete structures is a way to learn
    more about the structures themselves. They are a playground for exploring
    mathematics, to help us build intuition for mathematical structures. So we
    study structures to help us write proofs about them, and we write proofs
    about them to help understand the structures. Bootstrapping!

    Another reason to shift our focus toward proofs about discrete structures is that
doing so illustrates an important feature of mathematics: abstraction. We have
been proving particular facts about particular problems. We might even start to
notice similarities between the proofs for some statements. This might be due to the
underlying mathematical structures that the problems are (secretly) about. If we
prove the general facts about these structures, then we can apply these "theorems"
to many different problems.

    Some discrete structures lend themselves to particular styles of proof and some

                                                     83
84 1. Logic and Proofs

"standard" proof techniques can apply to particular structures. We will see some of
this here, but mostly we take this opportunity to remind ourselves of some of the
basic definitions and properties for discrete structures, and use the proofs about
them to help understand these better.

                                           Preview Activity

In this preview activity, we will explore some basic properties of sets and functions.
Later in this section, we will write proofs about these ideas.

1. Remember that a set is just a collection of elements. Here are two definitions
       about sets:

           a. A set  is a subset of a set , written   , provided every element in 
               is also an element of .

           b. Given sets  and , the union of  and , written   , is the set
               containing every element that is in  or  or both.

            Let's build some examples.

          (a) Let  = {1, 3, 5, 7, 9}. Give an example of a set  containing 3 elements
               that is a subset of .
              What is    for the set  you gave as an example?

         (b) Give an example of two distinct sets  and  such that    = .
               For the example you gave, is   ?

          (c) Find examples, if they exist, of sets  and  such that     .
               For the example you gave, is   ?

2. Which of the following are always true?

          A. For any sets  and ,     .

          B. For any sets  and ,     .

          C. For any sets  and , if   , then     .

          D. For any sets  and , if    = , then   .
3. For any function  :    and any set   , we can define the image of 

       under  to be the set of all outputs of  when the input is an element of . We
       write this as  () = {  () :   }.

           For the following tasks, let's explore the function  :    defined by
        () = 2 - 3 + 8.

          (a) Let  = {1, 2, 3} and  = {2, 4, 6}. Find  () and  (). Then find  () 
                ().
                                                                    1.5. Proofs about Discrete Structures 85

(b) Now find    and  (  ).

(c) Give an example, if one exists, of two distinct sets  and  such that
        and  ()   ().
     Give an example, if one exists, of two distinct sets  and  such that
        but  ()   ().

              1.5.2 Proofs about Sets

Recall that a set is an unordered collection of elements. We can describe a set by

listing these elements, or by specifying a property that all elements in the set satisfy.

For example,

               = {1, 2, 3, 4, 5},

or
                                        = {   :  < 10}.

The second set here is the set of natural numbers (0, 1, 2, . . .) less than 10. Notice
that every element in  is also an element of . Here is a definition that captures
that idea.

 Definition 1.5.1

A set  is a subset of a set , written   , provided every element of  is
also an element of .

    The set  is sometimes called a superset of .
    We say  is a proper subset of , written   , provided    and
  . In other words, if every element in  is an element in , and there is
at least one element in  that is not in .

Example 1.5.2

 Let  = {   :  < 5} and  = {   : 2 < 10}. Is   ? Is  a proper
 subset of ?

 Solution. We are asking whether every natural number less than 5 is also a
 natural number whose square is less than 10. Okay, we could just write out
 the elements of the sets:  = {0, 1, 2, 3, 4} and  = {0, 1, 2, 3} (since 32 = 9
 and 42 = 16). So   . But   , so in fact   .

    The sets in the example above were small, and it is easy enough to write down

the elements of the sets. However, we can also prove subset relationships between

sets if this isn't practical or even possible (perhaps the sets are infinite). Let's look

carefully at how we could have reasoned about the example above.
    We claimed that every element of  was also an element of . Another way

to say this: For all numbers , if  is an element of , then  is also an element of
. Recognizing this as a conditional statement, we can proceed to give a direct,
86 1. Logic and Proofs

contrapositive, or contradiction proof of the fact. Here a direct proof would be
perfectly acceptable. Let's try it:

Proof. Let  be an element of the set . Then 2 < 10, by the definition of . Since
42 = 16, we must have that  < 4. By the definition of , and the fact that 4 < 5,
we see that   .

    To be clear, this proof is way more than we would normally do for this example,
but its format should be illuminating. Proving that one set is a subset of another is
really the same as proving an implication!

    To give an example of how we can apply the definition of "subset" in a more
general setting, let's prove a basic fact about subsets.

      Proposition 1.5.3

    For any sets , , and , if    and   , then   .

Proof. We will give a direct proof. Let , , and  be sets, and assume that   
and   . We will prove that   .

    Let  be an element of . Since   , we know that   . Since   , we
know that   . Therefore,   .

    Now let's prove a fact about numbers: Every multiple of 9100 is also a multiple

of 13. We could factor 9100, but here is an easier way. The set of multiples of 9100 is

a subset of the set of multiples of 91. And the set of multiples of 91 is a subset of the

set of multiples of 13. Now apply the proposition above.

    The proof of Proposition 1.5.3 is what is sometimes called an element chasing
proof. By the definition of subset,    means every element of  is an element of
, or equivalently, for all , if  is an element of , then  is an element of . One
way to prove this is to "chase" the element  from  to .

Example 1.5.4

Prove that if   , then     . Recall that    is the union of sets 
and , and contains all elements that are in  or  or both.

Solution. We will write a direct proof. So we will assume that    and
prove that     . Our desired conclusion is a statement about subsets, so

let's do an element chasing proof for it.

Proof. Let  and  be sets and assume   . Now let  be an element in

  . This means that  is an element of , or  is an element of , or both.6

Consider the cases. If  is an element of , then since   , we know

that  is an element of . On the other hand, if  is not an element of , then

 must be an element of  (since  is in   ). In either case,  is an element

of . Therefore,     .                       

We can actually prove a strong statement:    if and only if    = .

You are asked to do this in the exercises.
           1.5. Proofs about Discrete Structures 87

                            1.5.3 Proofs about Functions

A function  :    is a rule that assigns each element of the set  (the domain)
to exactly one element of the set  (the codomain). It is any rule: There doesn't
have to be a formula or rationale for it; we just need to match up elements from 
to elements in . For example, we could let  be the set of students enrolled in a
particular Discrete Math course and let  be the set of months of the year. Now
define the function  :    to be the rule that assigns to each student the month
in which their birthday falls. Since every student has an assigned month, and no
more than one month, this is a function.

    Here is a definition of a particular type of function.

     Definition 1.5.5

    A function  :    is injective (or one-to-one) provided every element in
     is the image of at most one element in . In other words, no element in  is
    the output for more than one input from .

    In the example below, we use two-line notation to describe a function. The top

row contains the inputs, and the bottom row lists the corresponding outputs. So
 : {1, 2, 3, 4}  {, , , } might be defined as,

 = 1 2 3 4     ,

which means that  (1) = ,  (2) = ,  (3) = , and  (4) = .

Example 1.5.6

 Let  = {1, 2, 3} and  = {2, 4, 6, 8}. Consider the functions  :    and
  :    defined by,

= 1 2 3 ,  = 1 2 3 .
      286        464

Which of these functions is injective?

Solution. The function  is injective: Each element of  is the image of at
most one element of . The function  is not injective: The element 4 in  is
the image of both 1 and 3 in .

    Consider the student-to-birth-month function again. Could this possibly be
injective? Or put another way, must there be two students in the course with the
same birth month (which would say the function is not injective)? The answer seems
to depend on how many students are in the class.

    6From the definition of union.
88 1. Logic and Proofs

    But let's pause and think about the more general fact about functions we have
here. Let's prove the following fact. Recall that || denotes the cardinality (size) of
the set : the number of elements in .

     Proposition 1.5.7

    Suppose  :    is a function with  and  both finite sets. If || > ||, then 
    is not injective.

Proof. We will give a proof of the contrapositive: If  is injective, then ||  ||.
Let || = . Since  is injective, each element of  must be the output for at most
one element of . Thus there are at most  elements in  that get mapped to 
by  . But the definition of a function requires that every element of the domain
is mapped to exactly one element of the codomain, so there must be at most 
elements in .

    Does this proof remind you of our pigeonhole-like proofs? It should, since this
is precisely (one of) the careful formulations of the pigeonhole principle. We could
have proved the fact about students sharing a birth month, but now we can just
apply the proposition above and be done. When you apply a theorem or proposition
to directly prove another result, we call the latter result a corollary.

     Corollary 1.5.8

    Suppose a class has 25 students. Then at least two students share the same birth
    month.

Proof. Consider the function that maps each student to their birth month. Since
the domain has 25 elements and the codomain has 12 elements, the function is not
injective, by Proposition 1.5.7. Therefore, at least two students share the same birth
month.

    Functions always have inputs from a set (called the domain) and outputs in a set
as well (called the codomain). This naturally leads to facts to consider about the
interaction between sets and functions.

     Definition 1.5.9
    Given a function  :    and a set   , we define the image of  under
     to be the set  () = {  ()   :   }. That is,  () is the set of all outputs
    of the function for inputs in .

  Example 1.5.10

    Let  :    be defined by  () = 2. Let  = {1, 2, 3}. Find  ().
                                                                               1.5. Proofs about Discrete Structures 89

    Solution. Evaluate each element of  by  .

                                (1) = 2;  (2) = 4;  (3) = 6.

    We want the set of these outputs. So  () = {2, 4, 6}.

    Now let's prove something.

     Proposition 1.5.11

    Let  :    be a function, and let  and  be subsets of . If   , then
     ()   ().

Proof. Let  , , and  be as in the proposition. Assume that   . Now consider
an element    (). By definition, this means that there is some    such that
 () = . Since    and   , we have that   . Then by definition,

                                            =  ()   ().

Since  was an arbitrary element of  (), we have proved that  ()   ().
    Notice that the proof above is an element chasing proof again. This makes sense

as soon as you remember that  () and  () are just the names of sets. To prove
one set is a subset of another, we chase elements from the subset to the superset.

                            1.5.4 Proofs about Relations

A relation on a set  is a set of ordered pairs of elements from . We can think of
a relation as a way to describe a type of relationship between elements of . For
example, we might have a relation on the set of people at a party that describes who
is friends with whom. We might have a relation on the set of natural numbers that
describes which pairs of numbers are related by the relation  < .

    Relations permeate all of mathematics, often without us even thinking of them.
Whenever we make a statement about two elements of a set, we are implicitly
defining a relation. The statement is true when the pair is in the relation. For
example, the statement, "3 is less than 5," is true because the pair (3, 5) is in the
relation <. In fact, using the language we developed in the subsection Quantifiers
and Predicates, we can say that a relation is just a predicate, where the variables
come from the same set.

    Often relations have special symbols like "=" or "" or "". When we talk about
a general relation, we will either use  and write   , or use a capital letter like ,
and write (, ) or  or even (, )   (these all mean the same thing).

    When we study relations, we try to identify properties that relations might have.
Here is an example of a very common property.
90 1. Logic and Proofs

     Definition 1.5.12
    A relation  on a set  is transitive provided for all , ,   , if  and
    , then .

Example 1.5.13

 Consider the relation  on the set of students in your Discrete Math course
 that holds of two students, provided they have some other class together. Is
 this relation transitive?
 Solution. No, not necessarily (although for some sets of students it could be).
 For example, suppose Alice has another class with Bruce, say Introduction to
 Programming. Carlos is not in Intro to Programming, but he and Bruce are
 both in Organic Chemistry. So then AliceBruce and BruceCarlos, but it
 might not be the case that AliceCarlos (since Alice need not be in Organic
 Chemistry with Carlos).

    Proving that a relation is not transitive takes nothing more than finding a
counterexample, which means finding three elements , , and  such that   ,
  , but   (remember, the only way for an implication to be false is for the

hypothesis to be true and the conclusion to be false).

    Perhaps slightly more interesting would be proof that a relation is transitive.

Example 1.5.14

Consider the set of all students in your Discrete Mathematics class, and define
the relation  that holds of students  and  (so    is true), provided  is
taller than . Prove that this relation is transitive.

Solution. The definition of transitive is an implication, so we can try a direct
proof.

Proof. Let , , and  be arbitrary students in your Discrete Math course.

Assume,    and   . That means that  is taller than , and that  is taller

than . But then surely  must be even taller than  than they are taller than ,

so we have that    is true as well. Thus  is transitive on this set.  

                              1.5.5 Proofs about Graphs

We will spend all of Chapter 2 studying proofs about graphs since this is such a rich
area of mathematics. As a preview, here is an example of how graph proofs can go.

    A graph is a set  of vertices and a set  of edges. The edges are two-element
subsets of the vertices, and we can think of them as representing relationships
between the vertices. Note, this is an abstract definition of a graph using sets, but
we often draw graphs using dots for the vertices connected by lines for the edges, as
this gives us a nice picture of what is going on.
                                                                                1.5. Proofs about Discrete Structures 91

     Since graphs represent a type of relationship between elements (vertices), we
can use graphs to represent many real-world problems. For example, the vertices of
a graph might represent people at a party. Each edge can represent a handshake
between two people. So if we wondered whether it is possible for the 15 people at a
party to each shake hands with exactly 3 people there, we are really asking whether
there is a graph with 15 vertices where each vertex belongs to 3 edges. ("Belongs
to"?? Yes, because an edge is a two-element subset of the vertices, so if an edge
"touches" or "comes out of" a vertex, that means the vertex belongs to that particular
two-element subset.)

     Here is a definition related to this idea.

      Definition 1.5.15

    Let  be a vertex in a graph . The degree of , written (), is the number of
    edges that contain , i.e., the number of edges incident to .

Example 1.5.16

Consider the graph  with vertices  = {1, 2, 3, 4} and edges  = {{1, 2}, {1, 3}, {1, 4}, {2, 3}}.
What is the degree of each vertex in ?

Solution. It might be helpful to picture the graph:

                1  2

                4  3

    We have (1) = 3, (2) = 2, (3) = 2, and (4) = 1. You can see this by
counting how many edges are incident to each vertex, or by counting how
many edges (subsets) each vertex belongs to.

    So is it possible for 15 people to each shake hands with exactly three people in
their group? Well, is there a graph with 15 vertices, all of degree 3? The answer is
no!

    One way you can see this is if you ask how many edges such a graph would have.
Each vertex is incident to three edges, so counting incidences, we get 15 · 3 = 45. But
every edge is incident to two vertices, so we have counted each edge twice. So the
number of edges in such a graph would be 45/2 = 22.5. But the number of edges in
a graph must be a whole number, so there is no such graph.

    This suggests that we can say something more in general. The following
proposition is a simple consequence of the Handshake Lemma 2.1.8, which we will
prove in Section 2.1. Here we give a complete proof of this particular formulation of
it.
92 1. Logic and Proofs

      Proposition 1.5.17

    In any graph, the number of vertices with odd degree must be even.

Proof. We will prove this by contradiction. Suppose there was a graph with an
odd number of vertices with odd degree. Consider the sum of the degrees of all
the vertices. The sum for the odd-degree vertices would be odd (since the sum of
an odd number of odd numbers is odd). The sum of the even-degree vertices will
be even (any sum of even numbers must be even). The sum of an odd number and
an even number is odd. Thus the sum of all the degrees will be odd.

    However, the number of edges in a graph is half the sum of the degrees (by
Lemma 2.1.8, or simply because each edge contributes one to the count of the
degree of two vertices). Since the number of edges is a whole number, we see
that the sum of the degrees must be even. This contradicts what we found in the
previous paragraph.

    Therefore, in any graph, the number of vertices with odd degree must be even.

                               1.5.6 Reading Questions

1. Which of the following is the definition of a function  :    being injective?

          A. Every element of  is the image of at most one element of .
          B. The domain  is a larger set than the codomain .
          C. Every element of  is sent to at most one element of .
          D. The codomain  is no smaller than the domain .
2. When would you most likely use element chasing as part of a proof?

          A. When proving that one set is a subset of another.

          B. When proving that a function is injective.

          C. When proving that a relation is transitive.

          D. When proving that a graph has an odd number of edges.
3. What questions do you have after reading this section? Write at least one

       question about the content of this section that you are curious about.

                                1.5.7 Practice Problems

1. Given sets  and , the intersection of  and , written   , is the set of all
       elements that are in both  and .
           Suppose you wanted to prove that if    =  then   .
           Which would be a good start to this proof if you used a direct proof?
                                                                               1.5. Proofs about Discrete Structures 93

          A. Let  be an element of   .
          B. Let  be an element of .
          C. Let  be an element of .
          D. Suppose there is an element  in  that is not in .
2. Suppose you wanted to prove that for all sets  and  that     . Which
       of the following would be a good start to a proof by contradiction?

          A. Suppose there is an element  in  that is not in   .
          B. Suppose there is an element  in    that is not in .
          C. Let  be an element of .
          D. Let  be an element of   .
3. Arrange some of the statements below to form a correct proof of the following
       statement: "For any sets  and , if      then   ."

           · Therefore     
           · Since    contains all the elements that are in both  and ,  is an

              element of .
           · Then  is an element of    since     .
           · Let  be an element of   .
           · Suppose   .
           · Suppose     , and let  be an element of .
           · Then  is an element of  since     .
           · Therefore   .
           · Suppose   .
4. Prove that for any sets  and , (  )   = 
           Arrange the statements below to form a correct proof.

           · So in particular,  is an element of .
           · Second, we will prove that   (  )  .
           · Let  be an element of (  )  .
           · Therefore   (  )  .
           · First we will prove that (  )    .
94 1. Logic and Proofs

           · Therefore (  )    .

           · Since (  )     and   (  )  , we have (  )   = .

           · Then  is an element of (  )  , since  is in  or in the other set.

           · Then  is an element of   , or  is an element of .

           · Let  be an element of .
5. Let  :    be a function and let    be a subset of the codomain. Define

       the inverse image of  under  to be the set  -1() = {   :  ()  }. That
       is, it is all the elements in the domain that are mapped to elements in .

           Prove that if 1  2 are subsets of the codomain, then  -1(1)   -1(2).
           Arrange some of the statements below to form a correct proof.

           · Thus 1  2.

           · This means that  () is an element of 1.

           · Therefore  is an element of 2.

           · Therefore  -1(1)   -1(2).

           · Suppose 1  2.

           · Since 1  2,  () is an element of 2.

           · This then means that  is an element of  -1(2).

           · Let  be an element of 1.

           · Let  be an element of  -1(1).

                              1.5.8 Additional Exercises

1. Prove that for any two sets  and ,    if and only if    = .
2. The intersection of sets  and , denoted   , is the set of all elements that

       are in both  and .
           Prove that for any two sets  and ,    if and only if    = .

3. Prove that for any sets , , and , if     , then    and   .
4. Prove that for any sets , , and , if    and   , then     .
5. The difference of sets  and , written  \ , is the set of all elements that are

       in  but not in .
           The empty set, written , is the set that contains no elements.
           Prove that if  \  =  then    = .

6. Prove that if  \  =  \  then  = .
                                                                               1.5. Proofs about Discrete Structures 95

7. Let  :    be a function, and let  and  be subsets of .

         (a) Prove that  (  )   ()   ().

         (b) Find an example of a function and two sets  and  such that  (  ) 
                ()   ().

8. Let  :    be a function, and let  and  be subsets of .

         (a) Prove that  (  )   ()   ().

         (b) Prove that  ()   ()   (  )

         (c) What can you conclude from the two proofs above?
9. Given a function  :    and a set   , we define the inverse image of 

       under  as the set  -1() = {   :  ()  . That is, it is all the elements in
       the domain that are mapped to elements in .

         (a) For  :    defined by  () = 2, what are each of the following sets?

                (a)  -1({1, 4, 9})
                (b)  -1({2, 3, 5, 7})
                (c)  -1({1, 2, . . . , 10})

         (b) Prove that for any set   ,    -1(  ()).

         (c) Give an example of a function  and a set  such that    -1(  ()).

         (d) Prove that for any set   ,  (  -1())  .

         (e) Give an example of a function  and a set  such that  (  -1())  .
10. Let  :    be a function, and let  and  be subsets of . Prove that

        -1(  ) =  -1()   -1().
11. Let  :    be a function, and let  and  be subsets of . Prove that

        -1(  ) =  -1()   -1().
12. For each relation below, determine whether it is transitive. If it is, prove it. If it

       is not, give a counterexample.

         (a) The relation "|" (divides) on  defined by | provided  is a multiple of
              .

        (b) The relation "" (less than or equal to) on .

         (c) The relation "" (is perpendicular to) on the set of lines in the plane.

         (d) The relation "" (is similar to) on the set of triangles in the plane (two
              triangles are similar if they have the same angles, but are not necessarily
              the same size).
                         1.6 Chapter Summary

We have considered logic both as its own sub-discipline of mathematics and as a
means to help us better understand and write proofs. We noticed that mathematical
statements have a particular logical form, and analyzing that form can help make
sense of the statement.

    At the most basic level, a statement might combine simpler statements using
logical connectives. We often make use of variables and quantify over those variables.
How to resolve the truth or falsity of a statement based on these connectives and
quantifiers is what logic is all about. From this, we can decide whether two statements
are logically equivalent or if one or more statements (logically) imply another.

    When writing proofs (in any area of mathematics) our goal is to explain why
a mathematical statement is true. Thus it is vital that our argument implies the
truth of the statement. To be sure of this, we first must know what it means for the
statement to be true, as well as ensure that the statements that make up the proof
correctly imply the conclusion. A firm understanding of logic is required to check
whether a proof is correct.

    There is, however, another reason that understanding logic can be helpful.
Understanding the logical structure of a statement often gives clues for how to write
a proof of the statement.

    This is not to say that writing proofs is always straight-forward. Consider again
the Goldbach conjecture:

       Every even number greater than 2 can be written as the sum of two
       primes.

We are not going to try to prove the statement here, but we can at least say what a
proof might look like, based on the logical form of the statement. Perhaps we should
write the statement to highlight the quantifiers and connectives:

       For all integers , if  is even and greater than 2, then there exist integers
        and  such that  and  are prime, and  =  + .

What would a direct proof look like? Since the statement starts with a universal
quantifier, we would start, ``Let  be an arbitrary integer." The rest of the statement
is an implication. In a direct proof we assume the "if" part, so the next line would
be, "Assume  is greater than 2 and is even." I have no idea what comes next, but
eventually, we would need to find two prime numbers  and  (depending on )
and explain how we know that  =  + .

    Or maybe we try a proof by contradiction. To do this, we first assume the
negation of the statement we want to prove. What is the negation? From what we
have studied we should be able to see that it is,

       There is an integer  such that  is even and greater than 2, but for all
       integers  and , either  or  is not prime, or    + .

Could this statement be true? A proof by contradiction would start by assuming it
was and eventually conclude with a contradiction, proving that our assumption of

                                                     96
                                                                                                   1.6. Chapter Summary 97

truth was incorrect. And if you can find such a contradiction, you will have proved
one of the most famous open problems in mathematics. Good luck.

                                      Chapter Review

1. Complete a truth table for the statement ¬  (  ).
2. Suppose you know that the statement "if Peter is not tall, then Quincy is fat

       and Robert is skinny" is false. What, if anything, can you conclude about Peter
       and Robert if you know that Quincy is indeed fat? Explain (you may reference
       Question 1.6.1).
3. Are the statements   (  ) and (  )  (  ) logically equivalent?
       Explain your answer.
4. Is the following a valid deduction rule? Explain.

                                                        
                                                        
                                               (  ).
5. Write the negation, converse and contrapositive for each of the statements
       below.

         (a) If the power goes off, then the food will spoil.

         (b) If the door is closed, then the light is off.
         (c) ( < 1  2 < 1).
         (d) For all natural numbers , if  is prime, then  is solitary.
         (e) For all functions  , if  is differentiable, then  is continuous.
          (f) For all integers  and , if  ·  is even, then  and  are even.
         (g) For every integer  and every integer , there is an integer  such that if

               > 0 then  > .
         (h) For all real numbers  and , if   = 0 then  = 0 or  = 0.

          (i) For every student in Math 228, if they do not understand implications,
              then they will fail the exam.

6. Consider the statement, "For all integers , if  is even and   7, then  is
       negative or   {0, 2, 4, 6}."

         (a) Is the statement true? Explain why.

         (b) Write the negation of the statement. Is it true? Explain.

         (c) State the contrapositive of the statement. Is it true? Explain.
98 1. Logic and Proofs

         (d) State the converse of the statement. Is it true? Explain.
7. Consider the statement: (( +  = )  ( ·  = 0)).

         (a) Explain what the statement says in words. Is this statement true? Be sure
              to state what you are taking the universe of discourse to be.

         (b) Write the converse of the statement, both in words and in symbols. Is the
              converse true?

         (c) Write the contrapositive of the statement, both in words and in symbols.
              Is the contrapositive true?

         (d) Write the negation of the statement, both in words and in symbols. Is the
              negation true?

8. Simplify the following.
         (a) ¬(¬(  ¬)  ¬(¬  ¬(  ))).
         (b) ¬¬¬( =  +   ( -  = )).

9. Consider the statement, "For all integers , if  is odd, then 7 is odd."

         (a) Prove the statement. What sort of proof are you using?

         (b) Prove the converse. What sort of proof are you using?
10. Suppose you break your piggy bank and scoop up a handful of 22 coins

       (pennies, nickels, dimes, and quarters).

         (a) Prove that you must have at least 6 coins of a single denomination.

         (b) Suppose you have an odd number of pennies. Prove that you must have
              an odd number of at least one of the other types of coins.

         (c) How many coins would you need to scoop up to be sure that you either
              had 4 coins that were all the same or 4 coins that were all different? Prove
              your answer.

11. You come across four trolls playing bridge. They declare:

              Troll 1: All trolls here see at least one knave.
              Troll 2: I see at least one troll that sees only knaves.
              Troll 3: Some trolls are scared of goats.
              Troll 4: All trolls are scared of goats.

       Are there any trolls that are not scared of goats? Recall, of course, that all trolls
       are either knights (who always tell the truth) or knaves (who always lie).
                                          Chapter 2

                  Graph Theory

Graph theory has existed as a branch of mathematics for only a short time; the
first book on graph theory was published less than 100 years ago. While the first
problem related to what we now call graph theory dates back to 1735, it has been
the advent of computers that has shown the subject's true utility. It is a subject with
simple beauty and surprising depth. Many of the main areas of graph theory can
be understood with almost no mathematical prerequisites, yet new research in the
subject generates hundreds of peer-reviewed research papers each year.

    In this chapter, we will explore just a few of the ways you can use graphs and
their properties to solve problems that show up in computer science, mathematics,
and almost every other applied science.

                   2.1 Problems and Definitions

       Objectives

     After completing this section, you should be able to do the following.
         1. Use the language of graph theory to describe properties of graphs.
         2. Utilize multiple representations of graphs.
         3. Apply the Handshake Lemma to answer questions about graphs and
             problems they represent.

                                                     99
100 2. Graph Theory

                                  2.1.1 Section Preview
       Investigate!

     In the time of Euler, in the town of Königsberg in Prussia, there was a river
     containing two islands. The islands were connected to the banks of the river
     by seven bridges (as seen below). The bridges were very beautiful, and on
     their days off, townspeople would spend time walking over the bridges.
     As time passed, a question arose: Was it possible to plan a walk so that
     you cross each bridge once and only once? Euler was able to answer this
     question. Are you?

    Graph Theory is a relatively new area of mathematics, first studied by the super
famous mathematician Leonhard Euler in 1735. Since then it has blossomed into a
powerful tool used in nearly every branch of science and is currently an active area
of mathematics research.

    The problem above, known as the Seven Bridges of Königsberg, is the problem
that originally inspired graph theory. Consider a "different" problem: Below is a
drawing of four dots connected by some lines. Is it possible to trace over each line
once and only once (without lifting your pencil, starting and ending on a dot)?

    There is an obvious connection between these two problems. Any path in the
dot and line drawing corresponds exactly to a path over the bridges of Königsberg.

    Pictures like this dot and line drawing are called graphs (although technically,
the picture above is a multigraph). Graphs are made up of a collection of dots
called vertices and lines connecting those dots called edges. When two vertices
are connected by an edge, we say they are adjacent. The nice thing about looking
at graphs instead of pictures of rivers, islands, and bridges is that we now have a
                                            2.1. Problems and Definitions 101

mathematical object to study. We have distilled the "important" parts of the bridge
picture for the problem. It does not matter how big the islands are, what the bridges
are made out of, if the river contains alligators, etc. All that matters is which land
masses are connected to which other land masses, and how many times. This was
the great insight Euler had.

    We will return to the question of finding paths through graphs in Section 2.4. In
this section, we will explore various ways that graphs can be used to represent, or
model, real-world problems. Along the way, we will introduce some basic definitions,
terminology, and notation that will be used in the rest of the chapter.

                      Preview Activity

To get a feel for graphs and the types of questions we want to ask about them, let's
explore four examples of graphs.

         1:                                 2:

                                        1 2 3

                                        6 5 4

3:                                      4:

vertex   adjacent to                    001010
         ,                              000001
         ,                              100000
         , ,                            000011
         , ,                            100100
         ,                              010100
         , 

    The graph 3 is presented as an adjacency list where each vertex gets a list of
which other vertices it is adjacent to. The graph 4 is presented as an adjacency
matrix where the rows and columns correspond to the vertices and the entries are 1
if the vertices are adjacent and 0 otherwise. Before answering the questions below, it
might be helpful to draw a more traditional representation of these graphs.

1. First, let's count the number of vertices and edges in each graph.

2. We call the number of edges incident to a particular vertex (i.e., the number of
       edges "coming out of" the vertex) the degree of the vertex. A list of the degrees
       of all the vertices in non-increasing order is called a degree sequence for the
       graph. Find the degree sequence for each graph.
102 2. Graph Theory

3. We often care about paths between vertices in a graph. A graph is connected if
       there is a path between every pair of vertices. Sometimes there is a path that
       starts at a vertex and eventually comes back to itself, which is called a cycle.

         (a) Which of the graphs are connected?

         (b) Which of the graphs contain cycles?

         (c) Graphs that are connected and contain no cycles are called trees. For
              each graph, how many edges must you remove to turn it into a tree? (If it
              is already a tree, the answer would be 0.)

4. For which of the graphs is it possible to draw the graph in such a way that no
       edges cross?

5. Suppose we color each vertex of a graph so that adjacent vertices always have
       different colors. The smallest number of colors needed to do this is called the
       chromatic number of the graph. Find the chromatic number for each graph.
           Note: If the graphs represented friendships between people, then the
       chromatic number would tell us the minimum number of groups we would
       need if we wanted to divide up everyone into groups of people who were not
       yet friends.

                                 2.1.2 What is a Graph?

Before we start studying graphs, we need to agree upon what a graph is. While we
almost always think of graphs as pictures (dots connected by lines), this is fairly
ambiguous. Do the lines need to be straight? Does it matter how long the lines are
or how large the dots are? Can there be two lines connecting the same pair of dots?
Can one line connect three dots?

    The way we avoid ambiguities in mathematics is to provide concrete and rigorous
definitions. Crafting good definitions is not easy, but it is incredibly important. The
definition is the agreed-upon starting point from which all truths in mathematics
proceed. Is there a graph with no edges? We have to look at the definition to see if
this is possible.

    We want our definition to be precise and unambiguous, but it also must agree
with our intuition for the objects we are studying. It needs to be useful: We could
define a graph to be a six-legged mammal, but that would not let us solve any
problems about bridges. Instead, here is the (now) standard definition of a graph.

     Definition 2.1.1 Graph.

    A graph is an ordered pair  = ( , ) consisting of a nonempty set  (called
    the vertices) and a set  (called the edges) of two-element subsets of .

    Strange. Nowhere in the definition is there talk of dots or lines. From the
                                     2.1. Problems and Definitions 103

definition, a graph could be

               ({, , , }, {{, }, {, }, {, }, {, }, {, }}).

Here we have a graph with four vertices (the letters , , , ) and five edges (the
pairs {, }, {, }, {, }, {, }, {, })).

    Looking at sets and sets of 2-element sets is difficult to process. That is why
we often draw a representation of these sets. We put a dot down for each vertex,
and connect two dots with a line precisely when those two vertices are one of the
2-element subsets in our set of edges. Thus one way to draw the graph described
above is this:

                                   

                                   

    However we could also have drawn the graph differently. For example either of
these:

               

                                     

    We should be careful about what it means for two graphs to be "the same."
Actually, given our definition, this is easy: Are the vertex sets equal? Are the edge
sets equal? We know what it means for sets to be equal, and graphs are nothing but
a pair of two special sorts of sets.

Example 2.1.2

Are the graphs below equal?        2 = ({, , }, {{, }, {, }}).
      1 = ({, , }, {{, }, {, }});

Solution. No. Here the vertex sets of each graph are equal, which is a

good start. Also, both graphs have two edges. In the first graph, we have
edges {, } and {, }, while in the second graph we have edges {, } and
{, }. Of course, {, } = {, }, so that is not the problem. The issue is that
{, }  {, }. Since the edge sets of the two graphs are not equal (as sets),

the graphs are not equal (as graphs).

    Even if two graphs are not equal, they might be basically the same. The graphs in
the previous example could be drawn like this:
104 2. Graph Theory

                     1        2

                                 

    Graphs that are basically the same (but perhaps not equal) are called isomorphic.
We will give a precise definition of this term after a quick example:

Example 2.1.3

Consider the graphs:

1 = (1, 1) where 1 = {, , } and 1 = {{, }, {, }, {, }};

2 = (2, 2) where 2 = {, , } and 2 = {{, }, {, }, {, }}.

    Are these graphs the same?

Solution. The two graphs are NOT equal. It is enough to notice that 1  2
since   1 but   2. However, both of these graphs consist of three vertices
with edges connecting every pair of vertices. We can draw them as follows:

                                 

                                   

    Clearly we want to say these graphs are basically the same, so while they
are not equal, they will be isomorphic. We can rename the vertices of one
graph and get the second graph as the result.

    Intuitively, graphs are isomorphic if they are basically the same, or better yet,
if they are the same except for the names of the vertices. To make the concept of
renaming vertices precise, we give the following definitions:

     Definition 2.1.4

    An isomorphism between two graphs 1 and 2 is a bection  : 1  2
    between the vertices of the graphs such that {, } is an edge in 1 if and only
    if {  (),  ()} is an edge in 2.

         Two graphs are isomorphic if there is an isomorphism between them. In
    this case we write 1 2.

    An isomorphism is simply a function which renames the vertices. It must be
a bection so every vertex gets a new name. These newly named vertices must be
connected by edges precisely when they were connected by edges with their old
                         2.1. Problems and Definitions 105

names.

Example 2.1.5

Decide whether the graphs 1 = (1, 1) and 2 = (2, 2) are equal or
isomorphic.

    1 = {, , , }, 1 = {{, }, {, }, {, }, {, }}
    2 = {, , , }, 2 = {{, }, {, }, {, }, {, }}

Solution. The graphs are NOT equal, since {, }  1 but {, }  2.
However, since both graphs contain the same number of vertices and the

same number of edges, they might be isomorphic (this is not enough in most

cases, but it is a good start).
    We can try to build an isomorphism. How about we say  () = ,  () = ,

 () =  and  () = . This is definitely a bection, but to make sure that the

function is an isomorphism, we must make sure it respects the edge relation. In
1, vertices  and  are connected by an edge. In 2,  () =  and  () = 
are connected by an edge. So far, so good, but we must check the other three
edges. The edge {, } in 1 corresponds to {  (),  ()} = {, }, but here we
have a problem. There is no edge between  and  in 2. Thus  is NOT an
isomorphism.

    Not all hope is lost, however. Just because  is not an isomorphism does

not mean that there is no isomorphism at all. We can try again. At this point

it might be helpful to draw the graphs to see how they should match up.

                                  

        1:             2:

                                                        

                                              

    Alternatively, notice that in 1, the vertex  is adjacent to every other
vertex. In 2, there is also a vertex with this property: . So build the bection
 : 1  2 by defining () =  to start with. Next, where should we send
? In 1, the vertex  is only adjacent to vertex . There is exactly one vertex
like this in 2, namely . So let () = . As for the last two, in this example,
we have a free choice: let () =  and () =  (switching these would be

fine as well).

We should check that this really is an isomorphism. It is definitely a

bection. We must make sure that the edges are respected. The four edges in

1 are                {, }, {, }, {, }, {, }.

Under the proposed isomorphism these become

                {(), ()}, {(), ()}, {(), ()}, {(), ()}
106 2. Graph Theory

                                     {, }, {, }, {, }, {, },
    which are precisely the edges in 2. Thus  is an isomorphism, so 1 2

    Sometimes we will talk about a graph with a special name (like  or the Petersen
graph) or perhaps draw a graph without any labels. In this case, we are really
referring to all graphs isomorphic to any copy of that particular graph. A collection
of isomorphic graphs is often called an isomorphism class.1

    There are other relationships between graphs that we care about, other than
equality and being isomorphic. For example, compare the following pair of graphs:

    These are definitely not isomorphic, but notice that the graph on the right looks
like it might be part of the graph on the left, especially if we draw it like this:

    We would like to say that the smaller graph is a subgraph of the larger.
    We should give a careful definition of this. In fact, there are two reasonable
notions for what a subgraph should mean.
     Definition 2.1.6 Subgraphs.
    We say that  = (, ) is a subgraph of  = ( , ), and write   ,
    provided    and   .

         We say that  = (, ) is an induced subgraph of  = ( , ) provided
       and every edge in  whose vertices are still in  is also an edge in .

    Notice that every induced subgraph is also an ordinary subgraph, but not
conversely. Think of a subgraph as the result of deleting some vertices and edges
from the larger graph. For the subgraph to be an induced subgraph, we can still
delete vertices, but now we only delete those edges that included the deleted vertices.

    1This is not unlike geometry, where we might have more than one copy of a particular triangle.
There instead of isomorphic we say congruent.
                                        2.1. Problems and Definitions 107

Example 2.1.7

Consider the graphs:

                                              

                                            

                                                 

    1                     2        3          4

    Here both 2 and 3 are subgraphs of 1. But only 2 is an induced
subgraph. Every edge in 1 that connects vertices in 2 is also an edge in 2.
In 3, the edge {, } is in 1 but not 3, even though vertices  and  are in
3.

    The graph 4 is NOT a subgraph of 1, even though it looks like all we
did is remove vertex . The reason is that in 4 we have the edge {,  }, but
this is not an element of 1, so we don't have the required 4  1.

    Back to some basic graph theory definitions. Notice that all the graphs we have
drawn above have the property that no pair of vertices is connected more than once,
and no vertex is connected to itself. Graphs like these are sometimes called simple,
although we will just call them graphs. This is because our definition of a graph
says that the edges form a set of 2-element subsets of the vertices. Remember that it
doesn't make sense to say a set contains an element more than once. So no pair of
vertices can be connected by an edge more than once. Also, since each edge must be
a set containing two vertices, we cannot have a single vertex connected to itself by
an edge.

    That said, there are times we want to consider double (or more) edges and single-
edge loops. For example, the "graph" we drew for the Bridges of Königsberg problem
had double edges because there really are two bridges connecting a particular island
to the near shore. We will call these objects multigraphs. This is a good name: A
multiset is a set in which we are allowed to include a single element multiple times.

    The graphs above are also connected: you can get from any vertex to any other
vertex by following some path of edges. A graph that is not connected can be
thought of as two separate graphs drawn close together. For example, the following
graph is NOT connected because there is no path from  to :

                                      

    Vertices in a graph do not always have edges between them. If we add all possible
edges, then the resulting graph is called complete. That is, a graph is complete
108 2. Graph Theory

if every pair of vertices is connected by an edge. Since a graph is determined

completely by which vertices are adjacent to which other vertices, there is only one
complete graph with a given number of vertices. We give these a special name: 
is the complete graph on  vertices.

    Each vertex in  is adjacent to  - 1 other vertices. We call the number of edges
emanating from a given vertex the degree of that vertex. So every vertex in  has
degree  - 1. How many edges does  have? One might think the answer should
be ( - 1), since we count  - 1 edges  times (once for each vertex). However,

each edge is incident to 2 vertices, so we counted every edge exactly twice. Thus
                                                                   
there are ( - 1)/2 edges in . Alternatively, we can say there are  2  edges, since

to draw an edge we must choose 2 of the  vertices.

In general, if we know the degrees of all the vertices in a graph, we can find the

number of edges. The sum of the degrees of all vertices will always be twice the

number of edges, since each edge adds to the degree of two vertices. Notice this

means that the sum of the degrees of all vertices in any graph must be even!

This is our first example of a general result about all graphs. It seems innocent

enough, but we will use it to prove all sorts of other statements. So let's give it a

name and state it formally.

 Lemma 2.1.8 Handshake Lemma.

In any graph, the sum of the degrees of vertices in the graph is always twice the
number of edges.

    The handshake lemma2 is sometimes called the degree sum formula, and can be
written symbolically as

                                                   () = 2.

                                                               

Here we are using the notation () for the degree of the vertex .
    One use for the lemma is to actually find the number of edges in a graph. To

do this, you must be given the degree sequence for the graph (or be able to find it
from other information). This is a list of every degree of every vertex in the graph,
generally written in non-increasing order.

  Example 2.1.9

    How many vertices and edges must a graph have if its degree sequence is
                                           (4, 4, 3, 3, 3, 2, 1)?

    Solution. The number of vertices is easy to find. It is the number of degrees
    in the sequence: 7. To find the number of edges, we compute the degree sum

                                   4 + 4 + 3 + 3 + 3 + 2 + 1 = 20,

    2A lemma is a mathematical statement that is primarily of importance in that it is used to establish
other results.
                                               2.1. Problems and Definitions 109

  so the number of edges is half this: 10.

  The handshake lemma also tells us what is not possible.

Example 2.1.10

 At a recent math seminar, 9 mathematicians greeted each other by shaking
 hands. Is it possible that each mathematician shook hands with exactly 7
 people at the seminar?
 Solution. It seems like this should be possible. Each mathematician chooses
 one person to not shake hands with. But this cannot happen. We are asking
 whether a graph with 9 vertices can have each vertex have degree 7. If such a
 graph existed, the sum of the degrees of the vertices would be 9 · 7 = 63. This
 would be twice the number of edges (handshakes) resulting in a graph with
 31.5 edges. That is impossible. Thus at least one (in fact an odd number) of
 the mathematicians must have shaken hands with an even number of people
 at the seminar.

  We can generalize the previous example to get the following proposition.3

   Proposition 2.1.11

 In any graph, the number of vertices with odd degree must be even.

Proof. Suppose there were a graph with an odd number of vertices with odd

degree. Then the sum of the degrees in the graph would be odd, which is

impossible, by the handshake lemma.

    We will consider further applications of the handshake lemma in the exercises.
    One final definition: We say a graph is bipartite if the vertices can be divided
into two sets,  and , with no two vertices in  adjacent and no two vertices in 
adjacent. The vertices in  can be adjacent to some or all of the vertices in . If each
vertex in  is adjacent to all the vertices in , then the graph is a complete bipartite
graph, and gets a special name: ,, where || =  and || = .

Named Graphs. Some graphs are used more than others and get special names.

   The complete graph on  vertices.

,  The complete bipartite graph with sets of  and  vertices.

   The cycle on  vertices, just one big loop.

   The path on  + 1 vertices (so  edges), just one long path.

    3A proposition is a general statement in mathematics, similar to a theorem, although generally of
lesser importance.
110 2. Graph Theory

5                     2,3  6  5

Graph Theory Definitions. There are a lot of definitions to keep track of in graph
theory. Here is a glossary of the terms we have already used and will soon encounter.

             Graph    A collection of vertices, some of which are connected by edges.
                      More precisely, a pair of sets  and , where  is a set of
         Adjacent     vertices and  is a set of 2-element subsets of .
                      Two vertices are adjacent if they are connected by an edge.
 Bipartite graph      Two edges are adjacent if they share a vertex.

        Complete      A graph for which it is possible to divide the vertices into two
 bipartite graph      disjoint sets such that there are no edges between any two
Complete graph        vertices in the same set.
                      A bipartite graph for which every vertex in the first set is
       Connected      adjacent to every vertex in the second set.

       Chromatic      A graph in which every pair of vertices is adjacent.
           number
              Cycle   A graph is connected if there is a path from any vertex to any
                      other vertex.
      Degree of a     The minimum number of colors required in a proper vertex
             vertex   coloring of the graph.

        Euler trail   A path (see below) that starts and stops at the same vertex,
     Euler circuit    but contains no other repeated vertices.
      Multigraph
                      The number of edges incident to a vertex.
                Path
                      A walk which uses each edge exactly once.

                      An Euler trail which starts and stops at the same vertex.

                      A multigraph is just like a graph but can contain multiple
                      edges between two vertices as well as single edge loops (that
                      is an edge from a vertex to itself).

                      A path is a walk that doesn't repeat any vertices (or edges)
                      except perhaps the first and last. If a path starts and ends at
                      the same vertex, it is called a cycle.
            Planar                                                       2.1. Problems and Definitions 111
       Subgraph
                     A graph which can be drawn (in the plane) without any edges
               Tree  crossing.
Vertex coloring
                     We say that  is a subgraph of  if every vertex and edge
              Walk   of  is also a vertex or edge of . We say  is an induced
                     subgraph of  if every vertex of  is a vertex of  and each
                     pair of vertices in  are adjacent in  if and only if they are
                     adjacent in  .

                     A connected graph with no cycles. (If we remove the require-
                     ment that the graph is connected, the graph is called a forest.)
                     The vertices in a tree with degree 1 are called leaves.

                     An assignment of colors to each of the vertices of a graph. A
                     vertex coloring is proper if adjacent vertices are always colored
                     differently.

                     A sequence of vertices such that consecutive vertices (in the
                     sequence) are adjacent (in the graph). A walk in which no
                     edge is repeated is called a trail, and a trail in which no vertex
                     is repeated (except possibly the first and last) is called a path.

                               2.1.3 Reading Questions

1. Is there more than one graph with five vertices and six edges? Explain what
       this question even means and how you would answer it.

2. If a graph has 10 vertices, each with degree 4, how many edges does it have?
3. What questions do you have after reading this section? Write at least one

       question about the content of this section that you are curious about.

                                2.1.4 Practice Problems

1. Consider the graph  below.

                             
                                        

                     

                                   
                               

Which of the following graphs are isomorphic to ? Select all that apply.
112 2. Graph Theory

    (a)                                  (b)                                  (c)  

                                                                                         
                                                                            
                                                                                                                 
                                                                                         
                                                                        
                                                                                                  
                                                             
                        

2. Which of the following graphs are isomorphic to each other?

    (a)                                            (c)  

                                                                        

                                                                                                

                                                                        
                                                                                           

                                                                                 

    (b)                                            (d)  

                                                                        

                                                                                                

                                                                         
                                                                                           

                                                                                 

3. The graph 1 has 8 vertices all of degree 6. How many edges does 1 have?
           The graph 2 has 7 vertices all of degree k, and 7 edges. What is ?
           The graph 3 has all vertices of degree 4, and 16 edges. How many vertices

       does 3 have?
4. Suppose a graph has degree sequence (8, 7, 7, 6, 6, 6, 5, 4, 4, 3). How many

       edges must the graph have?

5.

    (a) What is the largest  such that  is a subgraph of 5?

    (b) What is the largest  such that  is a subgraph of 5?

    (c) What is the largest  such that  is an induced subgraph of 5?

    (d) What is the largest  such that  is an induced subgraph of 5?

                              2.1.5 Additional Exercises

1. If 10 people each shake hands with each other, how many handshakes took
       place? What does this question have to do with graph theory?

2. Among a group of 5 people, is it possible for everyone to be friends with exactly
       2 of the people in the group? What about 3 of the people in the group?

3. Is it possible for two different (non-isomorphic) graphs to have the same number
       of vertices and the same number of edges? What if the degrees of the vertices
                                             2.1. Problems and Definitions 113

       in the two graphs are the same (so both graphs have vertices with degrees 1, 2,
       2, 3, and 4, for example)? Draw two such graphs or explain why not.

4. Are the two graphs below equal? Are they isomorphic? If they are isomorphic,
       give the isomorphism. If not, explain.
           Graph 1:  = {, , , , },  = {{, }, {, }, {, }, {, }, {, }, {, }} .
           Graph 2:

                                       

                                           

                                         

5. Consider the following two graphs:

  1 1 = {, , , ,  ,  , }
               1 = {{, }, {, }, {, }, {, }, {, },
                  {,  }, {, }, {, }, { ,  }, {  , }}.

  2 2 = {1, 2, 3, 4, 5, 6, 7},
               2 = {{1, 4}, {1, 5}, {1, 7}, {2, 3}, {2, 6},
                  {3, 5}, {3, 7}, {4, 5}, {5, 6}, {5, 7}}.

(a) Let  : 1  2 be a function that takes the vertices of Graph 1 to vertices
     of Graph 2. The function is given by the following table:

    

 () 4 5 1 6 2 3 7

Does  define an isomorphism between Graph 1 and Graph 2?

(b) Define a new function  (with    ) that defines an isomorphism
     between Graph 1 and Graph 2.

(c) Is the graph pictured below isomorphic to Graph 1 and Graph 2? Explain.

6. What is the largest number of edges possible in a graph with 10 vertices? What
       is the largest number of edges possible in a bipartite graph with 10 vertices?
      What is the largest number of edges possible in a tree with 10 vertices?

7. Which of the graphs below are bipartite? Justify your answers.
114 2. Graph Theory

8. For which   3 is the graph  bipartite?
9. For each of the following, try to give two different unlabeled graphs with the

       given properties, or explain why doing so is impossible.
         (a) Two different trees with the same number of vertices and the same
              number of edges. A tree is a connected graph with no cycles.
         (b) Two different graphs with 8 vertices all of degree 2.
         (c) Two different graphs with 5 vertices all of degree 4.
         (d) Two different graphs with 5 vertices all of degree 3.

10. Decide whether the statements below about subgraphs are true or false. For
       those that are true, briefly explain why (1 or 2 sentences). For any that are false,
       give a counterexample.
         (a) Any subgraph of a complete graph is also complete.
         (b) Any induced subgraph of a complete graph is also complete.
         (c) Any subgraph of a bipartite graph is bipartite.
         (d) Any subgraph of a tree is a tree.

11. We often define graph theory concepts using set theory. For example, given a
       graph  = ( , ) and a vertex   , we define
                                        () = {   : {, }  }.
      We define [] = ()  {}. The goal of this problem is to figure out what all
       this means.
         (a) Let  be the graph with vertices  and edges  given by
               = {, , , ,  ,  },  = {{, }, {, }, {, }, {, }, {, }, {,  }, {,  }, { ,  }}.
              Find (), [], (), and [].
         (b) What are the largest and smallest possible values for |()| and |[]|
              (the sizes of these sets) for the graph in part (a)? Explain.
         (c) Give an example of a graph  = ( , ) (probably different from the one
              above) for which [] =  for some vertex   . Is there a graph for
              which [] =  for all   ? Explain.
                                                                                        2.1. Problems and Definitions 115

         (d) Give an example of a graph  = ( , ) for which () =  for some
                . Is there an example of such a graph for which [] =  for some
              other    as well? Explain.

         (e) Describe in words what () and [] mean in general.

12. A graph is a way of representing the relationships between elements in a set:
       An edge between the vertices  and  tells us that  is related to  (which
       we can write as   ). Not all sorts of relationships can be represented by a
       graph, though. For each relationship described below, either draw the graph
       or explain why the relationship cannot be represented by a graph.

         (a) The set  = {1, 2, . . . , 9} and the relationship    when  -  is a
              non-zero multiple of 3.

         (b) The set  = {1, 2, . . . , 9} and the relationship    when  is a multiple
              of .

         (c) The set  = {1, 2, . . . , 9} and the relationship    when 0 < | - | < 3.
13. Consider graphs with  vertices. Remember, graphs do not need to be connected.

         (a) How many edges must the graph have to guarantee at least one vertex
              has degree two or more? Prove your answer.

         (b) How many edges must the graph have to guarantee all vertices have
              degree two or more? Prove your answer.

14. Prove that any graph with at least two vertices must have two vertices of the
       same degree.

15. Suppose  is a connected graph with  > 1 vertices and  - 1 edges. Prove
       that  has a vertex of degree 1.

16. Which (if any) of the graphs below are the same?

    The graphs above are unlabeled. Usually we think of a graph as having a
specific set of vertices. Which (if any) of the graphs below are the same?

        1 2 3

        6 5 4

Actually, all the graphs above are just drawings of graphs. A graph is really
116 2. Graph Theory

an abstract mathematical object consisting of two sets  and , where  is a set
of 2-element subsets of . Are the graphs below the same or different?

Graph 1:   = {, , , , },
Graph 2:       = {{, }, {, }, {, }, {, }, {, }, {, }} .

           = {1, 2, 3, 4, 5},
               = {{1, 3}, {1, 5}, {2, 4}, {2, 5}, {3, 5}, {4, 5}}.
                                  2.2 Trees

       Objectives

     After completing this section, you should be able to do the following.
         1. Prove basic facts about trees.
         2. Use theorems about trees to solve problems.
         3. Identify and construct spanning trees.

                                  2.2.1 Section Preview
       Investigate!

     Consider the graph drawn below.

         1. Find a subgraph with the smallest number of edges that is still con-
             nected and contains all the vertices.

         2. Find a subgraph with the largest number of edges that doesn't contain
             any cycles.

         3. What do you notice about the number of edges in your examples
             above? Is this a coincidence?

    One very useful and common approach to studying graph theory is to restrict
your focus to graphs of a particular kind. For example, you could try to really
understand just complete graphs or just bipartite graphs, instead of trying to
understand all graphs in general. That is what we are going to do now, looking at
trees. Hopefully by the end of this section we will have a better understanding of
this class of graph, and also understand why it is important enough to warrant its
own section.

     Definition 2.2.1 Trees and Forests.
    A tree is a connected graph containing no cycles.4

         A forest is a graph containing no cycles. Note that this means that a

                                                    117
118 2. Graph Theory

    connected forest is a tree.

    Does the definition above agree with your intuition for what graphs we should
call trees? Try thinking of examples of trees, and make sure they satisfy the definition.
One thing to keep in mind is that while the trees we study in graph theory are
related to trees you might see in other subjects, the correspondence is not exact. For
instance, in anthropology, you might study family trees, like the one below,

                                                                  Me

                     Mom                         Dad

 Maternal                  Maternal    Paternal                 Paternal

Grandma                   Grandpa    Grandma                   Grandpa

    So far so good, but while your grandparents are (probably) not blood relatives,
if we go back far enough, it is likely that they did have some common ancestor. If
you trace the tree back from you to that common ancestor, then down through your
other grandparent, you would have a cycle, and thus the graph would not be a tree.

    You might also have seen something called a decision tree (such as the algorithm
for deciding whether a series converges or diverges). Sometimes these too contain
cycles, as the decision for one node might lead you back to a previous step.

    Both the examples of trees above also have another feature worth mentioning:
There is a clear order to the vertices in the tree. The definition of a tree does not
include this added structure, although we can impose such a structure by considering
rooted trees, where we simply designate one vertex as the root. We will consider
such trees in more detail later in this section.

    In this section, we will explore some basic properties of trees, which will serve
as an excellent introduction to writing proofs about graphs. We will also consider
a special kind of tree, called a spanning tree, which is a tree that includes all the
vertices of a connected graph. Finally, we will briefly consider rooted trees.

                                           Preview Activity
1. Take out a piece of paper and draw 8 vertices in a circle.

    4Sometimes this is stated as "a tree is an acyclic connected graph;" "acyclic" is just a fancy word for
"containing no cycles."
                                                                                                                2.2. Trees 119

           We are going to add edges to this graph following some requirements.

         (a) First, add the fewest number of edges possible so that the resulting graph
              is connected. That is, there must be a path between any pair of vertices (a
              path can use more than one edge, of course).

              How many edges are in the graph you drew?

         (b) Was the resulting graph you found a tree?

         (c) Now start over with an empty graph again. This time, add the largest
              number of edges possible so that the resulting graph contains no cycles.

              How many edges are in the graph you drew?

         (d) Was the resulting graph you found a tree?

                               2.2.2 Properties of Trees

We wish to really understand trees. This means we should discover properties of
trees: what makes them special and what is special about them.

    A tree is a connected graph with no cycles. Is there anything else we can say?
It would be nice to have other equivalent conditions for a graph to be a tree. That
is, we would like to know whether there are any graph theoretic properties that all
trees have, and perhaps even that only trees have.

    To get a feel for the sorts of things we can say, we will consider three propositions
about trees. These will also illustrate important proof techniques that apply to
graphs in general, and happen to be a little easier for trees.

    Our first proposition gives an alternate definition for a tree. That is, it gives
necessary and sufficient conditions for a graph to be a tree.

      Proposition 2.2.2

    A graph  is a tree if and only if between every pair of distinct vertices of  there is a
    unique path.

Proof. This is an "if and only if" statement, so we must prove two implications.
We start by proving that if  is a tree, then between every pair of distinct vertices
there is a unique path.

    Assume  is a tree, and let  and  be distinct vertices (if  only has one vertex,
then the conclusion is satisfied automatically). We must show two things to show
that there is a unique path between  and : that there is a path, and that there
is not more than one path. The first of these is automatic; since  is a tree, it is
connected, so there is a path between any pair of vertices.

    To show the path is unique, we suppose there are two paths between  and ,
and get a contradiction. The two paths might start out the same, but since they are
different, there is some first vertex  after which the two paths diverge. However,
since the two paths both end at , there is some first vertex after  that they have
120 2. Graph Theory

in common, call it . Now consider the two paths from  to . Taken together,
these form a cycle, which contradicts our assumption that  is a tree.

    Now we consider the converse: If between every pair of distinct vertices of 
there is a unique path, then  is a tree. So assume the hypothesis: Between every
pair of distinct vertices of  there is a unique path. To prove that  is a tree, we
must show it is connected and contains no cycles.

    The first half of this is easy:  is connected, because there is a path between
every pair of vertices. To show that  has no cycles, we assume it does, for the sake
of contradiction. Let  and  be two distinct vertices in a cycle of . Since we can
get from  to  by going clockwise or counterclockwise around the cycle, there are
two paths from  and , contradicting our assumption.

    We have established both directions so we have completed the proof.

    Read the proof above very carefully. Notice that both directions had two parts:
the existence of paths, and the uniqueness of paths (which related to the fact that
there were no cycles). In this case, these two parts were really separate. In fact, if we
just considered graphs with no cycles (a forest), then we could still do the parts of
the proof that explore the uniqueness of paths between vertices, even if there might
not exist paths between vertices.

    This observation allows us to state the following corollary.5

      Corollary 2.2.3

    A graph  is a forest if and only if between any pair of vertices in  there is at most
    one path.

    We do not give a proof of the corollary (it is, after all, supposed to follow directly
from the proposition), but for practice, you are asked to give a careful proof in the
exercises. When you do so, try to use proof by contrapositive instead of proof by
contradiction.

    Our second proposition tells us that all trees have leaves: vertices of degree one.

      Proposition 2.2.4

    Any tree with at least two vertices has at least two vertices of degree one.

Proof. We give a proof by contradiction. Let  be a tree with at least two vertices,
and suppose, contrary to stipulation, that there are not two vertices of degree one.

    Let  be a path in  of longest possible length. Let  and  be the endpoints of
the path. Since  does not have two vertices of degree one, at least one of these
must have degree two or higher. Say that it is . We know that  is adjacent to a
vertex in the path , but now it must also be adjacent to another vertex, call it .

    Where is ? It cannot be a vertex of , because if it was, there would be two
distinct paths from  to : the edge between them, and the first part of  (up to

    5A corollary is another sort of provable statement, like a proposition or theorem, but one that
follows direction from another already established statement, or its proof.
                                                                                                                2.2. Trees 121

). But  also cannot be outside of , for if it was, there would be a path from 
to  that was longer than , which has the longest possible length.

    This contradiction proves that there must be at least two vertices of degree one.
In fact, we can say a little more:  and  must both have degree one.

    The proposition is quite useful when proving statements about trees, because
we often prove statements about trees by induction. This is a proof technique that
we investigate fully in Section 4.5, but for now, all we need to understand is that it is
useful to compare a given tree to smaller trees. To show something is true of a tree
with  vertices, we will assume the thing is true of all trees with  - 1 vertices. By
removing a vertex of degree 1, we get this smaller tree, and then we just need to
show that putting the vertex back doesn't mess us up.

    Is there a tree with exactly 7 vertices and 7 edges? Try to draw one. Could a tree
with 7 vertices have only 5 edges? There is a good reason that these seem impossible
to draw.

     Proposition 2.2.5

    Let  be a tree with  vertices and  edges. Then  =  - 1.

    We will prove that this proposition is true for all possible values of   1. Note
that if  = 1, then the tree must have 0 edges, so yes,  =  - 1. We could then look
at trees with  = 2 vertices (there is only one, and it has  = 1 =  - 1 edges) and
then all trees with  = 3 vertices, and then  = 4, and so on, but that would take
forever. Literally!

    Instead, we will do a version of proof by contradiction called the minimal criminal.
We will assume the proposition is not true (just like we would start any proof by
contradiction). This means that there is some smallest tree for which it isn't true.
If this smallest counterexample (i.e., minimal criminal) has  vertices, then we are
guaranteed that all trees with  - 1 vertices are not counterexamples. Let's see how
this works out.

Proof. Suppose, for the sake of contradiction, that the proposition is not true for
all trees. Let  be a tree for which the proposition is not true, with the smallest
number of vertices among all the counterexamples. Let  be the number of vertices
of .

    Since the only tree with one vertex has zero edges, that cannot be our tree ,
so we can assume   2. In particular, we know by Proposition 2.2.4 that  must
contain at least one vertex of degree 1, call it 0.

    Let  be the tree resulting from removing 0 from  (together with its incident
edge). Since we removed a leaf,  is still a tree (the unique paths between pairs of
vertices in  are the same as the unique paths between them in ).

    Now  has  -1 vertices. Since  was the smallest tree for which the proposition
isn't true, we know that the proposition is true for . So  must have one fewer
edges than vertices; that is,  has  - 2 edges. But  has one more edge than ,
so it has  - 1 edges. This contradicts our assumption that  does not satisfy the
122 2. Graph Theory

proposition, which completes our proof.

                                  2.2.3 Spanning Trees

One of the advantages of trees is that they give us a few simple ways to travel
through the vertices. If a connected graph is not a tree, then we can still use these
traversal algorithms if we identify a subgraph that is a tree.

    First we should consider if this even makes sense. Given any connected graph ,
will there always be a subgraph that is a tree? Well, that is actually too easy: You
could just take a single vertex of . If we want to use this subgraph to tell us how to
visit all vertices, then we want our subgraph to include all of the vertices. We call
such a tree a spanning tree.

      Definition 2.2.6
    Given a connected graph , a spanning tree of  is a subgraph of  which is
    a tree and includes all the vertices of .

    It turns out that every connected graph has one (and usually many).

      Theorem 2.2.7

    Every connected graph has a spanning tree.

    How do we know? We can give an algorithm for finding a spanning tree! Start
with a connected graph . If there is no cycle, then  is already a tree and we are
done. If there is a cycle, let  be any edge in that cycle and consider the new graph
1 =  -  (i.e., the graph you get by deleting ). This tree is still connected: Since 
belonged to a cycle, there were at least two paths between its incident vertices. Now
repeat: If 1 has no cycles, we are done; otherwise define 2 to be 1 - 1, where 1
is an edge in a cycle in 1. Keep going. This process must eventually stop, since
there are only a finite number of edges to remove. The result will be a tree, and since
we never removed any vertex, a spanning tree.

    This is by no means the only algorithm for finding a spanning tree. You could
have started with the empty graph and added edges that belong to , as long as
adding them would not create a cycle. You have some choices as to which edges you
add first: You could always add an edge adjacent to edges you have already added
(after the first one, of course), or add them using some other order. Which spanning
tree you end up with depends on these choices.

  Example 2.2.8

    Find two different spanning trees of the graph,
                                                                                                                2.2. Trees 123

    Solution. Here are two spanning trees.

    Although we will not consider this in detail, these algorithms are usually applied
to weighted graphs. Here every edge has some weight or cost assigned to it. The goal
is to find a spanning tree that has the smallest possible combined weight. Such a
tree is called a minimum spanning tree. Finding the minimum spanning tree uses
basically the same algorithms as we described above, but when picking an edge to
add, you always pick the smallest (or when removing an edge, you always remove
the largest).6

                                    2.2.4 Rooted Trees

So far, we have thought of trees only as a particular kind of graph. However, it is
often useful to add additional structure to trees to help solve problems. Data is often
structured like a tree. This book, for example, has a tree structure: Draw a vertex for
the book itself. Then draw vertices for each chapter, connected to the book vertex.
Under each chapter, draw a vertex for each section, connecting it to the chapter it
belongs to. The graph will not have any cycles; it will be a tree, but a tree with a clear
hierarchy which is not present if we don't identify the "book vertex" as the "top".

    As soon as one vertex of a tree is designated as the root, then every other vertex
on the tree can be characterized by its position relative to the root. This works
because there is a unique path between any two vertices in a tree. So from any vertex,
we can travel back to the root in exactly one way. This also allows us to describe how
distinct vertices in a rooted tree are related.

    If two vertices are adjacent, then we say one of them is the parent of the other,
which is called the child of the parent. Of the two, the parent is the vertex that is
closer to the root. Thus the root of a tree is a parent, but is not the child of any vertex
(and is unique in this respect: All non-root vertices have exactly one parent).

    Not surprisingly, the child of a child of a vertex is called the grandchild of
the vertex (and it is the grandparent). More generally, we say that a vertex  is a

    6 If you add the smallest edge adjacent to edges you have already added, you are doing Prim's
algorithm. If you add the smallest edge in the entire graph, you are following Kruskal's algorithm.
124 2. Graph Theory

descendent of a vertex  provided  is a vertex on the path from  to the root. Then
we would call  an ancestor of .

    For most trees (in fact, all except paths with one end the root), there will be pairs

of vertices neither of which is a descendant of the other. We might call these cousins
or siblings. In fact, vertices  and  are called siblings provided they have the same

parent. Note that siblings are never adjacent (do you see why?).

Example 2.2.9

Consider the tree below.                               

                                                 

                                                       

                                                     

    If we designate vertex  as the root, then , , and  are the children of  ,
and are siblings of each other. Among the other things we cay say are that 
is a child of , and a descendant of  . The vertex  is a descendant of  , in
fact, is a grandchild of  . Vertices  and  are siblings, since they have the
common parent .

    Notice how this changes if we pick a different vertex for the root. If  is
the root, then its lone child is , which also has only one child, namely . We
would then have  the child of  (instead of the other way around), and  is
the descendant of , instead of the ancestor.  and  are now siblings.

    All of this flowery language helps us describe how to navigate through a tree.
Traversing a tree, visiting each vertex in some order, is a key step in many algorithms.
Even if the tree is not rooted, we can always form a rooted tree by picking any vertex
as the root. Here is an example of why doing so can be helpful.

  Example 2.2.10

    Explain why every tree is a bipartite graph.

    Solution. To show that a graph is bipartite, we must divide the vertices into
    two sets,  and , so that no two vertices in the same set are adjacent. Here is
    an algorithm that does just this.

         Designate any vertex as the root. Put this vertex in set . Now put all of
    the children of the root in set . None of these children are adjacent (they are
    siblings), so we are good so far. Now put into  every child of every vertex
    in  (i.e., every grandchild of the root). Keep going until all vertices have
    been assigned one of the sets, alternating between  and  every "generation."
    That is, a vertex is in set  if and only if it is the child of a vertex in set .
                                                                                                                2.2. Trees 125

    The key to how we partitioned the tree in the example was to know which vertex
to assign to a set next. We chose to visit all vertices in the same generation before
any vertices of the next generation. This is usually called a breadth-first search
(we say "search" because you often traverse a tree looking for vertices with certain
properties).

    In contrast, we could also have partitioned the tree in a different order. Start
with the root; put it in . Then look for one child of the root to put in . Then find a
child of that vertex, into , and then find its child, into , and so on. When you get
to a vertex with no children, retreat to its parent, and see if the parent has any other
children. So we travel as far from the root as fast as possible, then backtrack until we
can move forward again. This is called depth-first search.

    These algorithmic explanations can serve as a proof that every tree is bipartite,
although care needs to be spent to prove that the algorithms are correct. Another
approach to prove that all trees are bipartite, using induction, is requested in the
exercises.

                               2.2.5 Reading Questions

1. Suppose  is a tree with 10 vertices. Which of the following statements must
       be true about ? Select all that apply.

          A.  has a unique path between every pair of vertices.

          B. If you removed any edge from , the resulting graph would be discon-
              nected.

          C. If you added any edge between two vertices in  (that were not already
              adjacent), the resulting graph would have a cycle.

          D.  has exactly two vertices of degree one.
2. If a tree has 20 vertices, how many edges does it have?
3. What questions do you have after reading this section? Write at least one

       question about the content of this section that you are curious about.

                                2.2.6 Practice Problems

1. Are the following statements true or false?

         (a) Every tree is bipartite.

         (b) Every bipartite graph is a tree.

         (c) There is a forest with more edges than vertices.

         (d) There is a tree with 6 vertices and 6 edges.

         (e) Every tree with 7 vertices has the same number of edges.
126 2. Graph Theory

2. A forest contains 30 vertices and 21 edges. How many connected components
       does the graph have?

3. A connected graph with 22 vertices contains 29 edges. Without knowing which
       particular graph this is, what is the smallest and largest possible number of
       edges you can remove to get a spanning tree?
           Smallest number of edges to remove:
           Largest number of edges to remove:

4. The average degree of a tree is 1.992 (that is, if you sum the degrees of vertices
       and divide by the number of vertices, you get 1.992).
           How many vertices does the tree have?

5. A tree contains some number of leaves (degree 1 vertices) and four non-leaf
       vertices. The degrees of the non-leaf vertices are 8, 6, 5, and 3. How many
       leaves does the tree have?
           Smallest number of leaves possible:
           Largest number of leaves possible:

                              2.2.7 Additional Exercises

1. Which of the following graphs are trees?

         (a)  = ( , ) with  = {, , , , } and  =
              {{, }, {, }, {, }, {, }, {, }}

         (b)  = ( , ) with  = {, , , , } and  = {{, }, {, }, {, }, {, }}

         (c)  = ( , ) with  = {, , , , } and  = {{, }, {, }, {, }, {, }}

         (d)  = ( , ) with  = {, , , , } and  = {{, }, {, }, {, }}
2. For each degree sequence below, decide whether it must always, must never, or

       could possibly be a degree sequence for a tree. Remember, a degree sequence
       lists out the degrees (number of edges incident to the vertex) of all the vertices
       in a graph in non-increasing order.

         (a) (4, 1, 1, 1, 1)

         (b) (3, 3, 2, 1, 1)

         (c) (2, 2, 2, 1, 1)

         (d) (4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1)
3. For each degree sequence below, decide whether it must always, must never,

       or could possibly be a degree sequence for a tree. Justify your answers.
         (a) (3, 3, 2, 2, 2)
         (b) (3, 2, 2, 1, 1, 1)
         (c) (3, 3, 3, 1, 1, 1)
                  2.2. Trees 127

         (d) (4, 4, 1, 1, 1, 1, 1, 1)
4. Suppose you have a graph with  vertices and  edges that satisfies  =  + 1.

       Must the graph be a tree? Prove your answer.

5. Prove that any graph (not necessarily a tree) with  vertices and  edges that
       satisfies  >  + 1 will NOT be connected.

6. If a graph  with  vertices and  edges is connected and has  <  + 1, must it
       contain a cycle? Prove your answer.

7. We define a forest to be a graph with no cycles.

         (a) Explain why this is a good name. That is, explain why a forest is a union
              of trees.

         (b) Suppose  is a forest consisting of  trees and  vertices. How many
              edges does  have? Explain.

         (c) Prove that any graph  with  vertices and  edges that satisfies  <  + 1
              must contain a cycle (i.e., not be a forest).

8. Give a careful proof of Corollary 2.2.3: A graph is a forest if and only if there
       is at most one path between any pair of vertices. Use proof by contrapositive
       (and not a proof by contradiction) for both directions.

9. Give a careful minimal criminal proof that every tree is bipartite.

10. Consider the tree drawn below.

              

                

         (a) Suppose we designate vertex  as the root. List the children, parents, and
              siblings of each vertex. Does any vertex other than  have grandchildren?

         (b) Suppose  is not chosen as the root. Does our choice of root vertex change
              the number of children  has? The number of grandchildren? How many
              are there of each?

         (c) In fact, pick any vertex in the tree and suppose it is not the root. Explain
              why the number of children of that vertex does not depend on which
              other vertex is the root.

         (d) Does the previous part work for other trees? Give an example of a
              different tree for which it holds. Then either prove that it always holds or
              give an example of a tree for which it doesn't.

11. Let  be a rooted tree that contains vertices , , and  (among others, possibly).
       Prove that if  is a descendant of both  and , then  is a descendant of  or 
       is a descendant of .
128 2. Graph Theory

12. Unless it is already a tree, a given graph  will have multiple spanning trees.
       How similar or different must these be?

         (a) Must all spanning trees of a given graph be isomorphic to each other?
              Explain why or give a counterexample.

         (b) Must all spanning trees of a given graph have the same number of edges?
              Explain why or give a counterexample.

         (c) Must all spanning trees of a graph have the same number of leaves
              (vertices of degree 1)? Explain why or give a counterexample.

13. Find all spanning trees of the graph below. How many different spanning trees
       are there? How many different spanning trees are there up to isomorphism (that
       is, if you grouped all the spanning trees by which are isomorphic, how many
       groups would you have)?

                       

                                            
                       

                       

14. Give an example of a graph that has exactly 7 different spanning trees. Note, it
       is acceptable for some or all of these spanning trees to be isomorphic.

15. Prove that every connected graph which is not itself a tree must have at least
       three different (although possibly isomorphic) spanning trees.

16. Consider edges that must be in every spanning tree of a graph. Must every
       graph have such an edge? Give an example of a graph that has exactly one
       such edge.
                           2.3 Planar Graphs

       Objectives

     After completing this section, you should be able to do the following.
         1. Distinguish between planar and non-planar graphs.
         2. Use Euler's formula to prove that certain graphs are non-planar.
         3. Apply Euler's formula to polyhedra.

                                  2.3.1 Section Preview
       Investigate!

     When a connected graph can be drawn without any edges crossing, it is
     called planar. When a planar graph is drawn in this way, it divides the
     plane into regions called faces.

         1. Draw, if possible, two different planar graphs with the same number
             of vertices, edges, and faces.

         2. Draw, if possible, two different planar graphs with the same number
             of vertices and edges, but a different number of faces.

    When is it possible to draw a graph so that none of the edges cross? If this is
possible, we say the graph is planar (since you can draw it on the plane).

    Notice that the definition of planar includes the phrase "it is possible to." This
means that even if a graph does not look like it is planar, it still might be. Perhaps
you can redraw it in a way in which no edges cross. For example, this is a planar
graph:

    That is because we can redraw it like this:

                                                    129
130 2. Graph Theory

    The graphs are the same, so if one is planar, the other must be, too. However, the
original drawing of the graph was not a planar representation of the graph.

    When a planar graph is drawn without edges crossing, the edges and vertices of
the graph divide the plane into regions. We will call each region a face. The graph
above has 3 faces (yes, we do include the "outside" region as a face). The number
of faces does not change no matter how you draw the graph (as long as you do so
without the edges crossing), so it makes sense to ascribe the number of faces as a
property of the planar graph.

    WARNING: you can only count faces when the graph is drawn in a planar way.
For example, consider these two representations of the same graph:

    If you try to count faces using the graph on the left, you might say there are 5
faces (including the outside). But drawing the graph with a planar representation
shows that in fact there are only 4 faces.

                                           Preview Activity
1.

         (a) Draw a connected planar graph with 5 vertices and 5 edges. How many
              faces (including the "outside" face) does your graph have?

         (b) Now add a single edge to your graph, between two vertices that are not
              already adjacent. Assuming the resulting graph is still planar, list the
              number of vertices, edges, and faces it now has.

         (c) Now add another edge to the graph, this time to a new vertex. Assuming
              the resulting graph is still planar, list the number of vertices, edges, and
              faces it now has.

2. Now draw at least three more connected, planar graphs, each with at least six
       vertices. Count the number of vertices , edges , and faces  for each graph
       and record your data in the table below.
                                                                     2.3. Planar Graphs 131

                                                        

3. Do you notice any patterns? What happens to the numbers if you add an edge

between two non-adjacent vertices? What happens if you add a new vertex

and connect it to an existing vertex?
    Conjecture an expression that involves the number of vertices , the number

of edges , and the number of faces  that remains constant for all connected

planar graphs. What is that constant?

Hint. You might conjecture an expression like + . But this is not right,

because  there  is  a  planar  graph  for  which  this  would  be    5+5  =  5  and  another
                                                                      2
                                                          6+7
planar  graph  for  which  the  expression  would  be      3     5.

      What sort of expression will stay constant if  and  both increase by 1?

And also stay constant if  and  both increase by 1?

4. A cube is made of six squares, each of which shares an edge with each of its
       neighbors. Vertices of the cube join three of the squares.

(a) How many vertices, edges, and faces does a cube have?

(b) Does this match the relationship you conjectured above?

                   2.3.2 Euler's Formula for Planar Graphs

There is a connection between the number of vertices (), the number of edges (),
and the number of faces (  ) in any connected planar graph. This relationship is
called Euler's formula.

Euler's Formula for Planar Graphs.

For any connected planar graph with  vertices,  edges, and  faces, we

have

                                 -  +  = 2.

    Why is Euler's formula true? One way to convince ourselves of its validity is to
draw a planar graph step by step. Start with the graph 2:

    Any connected graph (besides just a single isolated vertex) must contain this
subgraph. Now we build up to our graph by adding edges and vertices. Each step
will consist of either adding a new vertex connected by a new edge to part of your
132 2. Graph Theory

graph (so creating a new "spike") or by connecting two vertices already in the graph
with a new edge (completing a circuit).

    What do these "moves" do? When adding the spike, the number of edges
increases by 1, the number of vertices increases by 1, and the number of faces
remains the same. But this means that  -  +  does not change. Completing a
circuit adds one edge, adds one face, and keeps the number of vertices the same. So
again,  -  +  does not change.

    Since we can build any graph using a combination of these two moves, and doing
so never changes the quantity  -  +  , that quantity will be the same for all graphs.
But notice that our starting graph 2 has  = 2,  = 1, and  = 1, so  -  +  = 2.

    The argument we have outlined above is not quite correct, since we made the
unjustified assumption that all graphs can be built up from 2 using only the two
moves we described. To avoid this issue, we can use a minimal criminal argument.
You are asked to do this in the exercises, but the idea is essentially the same as we
have here, except that we start with a minimal connected planar graph that does
not satisfy the formula, then remove either an edge or a vertex (and its edge) to get
a smaller connected planar graph that does satisfy the formula. But just like the
adding moves we have described above, removing an edge or a vertex does not
change the quantity  -  +  .

                               2.3.3 Non-planar Graphs

       Investigate!

     For the complete graphs , we would like to be able to say something
     about the number of vertices, edges, and (if the graph is planar) faces. Let's
     first consider 3:

         1. How many vertices does 3 have? How many edges?
         2. If 3 is planar, how many faces should it have?
          Repeat parts (1) and (2) for 4, 5, and 23.
          What about complete bipartite graphs? How many vertices, edges, and
     faces (if it were planar) does 7,4 have? For which values of  and  are 
     and , planar?
                                                                                                    2.3. Planar Graphs 133

    Not all graphs are planar. If there are too many edges and too few vertices, then
some of the edges will need to intersect. The smallest graph where this happens is
5.

    If you try to redraw this without edges crossing, you quickly get into trouble.
There seems to be one edge too many. In fact, we can prove that no matter how you
draw it, 5 will always have edges crossing.

      Theorem 2.3.1
    5 is not planar.

Proof. The proof is by contradiction. So assume that 5 is planar. Then the graph
must satisfy Euler's formula for planar graphs. 5 has 5 vertices and 10 edges, so
we get

                                            5 - 10 +  = 2,
which says that if the graph is drawn without any edges crossing, there would be
 = 7 faces.

    Now consider how many edges surround each face. Each face must be
surrounded by at least 3 edges. Let  be the total number of boundaries around all
the faces in the graph. Thus we have that 3   . But also  = 2, since each edge
is used as a boundary exactly twice. Putting this together we get

                                                3   2.
    But this is impossible, since we have already determined that  = 7 and  = 10,
and 21  20. This is a contradiction, so in fact 5 is not planar.
    The other simplest graph which is not planar is 3,3

    Proving that 3,3 is not planar answers the classic houses and utilities puzzle: it
is not possible to connect each of three houses to each of three utilities without the
lines crossing.
134 2. Graph Theory

      Theorem 2.3.2
    3,3 is not planar.

Proof. Again, we proceed by contradiction. Suppose 3,3 were planar. Then by
Euler's formula, there will be 5 faces, since  = 6,  = 9, and 6 - 9 +  = 2.

     How many boundaries surround these 5 faces? Let  be this number. Since
each edge is used as a boundary twice, we have  = 2. Also,   4  since each
face is surrounded by 4 or more boundaries. We know this is true because 3,3 is
bipartite, so does not contain any 3-edge cycles. Thus

                                                4   2.

     But this would say that 20  18, which is clearly false. Thus 3,3 is not planar.
     Note the similarities and differences in these proofs. Both are proofs by contra-
diction, and both start with using Euler's formula to derive the (supposed) number
of faces in the graph. Then we find a relationship between the number of faces and
the number of edges based on how many edges surround each face. This is the only
difference. In the proof for 5, we got 3   2 and for 3,3 we had 4   2. The
coefficient of  is the key. It is the smallest number of edges that could surround any
face. If some number of edges surround a face, then these edges form a cycle. So
that number is the size of the smallest cycle in the graph.
     In general, if we let  be the size of the smallest cycle in a graph ( stands for
girth, which is the technical term for this) then for any planar graph we have    2.
When this disagrees with Euler's formula, we know for sure that the graph cannot
be planar.7

                                      2.3.4 Polyhedra

       Investigate!

     A cube is an example of a convex polyhedron. It contains 6 identical squares
     for its faces, 8 vertices, and 12 edges. The cube is a regular polyhedron (also
     known as a Platonic solid) because each face is an identical regular polygon
     and each vertex joins an equal number of faces.

          There are exactly four other regular polyhedra: the tetrahedron, octahe-
     dron, dodecahedron, and icosahedron, with 4, 8, 12, and 20 faces respectively.
     How many vertices and edges do each of these have?

     Another area of mathematics where you might have heard the terms "vertex,"
"edge," and "face" is geometry. A polyhedron is a geometric solid made up of flat
polygonal faces joined at edges and vertices. We are especially interested in convex

    7Note that for technical reasons, the girth of a graph without any cycles (a forest) is defined to be
infinity, and in this case, we definitely don't have    2, even though all trees are planar.
                                                                                                    2.3. Planar Graphs 135

polyhedra, which means that any line segment connecting two points on the interior
of the polyhedron must be entirely contained inside the polyhedron.8

    Notice that since 8 - 12 + 6 = 2, the vertices, edges, and faces of a cube satisfy
Euler's formula for planar graphs. This is not a coincidence. We can represent a
cube as a planar graph by projecting the vertices and edges onto the plane. One
such projection looks like this:

    In fact, every convex polyhedron can be projected onto the plane without edges
crossing. Think of placing the polyhedron inside a sphere, with a light at the center
of the sphere. The edges and vertices of the polyhedron cast a shadow onto the
interior of the sphere. You can then cut a hole in the sphere in the middle of one of
the projected faces and "stretch" the sphere to lie down flat on the plane. The face
that was punctured becomes the "outside" face of the planar graph.

    The point is, we can apply what we know about graphs (in particular planar
graphs) to convex polyhedra. Since every convex polyhedron can be represented as
a planar graph, we see that Euler's formula for planar graphs holds for all convex
polyhedra as well. We also can apply the same sort of reasoning we use for graphs
in other contexts to convex polyhedra. For example, we know that there is no convex
polyhedron with 11 vertices all of degree 3, as this would make 33/2 edges.

  Example 2.3.3

    Is there a convex polyhedron consisting of three triangles and six pentagons?
    What about three triangles, six pentagons, and five heptagons (7-sided
    polygons)?
    Solution. How many edges would such polyhedra have? For the first
    proposed polyhedron, the triangles would contribute a total of 9 edges, and
    the pentagons would contribute 30. However, this counts each edge twice
    (as each edge borders exactly two faces), giving 39/2 edges, an impossibility.
    There is no such polyhedron.

         The second polyhedron does not have this obstacle. The extra 35 edges
    contributed by the heptagons give a total of 74/2 = 37 edges. So far so good.
    Now how many vertices does this supposed polyhedron have? We can use
    Euler's formula. There are 14 faces, so we have  - 37 + 14 = 2 or equivalently
     = 25. But now use the vertices to count the edges again. Each vertex must

    8An alternative definition for convex is that the internal angle formed by any two faces must be less
than 180 deg.
136 2. Graph Theory

have degree at least three (that is, each vertex joins at least three faces since
the interior angle of all the polygons must be less that 180), so the sum of the

degrees of vertices is at least 75. Since the sum of the degrees must be exactly

twice the number of edges, this says that there are strictly more than 37 edges.

Again, there is no such polyhedron.

    To conclude this application of planar graphs, consider the regular polyhedra.
We claimed there are only five. How do we know this is true? We can prove it using
graph theory.

     Theorem 2.3.4

    There are exactly five regular polyhedra.

Proof. Recall that all the faces of a regular polyhedron are identical regular

polygons and that each vertex has the same degree. Consider four cases, depending

on the type of regular polygon.
    Case 1: Each face is a triangle. Let  be the number of faces. There are then

3  /2 edges. Using Euler's formula, we have  - 3  /2 +  = 2 so  = 2 +  /2.
Now each vertex has the same degree, say . So the number of edges is also /2.

Putting this together gives

                         = 3 = ,  (2 +  /2)
                        2  2

which says               = 6 4 +  . 

    Both  and  must be positive integers. Note that 4+  6  is an increasing function
for positive  , bounded above by a horizontal asymptote at  = 6. Thus the only
possible values for  are 3, 4, and 5. Each of these is possible. To get  = 3, we need
 = 4 (this is the tetrahedron). For  = 4 we take  = 8 (the octahedron). For  = 5
take  = 20 (the icosahedron). Thus there are exactly three regular polyhedra with

triangles for faces.
    Case 2: Each face is a square. Now we have  = 4  /2 = 2  . Using Euler's

formula, we get  = 2 +  , and counting edges using the degree  of each vertex

gives us                 = 2  = . (2 +  )
    Solving for  gives                   2

                         = 4 2 +  = 4 + 2  .  8 

    This is again an increasing function, but this time the horizontal asymptote is
at  = 4, so the only possible value that  could take is 3. This produces 6 faces,

and we have a cube. There is only one regular polyhedron with square faces.
                                                                     2.3. Planar Graphs 137

    Case 3: Each face is a pentagon. We perform the same calculation as above,
this time getting  = 5  /2 so  = 2 + 3  /2. Then

                                  = 5 = ,  (2 + 3  /2)
                                    2           2

so 10 
                                               = 4+3 .

    Now the horizontal asymptote is at 103 . This is less than 4, so we can only hope
to have  = 3. We can do so by using 12 pentagons, getting the dodecahedron.

This is the only regular polyhedron with pentagons as faces.
    Case 4: Each face is an -gon with   6. Following the same procedure as

above, we deduce that                = 2 4 + ( - 2)  ,  

which  will  be  increasing  to  a  horizontal  asymptote  of  2     When  = 6, this

                                                               -2 .
asymptote is at  = 3. Any larger value of  will give an even smaller asymptote.

Therefore no regular polyhedra exist with faces larger than pentagons.9

                               2.3.5 Reading Questions

1. Is the graph shown below planar? Explain your answer.

2. Suppose you draw a graph with 10 vertices and 14 edges in such a way that no
       edges cross. How many faces could your graph have? Explain your answer(s).

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                2.3.6 Practice Problems

1. Are the following statements true or false?

         (a) 7 is planar
         (b) 6 is not planar
         (c) 5 is planar
         (d) 3,3 is planar

    9Notice that you can tile the plane with hexagons. This is an infinite planar graph; each vertex has
degree 3. These infinitely many hexagons correspond to the limit as    to make  = 3.
138 2. Graph Theory

         (e) 4,4 is not planar

          (f) 4,5 is planar

         (g) 3,10 is not planar

         (h) 2,5 is not planar
2. Suppose  is a planar connected graph. It has 15 edges, and 6 faces. How

       many vertices does  have?
3. Suppose a connected graph has 9 vertices, and every vertex has degree 3.

a. How many edges does the graph have?

b. If the graph were planar, how many faces would it have?

4. Let's prove that 11 is not planar:
           First, how many vertices and how many edges does 11 have?
           If we assume that 11 were planar, then how many faces would it have?

However, since every face is bounded by at least    edges, and every

edge borders exactly       faces, we can get a bound on the number of faces.

What is the largest number of faces possible based on this line of reasoning?

                     .

This is a contradiction, so 11 is not planar. QED.

5. Suppose the graph is planar but not connected, and has 7 components. Draw

enough examples to derive a variant of Euler's formula for this case.

-+  =                   .

                              2.3.7 Additional Exercises

1. Is it possible for a planar graph to have 6 vertices, 10 edges, and 5 faces?
       Explain.

2. The graph  has 6 vertices with degrees 2, 2, 3, 4, 4, 5. How many edges does 
       have? Could  be planar? If so, how many faces would it have? If not, explain.

3. Is it possible for a connected graph with 7 vertices and 10 edges to be drawn so
       that no edges cross and create 4 faces? Explain.

4. Is it possible for a graph with 10 vertices and edges to be a connected planar
       graph? Explain.

5. Is there a connected planar graph with an odd number of faces where every
       vertex has degree 6? Prove your answer.

6. I'm thinking of a polyhedron containing 12 faces. Seven are triangles and four
       are quadrilaterals. The polyhedron has 11 vertices including those around the
       mystery face. How many sides does the last face have?

7. Consider some classic polyhedrons.

         (a) An octahedron is a regular polyhedron made up of 8 equilateral triangles
                                                                                                    2.3. Planar Graphs 139

              (it sort of looks like two pyramids with their bases glued together). Draw
              a planar graph representation of an octahedron. How many vertices,
              edges, and faces does an octahedron (and your graph) have?

         (b) The traditional design of a soccer ball is a (spherical projection of a)
              truncated icosahedron. This consists of 12 regular pentagons and 20
              regular hexagons. No two pentagons are adjacent (so the edges of each
              pentagon are shared only by hexagons). How many vertices, edges,
              and faces does a truncated icosahedron have? Explain how you arrived
              at your answers. Bonus: draw the planar graph representation of the
              truncated icosahedron.

         (c) Your "friend" claims that he has constructed a convex polyhedron out
              of 2 triangles, 2 squares, 6 pentagons, and 5 octagons. Prove that your
              friend is lying. Hint: each vertex of a convex polyhedron must border at
              least three faces.

8. Prove Euler's formula using a minimal criminal argument, where minimum
       means smallest number of edges

9. Prove Euler's formula using a minimal criminal argument, where minimum
       means smallest number of vertices.

10. Euler's formula ( -  +  = 2) holds for all connected planar graphs. What if a
       graph is not connected? Suppose a planar graph has two components. What is
       the value of  -  +  now? What if it has  components?

11. Prove that the Petersen graph (below) is not planar.

12. Prove that any planar graph with  vertices and  edges satisfies   3 - 6.
13. Prove that any planar graph must have a vertex of degree 5 or less.
14. Give a careful proof that the graph below is not planar.
140 2. Graph Theory

15. Explain why we cannot use the same sort of proof we did in Exercise 2.3.7.14
       to prove that the graph below is not planar. Then explain how you know the
       graph is not planar anyway.
                   2.4 Euler Trails and Circuits

       Objectives

     After completing this section, you should be able to do the following.
         1. Identify whether a graph or multigraph has an Euler trail or circuit.
         2. Justify why the necessary condition for a graph having an Euler trail
             is necessary.
         3. Distinguish between Euler trails and Hamilton paths, and decide
            which is more appropriate to use for a given problem.

                                  2.4.1 Section Preview
       Investigate!

     A spider is standing on one face of an octahedron (a polyhedron with eight
     triangular faces). She wants to crawl along the solid from face to face so that
     she crosses each edge exactly once. Is this possible? If so, how?

    If we start at a vertex and trace along edges to get to other vertices, we create a
walk through the graph. More precisely, a walk in a graph is a sequence of vertices
such that every vertex in the sequence is adjacent to the vertices before and after it
in the sequence. If the walk travels along every edge exactly once, then the walk is
called an Euler trail (or Euler walk or Euler path). If, in addition, the starting and
ending vertices are the same (so you trace along every edge exactly once and end
up where you started), then the walk is called an Euler circuit (or Euler tour). Of
course if a graph is not connected, there is no hope of finding such a trail or circuit.
For the rest of this section, assume all the graphs discussed are connected.

    The bridges of Königsberg problem is really a question about the existence of
Euler trails. There will be a route that crosses every bridge exactly once if and only
if the multigraph below has an Euler trail:

                                                    141
142 2. Graph Theory

    This graph is small enough that we could actually check every possible walk that
does not reuse edges, and in doing so convince ourselves that there is no Euler trail
(let alone an Euler circuit). On small graphs that do have an Euler trail, it is usually
not difficult to find one. Our goal is to find a quick way to check whether a graph
has an Euler trail or circuit, even if the graph is quite large.

                                           Preview Activity
Which of the graphs below have an Euler trail? Which have an Euler circuit?

   1     2  3

4     5     6

1. Write down the degree sequence of the graphs above.
           What might the connection be between the degree sequence and the

       existence of an Euler trail or circuit?
                                            2.4. Euler Trails and Circuits 143

2. One way to write down an Euler trail or circuit is to list the edges in order. Each
       edge will be a pair of vertices, and to indicate what direction we travel over
       that edge, we can write it as an ordered pair rather than a set. For example,
       consider this graph:

   b                                        d

a     c

There are two Euler trails we could write:

                  (, ), (, ), (, ) or (, ), (, ), (, ).
(a) Write down an Euler trail for the graph below.

      c

ab                                          ef

                                                             d

               For each vertex, write down its degree and the number of times it appears
               in your list of edges.

         (b) Suppose you have a graph with degree sequence (4, 2, 2, 2, 2) that has an
               Euler trail. How many times will the name of the degree 4 vertex appear
               in your list of edges?

          (c) Suppose you have a graph with an Euler trail written as a list of edges.
              What can you conclude about a vertex that appears exactly 3 times in the
               list? Select all the choices that could be true.

                         2.4.2 Conditions for Euler Trails

One way to guarantee that a graph does not have an Euler circuit is to include a
"spike," a vertex of degree 1.

         

    The vertex  has degree 1, and if you try to make an Euler circuit, you see that
you will get stuck at the vertex. It is a dead end. That is, unless you start there. But
then there is no way to return, so there is no hope of finding an Euler circuit. There
is however an Euler trail. It starts at the vertex , then loops around the triangle.
You will end at the vertex of degree 3.

    You run into a similar problem whenever you have a vertex of any odd degree.
144 2. Graph Theory

If you start at such a vertex, you will not be able to end there (after traversing every
edge exactly once). After using one edge to leave the starting vertex, you will be left
with an even number of edges emanating from the vertex. Half of these could be
used for returning to the vertex, the other half for leaving. So you return, then leave.
Return, then leave. The only way to use up all the edges is to use the last one by
leaving the vertex. On the other hand, if you have a vertex with odd degree at which
you do not start a trail, then you will eventually get stuck at that vertex. The trail
will use pairs of edges incident to the vertex to arrive and leave again. Eventually all
but one of these edges will be used up, leaving only an edge to arrive by, and none
to leave again.

    What all this says is that if a graph has an Euler trail and two vertices with odd
degree, then the Euler trail must start at one of the odd-degree vertices and end at
the other. In such a situation, every other vertex must have an even degree since we
need an equal number of edges to get to those vertices as to leave them. How could
we have an Euler circuit? The graph could not have any odd-degree vertex as an
Euler trail would have to start there or end there, but not both. Thus for a graph to
have an Euler circuit, all vertices must have even degree.

    The converse is also true: if all the vertices of a graph have even degree, then the
graph has an Euler circuit, and if there are exactly two vertices with odd degree,
the graph has an Euler trail. To prove this is a little tricky, but the basic idea is that
you will never get stuck because there is an "outbound" edge for every "inbound"
edge at every vertex. If you try to make an Euler trail and miss some edges, you will
always be able to "splice in" a circuit using the edges you previously missed.

     Euler Trails and Circuits.

        · A graph has an Euler circuit if and only if the degree of every vertex is
            even.

        · A graph has an Euler trail if and only if there are at most two vertices
           with odd degree.

    Since the bridges of Königsberg graph has all four vertices with odd degree,
there is no Euler trail through the graph. Thus there is no way for the townspeople
to cross every bridge exactly once.

                                  2.4.3 Hamilton Paths

Suppose you wanted to tour Königsberg in such a way that you visit each land
mass (the two islands and both banks) exactly once. This can be done. In graph
theory terms, we are asking whether there is a path that visits every vertex exactly
once. Such a path is called a Hamilton path (or Hamiltonian path). We could also
consider Hamilton cycles, which are Hamilton paths that start and stop at the same
vertex.
                                                                                        2.4. Euler Trails and Circuits 145

  Example 2.4.1
    Determine whether the graphs below have a Hamilton path.

    Solution. The graph on the left has a Hamilton path (many different ones,
    actually), as shown here:

         The graph on the right does not have a Hamilton path. You would need
    to visit each of the "outside" vertices, but as soon as you visit one, you get
    stuck. Note that this graph does not have an Euler trail, although there are
    graphs with Euler trails but no Hamilton paths.

    It appears that finding Hamilton paths would be easier because graphs often
have more edges than vertices, so there are fewer requirements to be met. However,
nobody knows whether this is true. There is no known simple test for whether a
graph has a Hamilton path. For small graphs this is not a problem, but as the size of
the graph grows, it gets harder and harder to check whether there is a Hamilton path.
In fact, this is an example of a question which as far as we know is too difficult for
computers to solve in general, as it is an example of a problem that is NP-complete.

                               2.4.4 Reading Questions

1. Is there a graph that has an Euler circuit but not an Euler trail? Explain your
       answer.

2. Can a tree have an Euler tour? Can a tree have an Euler circuit? Explain your
       answers.

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.
146 2. Graph Theory

                                2.4.5 Practice Problems

1. Find an Euler trail in the following graph.

                                                          
                                                                     

                                                  

                                                                          

                                                  
                                                                     

                                                           

2. Which of the graphs below have an Euler circuit? If a graph has an Euler circuit,
       find it.

(a)                              (b)                                        (c)         
                                                                                               
                                                                                 
                                                                                                  
                                                                                 
                                                                                               
                                                                                        

3. Determine which of the following graphs have an Euler circuit or an Euler trail.

(a)

                               ={, , , ,  ,  }
                                ={,   , , ,  ,   ,  ,   }

(b) The graph given by the adjacency list:

                                             u v,w,y,z
                                             v u,w,x,y
                                             w u,v,x,z
                                             x v,w,y,z
                                             y u,v,x,z
                                             z u,w,x,y

(c) The graph given by the adjacency matrix:

                                         011001
                                         101100
                                         110010
                                         010011
                                         001101
                                         100110
                                  2.4. Euler Trails and Circuits 147

4. Add an edge to the following graph (between a pair of vertices that are not
       already adjacent) to make it have an Euler trail. Then find the Euler trail.

                              

                                

                              

                              2.4.6 Additional Exercises

1. You and your friends want to tour the southwest by car. You will visit the nine
       states below, with the following rather odd rule: You must cross each border
       between neighboring states exactly once (so, for example, you must cross the
       Colorado-Utah border exactly once). Can you do it? If so, does it matter where
       you start your road trip? What fact about graph theory solves this problem?

2. Which of the following graphs contain an Euler trail? Which contain an Euler
       circuit?

(a) 4         (b) 5  (c) 5,7  (d) 2,7  (e) 7  (f) 7

3. Edward A. Mouse has just finished his brand new house. The floor plan is

shown below:

(a) Edward wants to give a tour of his new pad to a lady-mouse friend. Is it
     possible for them to walk through every doorway exactly once? If so, in
     which rooms must they begin and end the tour? Explain.

(b) Is it possible to tour the house visiting each room exactly once (not
     necessarily using every doorway)? Explain.
148 2. Graph Theory

         (c) After a few mouse-years, Edward decides to remodel. He would like to
              add some new doors between the rooms he has. Of course, he cannot
              add any doors to the exterior of the house. Is it possible for each room to
              have an odd number of doors? Explain.

4. For which  does the graph  contain an Euler circuit? Explain.
5. For which  and  does the graph , contain an Euler trail? An Euler circuit?

       Explain.
6. For which  does  contain a Hamilton path? A Hamilton cycle? Explain.
7. For which  and  does the graph , contain a Hamilton path? A Hamilton

       cycle? Explain.
8. A bridge builder has come to Königsberg and would like to add bridges so that

       it is possible to travel over every bridge exactly once. How many bridges must
       be built?
9. Below is a graph representing friendships between a group of students (each
       vertex is a student and each edge is a friendship). Is it possible for the students
       to sit around a round table in such a way that every student sits between two
       friends? What does this question have to do with trails?

10. On the table rest 8 dominoes, as shown below. If you were to line them up in a
       single row, so that any two sides touching had matching numbers, what would
       the sum of the two end numbers be?

11. Is there anything we can say about whether a graph has a Hamilton path based
       on the degrees of its vertices?
         (a) Suppose a graph has a Hamilton path. What is the maximum number of
              vertices of degree one the graph can have? Explain why your answer is
              correct.
         (b) Find a graph that does not have a Hamilton path even though no vertex
                                                                                        2.4. Euler Trails and Circuits 149

              has degree one. Explain why your example works.
12. Consider the following graph:

         (a) Find a Hamilton path. Can your path be extended to a Hamilton cycle?
         (b) Is the graph bipartite? If so, how many vertices are in each "part"?
         (c) Use your answer to part (b) to prove that the graph has no Hamilton

              cycle.
         (d) Suppose you have a bipartite graph  in which one part has at least two

              more vertices than the other. Prove that  does not have a Hamilton path.
                           2.5 Coloring

  Objectives

After completing this section, you should be able to do the following.
   1. Determine the chromatic number of a graph.
   2. Determine the chromatic index of a graph
   3. Decide whether using the chromatic number or chromatic index is
       more appropriate to solve particular problems.

                             2.5.1 Section Preview
  Investigate!

Mapmakers in the fictional land of Euleria have drawn the borders of the
various dukedoms of the land. To make the map pretty, they wish to color
each region. Adjacent regions must be colored differently, but it is perfectly
fine to color two distant regions with the same color. What is the fewest
colors the mapmakers can use and still accomplish this task?

                                               150
                                                                                                           2.5. Coloring 151

    Perhaps the most famous graph theory problem is how to color maps.

       Given any map of countries, states, counties, etc., how many colors are
       needed to color each region on the map so that neighboring regions are
       colored differently?

Actual map makers usually use around seven colors. For one thing, they require
watery regions to be a specific color, and with a lot of colors it is easier to find a
permissible coloring. We want to know whether there is a smaller palette that will
work for any map.

    How is this related to graph theory? Well, if we place a vertex in the center of
each region (say in the capital of each state) and then connect two vertices if their
states share a border, we get a graph. Coloring regions on the map corresponds
to coloring the vertices of the graph. Since neighboring regions cannot be colored
the same, our graph cannot have vertices colored the same when those vertices are
adjacent.

    In general, given any graph , a coloring of the vertices is called (not surprisingly)
a vertex coloring. If the vertex coloring has the property that adjacent vertices are
colored differently, then the coloring is called proper. Every graph has a proper
vertex coloring. For example, you could color every vertex with a different color.
But often you can do better. The smallest number of colors needed to get a proper
vertex coloring is called the chromatic number of the graph, written ().

    Our goal in this section is to see how graph coloring can be used to solve some
problems and to understand some basic properties of graph coloring.

                                           Preview Activity

For each graph below:

    · Find a proper vertex coloring using some number of colors. That is, color
       vertices using any number of colors but in such a way that no pair of adjacent
       vertices have the same color.

    · Find the fewest number of colors you need to properly color the vertices of the
       graph. This is called the chromatic number of the graph. Think about how
       you know your answer is correct.

    · Can you generalize? Can you conclude anything about the chromatic number
       for particular sorts of graphs?
152 2. Graph Theory

     1.
                                                            2.

3.  4.

5.  6.

    2.5.2 Coloring Vertices

  Investigate!

The math department plans to offer 10 classes next semester. Some classes
cannot run at the same time (perhaps they are taught by the same professor,
or are required for seniors).
                         2.5. Coloring 153

Class:  Conflicts with:
  A     DI
   B    DIJ
  C     EFI
  D     ABF
   E    CHI
   F    CDI
  G     J
  H     EIJ
   I    ABCEFH
   J    BGH

How many different time slots are needed to teach these classes (and which
should be taught at the same time)? More importantly, how could we use
graph coloring to answer this question?

    The best way to get a feel for the chromatic number is to actually try to color
some graphs.

  Example 2.5.1

    Find the chromatic number of the graphs below.

Solution. The graph on the left is 6. The only way to properly color the
graph is to give every vertex a different color (since every vertex is adjacent to
every other vertex). Thus the chromatic number is 6.

    The middle graph can be properly colored with just 3 colors (Red, Blue,
and Green). For example:
154 2. Graph Theory

                        B

                     G     R

                                  RBG

         There is no way to color it with just two colors, since there are three
    vertices mutually adjacent (i.e., a triangle). Thus the chromatic number is 3.

         The graph on the right is just 2,3. As with all bipartite graphs, this graph
    has chromatic number 2: color the vertices on the top row red and the vertices
    on the bottom row blue.

    It appears that there is no limit to how large chromatic numbers can get. It
should not come as a surprise that  has chromatic number . So how could
there possibly be an answer to the original map coloring question? If the chromatic
number of a graph can be arbitrarily large, then it seems like there would be no
upper bound to the number of colors needed for any map. But there is.

    The key observation is that while it is true that for any number  there is a graph
with chromatic number , only some graphs arrive as representations of maps. If
you convert a map to a graph, the edges between vertices correspond to borders
between the countries. So you should be able to connect vertices in such a way that
the edges do not cross. In other words, the graphs representing maps are all planar!

    So the question is, what is the largest chromatic number of any planar graph?
The answer is the best-known theorem of graph theory:

     Theorem 2.5.2 The Four Color Theorem.

    If  is a planar graph, then the chromatic number of  is less than or equal to 4. Thus
    any map can be properly colored with 4 or fewer colors.

    We will not prove this theorem. Really. Even though the theorem is easy to state
and understand, the proof is not. In fact, there is currently no "easy" known proof
of the theorem. The current best proof still requires powerful computers to check
an unavoidable set of 633 reducible configurations. The idea is that every graph must
contain one of these reducible configurations (this fact also needs to be checked by a
computer) and that reducible configurations can, in fact, be colored in 4 or fewer
colors.

    Cartography is certainly not the only application of graph coloring. There are
plenty of situations in which you might wish to partition the objects in question so
that related objects are not in the same set. For example, you might wish to store
chemicals safely. To avoid explosions, certain pairs of chemicals should not be stored
in the same room. By coloring a graph (with vertices representing chemicals and
                                                               2.5. Coloring 155

edges representing potential negative interactions), you can determine the smallest
number of rooms needed to store the chemicals.

    Here is a further example:

Example 2.5.3

Radio stations broadcast their signal at certain frequencies. However, there
are a limited number of frequencies to choose from, so nationwide, many
stations use the same frequency. This works because the stations are far
enough apart that their signals will not interfere; no one radio could pick
them up at the same time.

    Suppose 10 new radio stations are to be set up in a currently unpopulated
(by radio stations) region. The radio stations that are close enough to each
other to cause interference are recorded in the table below. What is the fewest
number of frequencies the stations could use?

KQEA  KQEA           KQEB  KQEC  KQED  KQEE  KQEF  KQEG  KQEH  KQEI         KQEJ
KQEB                          x     x     x     x     x     x                 x
KQEC     x              x     x           x     x     x     x    x            x
KQED                    x           x           x                x
KQEE     x                    x     x                 x          x            x
KQEF     x                    x     x           x                             x
KQEG                                                  x                       x
KQEH     x                    x                 x
KQEI
KQEJ

Solution. Represent the problem as a graph with vertices as the stations
and edges when two stations are close enough to cause interference. We are
looking for the chromatic number of the graph. Vertices that are colored
identically represent stations that can have the same frequency.

    This graph has chromatic number 5. A proper 5-coloring is shown on the
right. Notice that the graph contains a copy of the complete graph 5, so no
fewer than 5 colors can be used.

                     KQEA                            P   R     G

            KQEJ           KQEB

       KQEI                      KQEC        B                           B
      KQEH                       KQED        R                           B
                                                                 G
               KQEG                               Y      G

                           KQEE

                     KQEF

    In the example above, the chromatic number was 5, but this is not a counterexam-
ple to the Four Color Theorem 2.5.2, since the graph representing the radio stations
156 2. Graph Theory

is not planar. It would be nice to have some quick way to find the chromatic number
of a (possibly non-planar) graph. It turns out nobody knows whether an efficient
algorithm for computing chromatic numbers exists.

    While we might not be able to find the exact chromatic number of a graph easily,
we can often give a reasonable range for the chromatic number. In other words, we
can give upper and lower bounds for the chromatic number.

    This is not very difficult: for every graph , the chromatic number of  is at least
1 and at most the number of vertices of .

    What? You want better bounds on the chromatic number? Well, you are in luck.
    A clique in a graph is a set of vertices all of which are pairwise adjacent. In
other words, a clique of size  is just a copy of the complete graph . We define the
clique number of a graph to be the largest  for which the graph contains a clique
of size . Any clique of size  cannot be colored with fewer than  colors, so we
have a nice lower bound:

     Theorem 2.5.4

    The chromatic number of a graph  is at least the clique number of .

    There are times when the chromatic number of  is equal to the clique number.
These graphs have a special name; they are called perfect. If you know that a graph
is perfect, then finding the chromatic number is simply a matter of searching for the
largest clique.10 However, not all graphs are perfect.

    For an upper bound, we can improve on "the number of vertices" by looking
at the degrees of vertices. Let () be the largest degree of any vertex in the
graph . One reasonable guess for an upper bound on the chromatic number is
()  () + 1. Why is this reasonable? Starting with any vertex, it together with
all of its neighbors can always be colored in () + 1 colors, since at most we are
talking about () + 1 vertices in this set. Now fan out! At any point, if you consider
an already colored vertex, some of its neighbors might be colored, some might not.
But no matter what, that vertex and its neighbors could all be colored distinctly,
since there are at most () neighbors, plus the one vertex being considered.

    In fact, there are examples of graphs for which () = () + 1. For any , the
complete graph  has chromatic number , but () =  - 1 (since every vertex
is adjacent to every other vertex). Additionally, any odd cycle will have chromatic
number 3, but the degree of every vertex in a cycle is 2. It turns out that these are
the only two types of examples where we get equality, a result known as Brooks'
Theorem.

   10There are special classes of graphs that can be proved to be perfect. One such class is the set of
chordal graphs, which have the property that every cycle in the graph contains a chord--an edge
between two vertices in the cycle which are not adjacent in the cycle.
                                                                                                           2.5. Coloring 157

     Theorem 2.5.5 Brooks' Theorem.
    Any graph  satisfies ()  (), unless  is a complete graph or an odd cycle, in
    which case () = () + 1.

    The proof of this theorem is just complicated enough that we will not present
it here (although you are asked to prove a special case in the exercises). The
adventurous reader is encouraged to find a book on graph theory to find suggestions
for how to prove the theorem.

                                  2.5.3 Coloring Edges

The chromatic number of a graph tells us about coloring vertices, but we could
also ask about coloring edges. Just like with vertex coloring, we might insist that
adjacent edges must be colored differently. Here, we are thinking of two edges as
being adjacent if they are incident to the same vertex. The least number of colors
required to properly color the edges of a graph  is called the chromatic index of ,
written ().

  Example 2.5.6

    Six friends decide to spend the afternoon playing chess. Everyone will play
    everyone else once. They have plenty of chess sets, but nobody wants to play
    more than one game at a time. Games will last an hour (thanks to their handy
    chess clocks). How many hours will the tournament last?
    Solution. Represent each player with a vertex and put an edge between two
    players if they play each other. In this case, we get the graph 6:

         We must color the edges; each color represents a different hour. Since
    different edges incident to the same vertex will be colored differently, no
    player will be playing two different games (edges) at the same time. Thus we
    need to know the chromatic index of 6.

         Notice that for sure (6)  5, since there is a vertex of degree 5. It turns
    out, 5 colors is enough (go find such a coloring). Therefore the friends will
    play for 5 hours.

    Interestingly, if one of the friends in the above example left, the remaining 5
chessletes would still need 5 hours: the chromatic index of 5 is also 5.

    In general, what can we say about the chromatic index? Certainly ()  ().
But how much higher could it be? Only a little higher.
158 2. Graph Theory

     Theorem 2.5.7 Vizing's Theorem.

    For any graph , the chromatic index () is either () or () + 1.

    At first, this theorem makes it seem like the chromatic index might not be very
interesting. However, deciding which case a graph is in is not always easy. Graphs
for which () = () are called class 1, while the others are called class 2. Bipartite
graphs always satisfy () = (), so are class 1 (this was proved by König in 1916,
decades before Vizing proved his theorem in 1964). In 1965 Vizing proved that all
planar graphs with ()  8 are of class 1, but this does not hold for all planar
graphs with 2  ()  5. Vizing conjectured that all planar graphs with () = 6
or () = 7 are class 1; the () = 7 case was proved in 2001 by Sanders and Zhao;
the () = 6 case is still open.

Ramsey Theory. There is another interesting way we might consider coloring
edges, quite different from what we have discussed so far. What if we colored
every edge of a graph either red or blue? Can we do so without, say, creating a
monochromatic triangle (i.e., an all red or all blue triangle)? Certainly, for some graphs
the answer is yes. Try doing so for 4. What about 5? 6? How far can we go?

    The problem above is not too difficult and is a fun exercise. We could extend the
question in a variety of ways. What if we had three colors? What if we were trying
to avoid other graphs? Surprisingly, very little is known about these questions. For
example, we know that you need to go up to 17 in order to force a monochromatic
triangle using three colors, but nobody knows how big you need to go with more
colors. Similarly, we know that using two colors, 18 is the smallest graph that forces
a monochromatic copy of 4, but the best we have to force a monochromatic 5 is a
range, somewhere from 43 to 49. If you are interested in these sorts of questions,
this area of graph theory is called Ramsey theory. Check it out.

                               2.5.4 Reading Questions

1. True or false: if a graph contains a vertex of degree 5, then the chromatic
       number of the graph is at least 5. Explain.

2. In your own words, explain the difference between chromatic number and
       chromatic index.

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                2.5.5 Practice Problems

1. Each of the following problems can be solved by finding either the chromatic
       number of a graph or the chromatic index of a graph.
           For each problem, say whether you should find a proper coloring of the
       vertices or of the edges of the graph to solve the problem. Note: you likely don't
                                                                                                           2.5. Coloring 159

       have enough information to actually solve the problem, but this is okay. Just
       say in principle whether this is an edge-coloring or vertex-coloring application.

         (a) Professor Snape stores potion ingredients in as few cabinets as possible,
              but some ingredients can't be stored in the same cabinet because they
              could interact dangerously. How many cabinets are required?

         (b) At a speed dating event, everyone must spend 5 minutes talking to
              another person before moving on to the next. How long must the event
              be?

         (c) Five students will interview with four companies for internships at a job
              fair. How many time slots are needed for interviews?

         (d) The math department wants to schedule common, day-long midterm
              exams over Spring Break, but obviously a student in two classes has to
              have their exams for those classes on different days (and this is the only
              problem with this plan). How many days are needed for exams?

2. What is the chromatic number of each graph?
           13
           4
           13
           6,8
           7

3. What is the chromatic index of each graph?
           14
           12
           5
           4,9
           8

4. The following statements are about the chromatic number () and the
       chromatic index () of graphs. We use () for the maximum degree of .
           Are the following statements true or false?

         (a) If a graph contains a vertex of degree 6, then the chromatic index of the
              graph is at least 6.

         (b) ()  ().

         (c) The chromatic index of any planar graph is at most 4.

         (d) For any cycle, the chromatic index is equal to the chromatic number.
160 2. Graph Theory

                              2.5.6 Additional Exercises

1. What is the smallest number of colors you need to properly color the vertices
       of 4,5? That is, find the chromatic number of the graph.

2. Draw a graph with chromatic number 6 (i.e., which requires 6 colors to properly
       color the vertices). Could your graph be planar? Explain.

3. Find the chromatic number of each of the following graphs.

4. A group of 10 friends decides to head up to a cabin in the woods (where
       nothing could possibly go wrong). Unfortunately, a number of these friends
       have dated each other in the past, and things are still a little awkward. To get to
       the cabin, they need to divide up into some number of cars, and no two people
       who dated should be in the same car.

(a) What is the smallest number of cars you need if all the relationships were
     strictly heterosexual? Represent an example of such a situation with a
     graph. What kind of graph do you get?

(b) Because a number of these friends dated there are also conflicts between
     friends of the same gender, listed below. Now what is the smallest
     number of conflict-free cars they could take to the cabin?

Friend A B C  DE  F  G HI  J

Conflicts CFJ J AEF H CFG ACEGI EFI D AFG B

5. What is the smallest number of colors that can be used to color the vertices of a
       cube so that no two adjacent vertices are colored identically?

6. Prove the chromatic number of any tree is two. Recall, a tree is a connected
       graph with no cycles.

(a) Consider the tree below. If you color the left-most vertex red, what should
     its neighbor be colored? What should the neighbors of the neighbor be
     colored? Describe a procedure to color the tree below using two colors.
                            2.5. Coloring 161

(b) If you used the same procedure to color a cycle, will you always be able
     to color it with two colors?

(c) Prove that your procedure from part (a) always works for any tree.

         (d) Now, give a different proof, this time using induction, that every tree has
              chromatic number 2.

7. The two problems below can be solved using graph coloring. For each problem,
       represent the situation with a graph, say whether you should be coloring
       vertices or edges and why, and use the coloring to solve the problem.

(a) Your Quidditch league has 5 teams. You will play a tournament next
    week in which every team will play every other team once. Each team
     can play at most one match each day, but there is plenty of time in the
     day for multiple matches. What is the fewest number of days over which
     the tournament can take place?

(b) Ten members of Math Club are driving to a math conference in a neigh-
     boring state. However, some of these students have dated in the past, and
     things are still a little awkward. Each student lists which other students
     they refuse to share a car with; these conflicts are recorded in the table
     below. What is the fewest number of cars the club needs to make the trip?
     Do not worry about running out of seats, just avoid the conflicts.

Student: A B C D E F G H I  J

Conflicts: BEJ ADG HJ BF AI DJ B CI EHJ ACFI

8. Prove the 6-color theorem: every planar graph has chromatic number 6 or less.
       Do not assume the 4-color theorem (whose proof is MUCH harder), but you
       may assume the fact that every planar graph contains a vertex of degree at
       most 5.

9. Not all graphs are perfect. Give an example of a graph with chromatic number
       4 that does not contain a copy of 4. That is, there should be no 4 vertices all
       pairwise adjacent.

10. Find the chromatic number of the graph below and prove you are correct.
162 2. Graph Theory

11. Prove that any connected graph  which contains at least one vertex of degree
       less than () (the maximal degree of all vertices in ) has chromatic number
       at most ().

12. You have a set of magnetic alphabet letters (one of each of the 26 letters in the
       alphabet) that you need to put into boxes. For obvious reasons, you don't want
       to put two consecutive letters in the same box. What is the fewest number of
       boxes you need (assuming the boxes are able to hold as many letters as they
       need to)?

13. Suppose you colored the edges of a graph either red or blue (not requiring
       that adjacent edges be colored differently). What must be true of the graph to
       guarantee some vertex is incident to three edges of the same color? Prove your
       answer.

14. Prove that if you color every edge of 6 either red or blue, you are guaranteed
       a monochromatic triangle (that is, an all-red or an all-blue triangle).
                  2.6 Relations and Graphs

  Objectives

After completing this section, you should be able to do the following.
   1. Explain the relationship between a graph and a relation.
   2. Determine whether a relation is reflexive, symmetric, or transitive.
   3. Use an equivalence relation to partition a set and use a partition to
       define an equivalence relation.

                             2.6.1 Section Preview
  Investigate!

Consider the three spinners below.

        2          1                                        3
4          6                                        5

        9          8                                        7

                                                    

    If you and a friend each pick a different spinner and spin them, we can
consider the nine possible outcomes. For example, between spinners  and
, the outcomes are

(2, 1), (2, 6), (2, 8), (4, 1), (4, 6), (4, 8), (9, 1), (9, 6), (9, 8).

This suggests that spinner  will win five out of nine times.
    Compare the other combinations of spinners. Which spinner is best?

    In this section, we will explore a generalization of a graph, called a relation. We
will see how a relation can be represented by a graph and how a graph can be used
to represent a relation. We will also consider some properties that a relation might
have, and how these properties can be used to classify relations into different types.

           163
164 2. Graph Theory

                                           Preview Activity

In a given month, some days are more similar than others. For example, the 3rd
of the month is more like the 24th than it is like the 15th. What does this possibly
mean? We will explore two ways in which this is true.

1. We will say that two numbers between 1 and 31 are related, written    if
       their difference is a multiple of 7. So for example, 3  24, since 24 - 3 = 3 · 7,
       but 3 15 since 15 - 3 = 12 which is not a multiple of 7.

         (a) Which of the following are true? That is, which of the following pairs of
              numbers are related as we have defined above?

 4  14
 7  14
 10  17
 17  24
 10  24
 20  10
 31  3
 25  25

(b) Which of the following statements are true about the  relation in this
     case?

    for every number 
   for any number 
 For any numbers  and , if   , then   
 For any numbers  and , if    and   , then  = 
 For any numbers  and , if    and   , then   

(c) We will write [] for the set of all numbers related to . For example,
    [7] = {7, 14, 21, 28}. Find each of the following:

· [1] =              ;

· [2] =              ;

· [3] =              ;

· [4] =              ;

· [5] =              ;

· [6] =              .

Are there any numbers that are in more than one of the sets [] above?
                 2.6. Relations and Graphs 165

2. When you divide a multiple of 7 by 7, you get a whole number. If you divide
       another number by 7, you can either write the result as a decimal or as a
       quotient and a remainder. For example, 19 ÷ 7 is 2 with a remainder of 5, since
       we can write 19 = 2 · 7 + 5. The remainder is also called the modulus. When
       programming in python (and many other languages), the modulus operator is
       written as %. For example, 19 % 7 is 5. Try this out for a few numbers.

         (a) Find all the numbers  between 1 and 31 that are 5 mod 7. That is, find
              all  such that a % 7 = 5.

         (b) Since the modulus is a function, each number has exactly one modulus
              when divided by 7. This means that the moduli partition the numbers
              from 1 to 31: every number belongs to exactly one of the sets of numbers
              with a particular modulus. We have already found the set for modulus 5.
              Find the other sets.

· a % 7 = 0:  ;

· a % 7 = 1:  ;

· a % 7 = 2:  ;

· a % 7 = 3:  ;

· a % 7 = 4:  ;

· a % 7 = 6:  .

(c) We can use the moduli to define a relation on the numbers from 1 to 31.
    We will say that    if a % 7 = b % 7. In other words, two numbers are
    related if they belong to the same set of the partition we found above.

    Which of the following are true? That is, which of the following pairs of
    numbers are related by this modulus relation?

 4  14
 7  14
 10  17
 17  24
 10  24
 20  10
 31  3
 25  25

                              2.6.2 Relations Generally

A graph is a way to represent some ways that different objects are related. We have
seen how to use graphs to represent which people are friends, or which classes have
time conflicts, or which radio stations are too close to have the same frequency. Not
166 2. Graph Theory

all ways in which things can be related can be represented by a graph, however. In
this section, we will consider the more general concept of a relation and see how
those might be related to graphs.

    Consider the example of the relation between students and classes that holds
when a student is in that class (in a particular semester). This is a relation between
two different sets (the students and the classes). If we used a graph to illustrate this
relation, the graph would be bipartite, since two students are never related to each
other, and two classes are never related to each other.

    A graph is really a set of vertices and a set of edges:  = ( , ); each element of
the set  is a two-element subset of . If we want to draw attention to the bipartiteness
of the graph, we can split up  into its two sets and write  = ((, ), ). In this
notation, for the graph to be bipartite, we want each edge to be a pair (, ) where 
is an element of  and  is an element of . In other words, each edge is an element
of the Cartesian product of  and , written,

                                   ×  = {(, ) :   ,   }.

(Another way to say this is that  ×  is "the set of all ordered pairs of elements
from  and .")

    Note 2.6.1 There is one subtlety here we should point out: the bipartite
    graph we have described really has directed edges from  to  since we are
    considering ordered pairs. Our definition of a graph has edges as two-element
    subsets of vertices, and subsets are not ordered. As long as  and  are disjoint
    sets, there is no confusion here, but we see relations in which  and  share
    some elements, but we still care about the order. More on that soon.

    This example exactly illustrates what a general binary relation is. Here is the
careful definition.

     Definition 2.6.2

    A binary relation is a set of ordered pairs. We say the binary relation is a
    relation on sets  and  provided the ordered pairs are a subset of  × . We
    say a binary relation is a relation on a set  provided the ordered pairs are a
    subset of  × .

    Note that  ×  is just the set of all ordered pairs where both coordinates are
elements from .

  Example 2.6.3

    Consider a set  of students and a set  of classes. Say  = {Al, Bob, Cat, Dirk, Eva}
    and  = {Calculus, Discrete, Statistics}. Everyone except Dirk is in Calculus,
    Bob and Eva are in Discrete, and Al, Cat, and Dirk are in Statistics.

         We can define a relation  of "is taking"  and  that holds of a student
                                 2.6. Relations and Graphs 167

and class precisely if that student is taking that class. Write this relation as a
subset of  ×  and draw its bipartite graph.
Solution. To write the relation precisely, we just give the set of ordered
pairs:

                          = {(Al, Calculus), (Al, Statistics),
                                 (Bob, Calculus), (Bob, Discrete)
                                 (Cat, Calculus), (Cat, Statistics)
                                 (Dirk, Statistics)
                                 (Eva, Calculus), (Eva, Discrete)}

We can draw this relation as a bipartite graph:

Al        Bob  Cat   Dirk        Eva

    Calc       Disc        Stat

Example 2.6.4

 Consider the relation  for "is a multiple of" on the set  = {1, 2, 3, 4, 5, 6}.
 Write this as a set of ordered pairs. Does this relation create a graph?
 Solution. First, let's think about which elements should be related and
 which should not. We know that 6 is a multiple of 2, so the relation is true of
 the pair (6, 2), but 6 is not a multiple of 4, so the pair (6, 4) does not satisfy the
 relation. More precisely, we say that (6, 2)   but (6, 4)  .

      Let's list all the elements of :

                 = {(1, 1), (2, 1), (2, 2), (3, 1), (3, 3), (4, 1), (4, 2), (4, 4),
                        (5, 1), (5, 5), (6, 1), (6, 2)(6, 3), (6, 6)}.

 This relation is not a graph for two reasons: first, elements are related to
 themselves, and second, the order of elements in the relation is not symmetric
 (6 is related to 2, but 2 is not related to 6, for example).

      We can, however, still draw something like a graph to illustrate this
 relation: Since the direction of the relation matters, we will have directed edges.
 This alone would create a directed graph. Since vertices can have edges going
 to themselves, we would call the structure a multigraph, so the relation can
 be thought of as a directed multigraph.
168 2. Graph Theory

                               6  1
                     5                      2

                               4  3

    A binary relation  on sets  and  can always be "turned around" to give a
relation on sets  and . That is,  says how things in  are related to things in ;
those things in  are related to things in , just in an inverse (backward) way. We
will call this new relation the inverse of .

     Definition 2.6.5

    Given a binary relation , define -1 to be the inverse of  as the set

                                      -1 = {(, ) : (, )  }.

    The relation  from Example 2.6.3 said that a given student was in a particular
class. The inverse relation -1 says that a given class has a particular student in
it. For example, (Calculus, Al) is an element of -1. Graphically, there won't be
any difference in the picture, although we could put the set of classes on top and
students on bottom.

    The relation  from Example 2.6.4 gave us that, for example, 6 is a multiple of 2,
since (6, 2)  . For the inverse, we have (2, 6)  -1, which means that 2 is a factor
of 6. For this example, we have represented a relation as a directed multigraph. The
graph of the inverse will look exactly the same, but all the arrows will point in the
opposite direction.

    Another way to create a new relation is to combine two relations. Suppose in
addition to the "is taking" relation from Example 2.6.3, we define a relation "is
taught by" that matches up each course with its instructor. Perhaps Professor X
teaches Calculus. In that case, since Al is taking Calculus, and Calculus is taught by
Professor X, we can conclude that Al is taking a class with Professor X.

     Definition 2.6.6

    Let  be a relation from set  to  and  be a relation from  to . The
    composition of  and  is

               = {(, )   ×  : (, )   and (, )   for some   }

    Note the order in which we wrote the two relations: it's   , not   . The
                                                                                            2.6. Relations and Graphs 169

reason we do this (which might seem backward) is that it agrees with the usual
notation for composition of functions. In fact, functions are nothing but a specific
type of relation!

  Example 2.6.7

    Write out the relation   , composing the relations of Example 2.6.3 and  =
    {(Calculus, Prof X), (Discrete, Prof L), (Statistics, Prof X), (Statistics, Prof S)}. Note
    that here we are saying the statistic course is co-taught by professors X and S.
    Solution. The relation we are looking for is a relation between students and
    professors. We can start with each element of  and extend it by following
    the course to the professor(s) via . So for example, start with Cat, and
    notice that (Cat, Calculus)  . Now look at what Calculus is related to via
    : (Calculus, Prof X)  . Thus we can push these together to conclude that
    (Cat, Prof X)    .

         An alternative approach would be to simply consider which pairs of
    students and professors are linked by a common class. Should the pair
    (Al, Prof L) be an element of the composition? No, because there is no class
    that is both taken by Al and taught by Professor L. On the other hand, we can
    conclude the (Al, Prof X)     since there is a common course. In fact, the
    common course could be Calculus or Statistics (it doesn't matter how many
    common middle steps there are, as long as there is at least one).

         Here is the complete relation:

               = {(Al, Prof X), (Al, Prof S), (Bob, Prof X), (Bob, Prof L),
                        (Cat, Prof X), (Cat, Prof S), (Dirk, Prof X), (Dirk, Prof S),
                        (Eva, Prof X), (Eva, Prof L)}

    Something interesting often happens when you compose a relation with its
inverse. You might have seen something like this for functions in calculus or
algebra:  () =  has an inverse function  -1() = ln(), and we know that
 (  -1()) = ln() = . But functions are relations in which every "input" has exactly
one "output", so perhaps it is not surprising that composing with an inverse just
gives you the identity function. When inputs can have multiple outputs, and outputs
can have multiple inputs, then we get something more.

  Example 2.6.8

    Describe the relation -1  (using our familiar relation  from Example 2.6.3).
    What does this tell us about students and classes?
    Solution. By following the relation, we could start by saying Al is in Calculus,
    and Calculus is taken by Al, so Al is related to Al. But also , Calculus is taken
    by Bob, so now Al is also related to Bob. Is Bob related to Al as well? Yes,
170 2. Graph Theory

    since Bob is taking Calculus and Calculus is taken by Al.
         The composition is telling us which pairs of students have at least one

    class in common. That's almost all pairs of students, except that Dirk is not
    related to Bob or Eva, since they don't take Statistics, and that is the only class
    he takes.

         Instead of writing out the relation (which will almost be all of  × ), here
    is the graph representation.

                                                                                                                            Al
                                                                                                   Eva

                                                                                                                                          Bob

                                                                                                   Dirk
                                                                                                                            Cat

         While we drew a directed multigraph here, the arrows going both ways
    mean that we really could have drawn just a multigraph.

                            2.6.3 Properties of Relations

From this point on, we will just consider relations on a single set (so from a set to
itself). To help understand these relations, let's consider some basic properties a
relation might or might not have.

     Definition 2.6.9 Reflexive, Symmetric, and Transitive.
    Ler  be a relation on the set . We say,

        ·  is reflexive provided (, )   for all   .
        ·  is symmetric provided, for all ,   , if (, )   then (, )  .
        ·  is transitive provided, for all , ,   , if (, )   and (, )  ,

           then (, )  .

    Let's examine each of these properties carefully.
    It will be helpful to consider a few standard examples of relations on sets as we
go. Most relations we consider here will be written using infix notation, just meaning
that we put the relation symbol between the two things it is relating. For example,
the less than relation is almost always written as 2 < 6 rather than writing (2, 6) <.
                                                                                            2.6. Relations and Graphs 171

  Example 2.6.10 Reflexive and non-reflexive relations.

    A relation is reflexive when every element is related to itself. The following
    are reflexive relations:

        · The "less-than-or-equal-to" relation on any set of numbers. Is it the case
            that 3  3? More importantly, is every number no greater than itself?
            Since the answer is yes, this relation is reflexive.

        · The "within 3" relation, that holds of two numbers  and  provided
            | - |  3. To prove that this is reflexive, we simply note that | - | =
            0  3.

        · The "is a multiple of" relation from Example 2.6.4. Note that the directed
            multigraph for this relation had loops at every vertex.

         However, these relations are not reflexive:

        · The "sums to zero" relation, that holds on numbers  and  if  +  = 0.
            Note that while 0 + 0 = 0, so (0, 0) is an element of the relation, every
            other number is not related to itself.

        · Any relation that is described by a graph. Remember, graphs cannot
            have edges looping back to a single vertex, so the edge relation on a
            graph is not reflexive. (A multigraph could be reflexive or not).

    If no element is related to itself (such as in the edge relation for a graph), then
we call the relation irreflexive. Of course, some relations are neither reflexive nor
irreflexive.

    Checking that a relation is reflexive is relatively easy. The other two properties
are phrased as implications, which makes them a little more complex.

  Example 2.6.11 Symmetric and non-symmetric relations.

    Essentially, symmetric relations are the ones that work "both ways." More
    precisely, if  is related to , then  is also related to .

         The following relations are symmetric.
        · The "within 3" relation: if | - |  3 then | - |  3.

        · The "sums to zero" relation: if  +  = 0, then certainly  +  = 0.

        · For any graph, the edge relation is symmetric. Of course, for directed
            graphs this is usually not true.

         On the other hand, these relations are not symmetric.

        ·  is not symmetric. All we need to do to prove that a relation is not
172 2. Graph Theory

           symmetric is to find some  and  such that    but   . Well, 3  4,
           but 4  3. QED.

        · The "is a multiple of" relation is not symmetric. 6 is a multiple of 2 but
           2 is not a multiple of 6.

    Relations that are not symmetric could in fact be antisymmetric, meaning the
only elements for which both (, ) and (, ) are in the relation is when  = . Note
that there are relations that are neither symmetric nor antisymmetric.

    Using the language of inverse relations, a relation is symmetric if and only if the
relation is equal to its inverse.

  Example 2.6.12 Transitive and non-transitive relations.

    If  is related to , and  is related to , does that mean  is related to ? If this
    is true no matter what , , and  are, then we say the relation is transitive.

         Here are some transitive relations.

        · . Suppose    and   . Then clearly   .

        · The "is a multiple of" relation. This is a good one to write a proof for:
           Suppose  is a multiple of  and that  is a multiple of . Then  =   for
           some integer  and  =   for some integer . By substitution,  =   ,
           so  is a multiple of .

         However, the following relations are not transitive.

        · The "within 3" relation is not transitive. All we need to do is find three
           numbers that fail to meet the condition. How about 1, 3, and 5? Here 1
           is within 3 of 3, and 3 is within 3 of 5, but |1 - 5| = 4 so the relation does
           not hold of (1, 5).

        · The "sums to zero" relation is not transitive. Notice that we never
           claimed that , , and  need to be different numbers. Let  = 5,  = -5,
           and  = 5. Then  +  = 0 and  +  = 0, so the relation holds of (, )
           and (, ). But  +  = 10 so the relation does not hold of (, ).

         The edge relation for a graph might or might not be transitive. What
    would a graph look like if its edge relation was transitive?

                             2.6.4 Equivalence Relations

Now we will do something very typical for mathematics: We will look at our most
common types of relations, consider what properties these have, and then classify
other relations that also have these properties as a specific class of relations.

    The relation we are all most familiar with is equality. Which properties of
                                                                                            2.6. Relations and Graphs 173

relations does the equality relation possess? Certainly everything is equal to itself,
so equality is reflexive. If  = , then  = , so equality is symmetric. If  =  and
 = , then  = , so equality is transitive.

    What other relations are reflexive, symmetric, and transitive? Exactly those relations
that behave like equality. We call such relations equivalence relations.

     Definition 2.6.13 Equivalence Relation.

    A relation that is reflexive, symmetric, and transitive is called an equivalence
    relation.

    Remark 2.6.14 Another example of a type of relation that is modeled
    after a classic relation is a partial order. This is a relation that is reflexive,
    antisymmetric, and transitive, just like less-than-or-equal-to. Perhaps you
    noticed already that the subset relation, written , feels a lot like . This is
    because  is also a partial order. So is the "is a multiple of" relation we saw
    above.

         There are lots of interesting things we can say about partial orders and
    the sets they partially order, called partially ordered sets or PoSets. Another
    time.

    None of the examples we have considered so far in this section have been
equivalence relations, but they are ubiquitous in mathematics. They are so common
that it is easy to overlook them as anything worth saying something about at all.
Let's see some examples.

  Example 2.6.15

    Prove that the relation 2, which holds of two integers if their difference is
    even, is an equivalence relation. That is,  2  if and only if  -  = 2 for
    some integer .
    Solution. We simply check the three required properties.

        1. 2 is reflexive: for any integer , we have  -  = 0 and 0 = 2 for  = 0,
           so  2 .

        2. 2 is symmetric: Fix arbitrary integers  and , and assume  2 . That
           means that  -  = 2 for some integer . What about  - ? Well, we
           will have  -  = 2(-), and - is an integer, so we have  2 .

        3. 2 is transitive: Fix arbitrary integers , , and  and assume  2  and
            2 . This means that  -  = 2 and  -  = 2 for some integers 
           and . What about  - ? Well,
                              -  = ( - ) + ( - ) = 2 + 2 = 2( + ).
           Since  +  is an integer, we see that  2  as required.
174 2. Graph Theory

  Example 2.6.16

    Let's call two graphs "degree-sequence-equivalent" if they have the same
    degree sequence. Is this an equivalence relation?
    Solution. Yes it is. Clearly every graph has the same degree sequence as
    itself, so the relation is reflexive. If 1 has the same degree sequence as 2,
    then 2 has the same degree sequence as 1, so the relation is transitive.
    Finally, if 1 has the same degree sequence as 2, which has the same degree
    sequence as 3, then they all have the same degree sequence, so 1 has the
    same degree sequence as 3 (i.e., the relation is transitive).

    This example is almost too obvious. That's because we said that two things are
related if a well-defined property of those things was equal, and equality satisfies the
properties of an equivalence relation. Our next goal is to try to make better sense of
this and see that it is exactly what gives us an equivalence relation.

                   2.6.5 Equivalence Classes and Partitions

Given any relation , we can look at the set of elements that are related to a particular
element. For the "is taking" relation, we can ask what classes Al is taking (i.e., the
classes related to Al). For the "is a multiple of", we can ask which numbers 6 a
multiple of. One way to study the relation is to study the sets of things related to
each element.

     Definition 2.6.17
    Let  be a relation on the set , and let  be an element of . The relation
    class of , written [] is the set of all elements  such that (, )   (the set of
     that are related to  by ). That is,

                                      [] = {   : (, )  }.

         When  is an equivalence relation, we call relation classes equivalence
    classes.

  Example 2.6.18

    Find the relation classes for the "is a multiple of" relation on the set  =
    {1, 2, 3, 4, 5, 6}.
    Solution. There will be six relation classes since each element has a relation
    class. They are:

                                            [1] ={1}
                                            [2] ={1, 2}
                                            [3] ={1, 3}
                                                                                            2.6. Relations and Graphs 175

                                            [4] ={1, 2, 4}
                                            [5] ={1, 5}
                                            [6] ={1, 2, 3, 6}.

    For example, we found [4] by considering all pairs (4, ) that satisfied the
    relation: 4 is a multiple of 1, 2, and 4, so those are the possible values of  that
    we find.

         Look back at the directed multigraph for this relation shown in the solution
    to Example 2.6.4. What are the relation classes? They are nothing but the
    neighbors of each vertex (where neighbor means you follow the arrows in the
    correct direction).

  Example 2.6.19

    Find the equivalence classes for the 2 relation on the integers.
    Solution. On no! Our set is infinite, so we will have infinitely many relation
    classes? Well, we better get started...

         What numbers are related to 1? Remember, we want integers whose
    difference with 1 is a multiple of 2. So 3 for sure. Also 5, and 7, and -1, and -3,
    and... all the odds? Yes, because the difference of any two odd numbers is
    even. We can also say that the difference between any two even numbers is
    even, so the equivalence class of 2 will contain all the even numbers. So far
    we have:

                                    [1] ={. . . , -3, -1, 1, 3, 5, . . .}
                                    [2] ={. . . , -4, -2, 2, 4, 6, . . .}

         Actually, I think we are done. While [3], [4], [5], and so on are all
    completely valid equivalence classes, the elements that are related to 3 will be
    exactly the elements related to 1, since 1 2 3. This is because the relation is
    transitive! If 3 2 , then we know 1 2 .

         So we have exactly two equivalence classes. Every integer is in exactly one
    of these two equivalence classes, and the equivalence class of any integer is
    exactly the class it belongs to.

    Examine the two examples above carefully. For the "is a multiple of" relation,
which is NOT an equivalence relation, some elements belong to more than one
(different) relation class. But for 2, which is an equivalence relation, every element
is in exactly one equivalence class. This is no accident. To make sense of this, we
will define a new term.
176 2. Graph Theory

 Definition 2.6.20

Given a non-empty set , a partition of  is a set  of non-empty subsets of
 such that every element of  is in exactly one element of .

    That definition has a lot of symbols and sets involved. It's really not complicated
though: A partition is a way to break up a set into disjoint subsets that cover the
whole set. That the subsets are disjoint means no element is in more than one subset.
That the subsets cover the set means every element is in at least one subset.

Example 2.6.21

Give a few different partitions of the set  = {1, 2, 3, 4, 5}.
Solution. There are so many choices here! One choice is:

                                    1 = {{1, 2, 3}, {4, 5}}.
That's a partition of  into two subsets. Another partition:

                        2 = {{1}, {2}, {3}, {4}, {5}}.

Another:

                        3 = {{1, 3, 5}, {2, 4}},

which happens to be a partition into even and odd numbers. We also have

the trivial partition:

                        4 = {{1, 2, 3, 4, 5}}.

Note: that is a single set inside the set 4.

    It is sometimes a little confusing to think of the elements of a partition as subsets
since the partition is a set, and a set of sets can be difficult to talk about. We
sometimes call the partition a collection and each of the elements of the partition
parts or blocks.

    Now the big idea: For any equivalence relation, the equivalence classes form
a partition, and for any partition, we can define a relation "are in the same subset"
which will be an equivalence relation. We have already seen that the equivalence
classes of 2 form a partition. Let's go the other direction.

  Example 2.6.22

    Define an equivalence relation  on the set  = {1, 2, 3, 4, 5} from the partition
     = {{1, 4}, {2, 3, 5}}.
    Solution. Say two elements of  are equivalent provided they belong to the
    same element of . That is, 1  4 and 4  1, and 2  3, 2  5, 3  5, 3  2,
                                                                                            2.6. Relations and Graphs 177

    5  2, and 5  3. Wait. We also have 1  1, 2  2, and so on, since every
    number is in the same subset as itself.

         It is clear from looking that this relation is reflexive, symmetric, and
    transitive, so is an equivalence relation.

     Theorem 2.6.23
    Given any equivalence relation  on a set , the equivalence classes form a partition
    of .

         Given any partition  = {1, 2, . . . , } of a set , the relation  defined by
       if and only if  and  belong to the same block of , is an equivalence relation.

         Further, the equivalence classes for the equivalence relation formed by a partition
    are exactly the original partition, and the equivalence relation built by the partition of
    its equivalence classes is exactly the original equivalence relation.

                               2.6.6 Reading Questions

1. Consider the relation  defined on the integers that holds of  and  precisely
       if  -   4. So for example, (2, 7)   but (8, 6)  . Which of the following
       properties of relations does  have?

          A.  is reflexive.
          B.  is irreflexive.
          C.  is symmetric.
          D.  is antisymmetric.
          E.  is transitive.
2. Not all graphs have a transitive edge relation. But do some of them? If so, give
       an example and explain why it is transitive. If not, explain why.
3. After reading this section, what questions do you have? Ask at least one
       question about this section that you are curious about.

                                2.6.7 Practice Problems

1. Which of the following relations on the integers are reflexive?
         (a)    if and only if  +  is odd.
         (b)    if and only if  +  is positive.
         (c)    if and only if    0.
         (d)    if and only if   is positive.
178 2. Graph Theory

         (e)    if and only if  -  is a multiple of 10.
2. Which of the following relations on the integers are symmetric?

         (a)    if and only if  +  is odd.
         (b)    if and only if  +  is positive.
         (c)    if and only if    0.
         (d)    if and only if   is positive.
         (e)    if and only if  -  is a multiple of 10.
3. Which of the following relations on the integers are transitive?
         (a)    if and only if  +  is odd.
         (b)    if and only if  +  is positive.
         (c)    if and only if    0.
         (d)    if and only if   is positive.
         (e)    if and only if  -  is a multiple of 10.
4. Define relations 1, . . . , 6 on 1, 2, 3, 4 by
         (a) 1 = {(2, 2), (2, 3), (2, 4), (3, 2), (3, 3), (3, 4)},
         (b) 2 = {(1, 1), (1, 2), (2, 1), (2, 2), (3, 3), (4, 4)}.
         (c) 3 = {(2, 4), (4, 2)}.
         (d) 4 = {(1, 2), (2, 3), (3, 4)},
         (e) 5 = {(1, 1), (2, 2), (3, 3), (4, 4)},
          (f) 6 = {(1, 3), (1, 4), (2, 3), (2, 4), (3, 1), (3, 4)},

       For each of the relations, determine whether it is any of reflexive, irreflexive,
       symmetric, antisymmetric, and transitive.
5. For each of the following relations on the set of all people, determine whether
       the relation is any of reflexive, irreflexive, symmetric, anitsymmetric, and
       transitive.

         (a)    if and only if  is older than .
         (b)    if and only if  and  have a common grandparent.
         (c)    if and only if  has the same first name as .
         (d)    if and only if  and  were born on the same day.
                                                                                            2.6. Relations and Graphs 179

6. For the following relations on the set of all integers, determine whether the
       relation is any of reflexive, irreflexive, symmetric, antisymmetric, and transitive:

         (a)    if and only if  +  = 0.

         (b)    if and only if  -  is an integer.

         (c)    if and only if  = 2.

         (d)    if and only if   > 1.

                              2.6.8 Additional Exercises

1. Consider the relation > on the set {1, 2, . . . , 8}.

         (a) Draw the directed graph of the relation >.

         (b) Draw the directed graph for the inverse relation >-1.

         (c) Is the inverse relation of > the same as the relation ? Explain.
2. True or false: for any relation  on a set , the relation -1 is symmetric if and

       only if  is symmetric. Justify your answer.
3. True or false: for any relation  on a set , the composition of  with its inverse,

         -1, is always reflexive. Justify your answer.
4. Find, if possible, an example of a relation on the set {1, 2, 3, 4} that is reflexive

       and symmetric, but not transitive. If such a relation exists, draw the directed
       multigraph of the relation and list the ordered pairs that define it. Explain
       your answers.
5. Find, if possible, an example of a relation on the set {1, 2, 3, 4} that is reflexive
       and transitive, but not symmetric. If such a relation exists, draw the directed
       multigraph of the relation and list the ordered pairs that define it. Explain
       your answers.
6. Find, if possible, an example of a relation on the set {1, 2, 3, 4} that is symmetric
       and transitive, but not reflexive. If such a relation exists, draw the directed
       multigraph of the relation and list the ordered pairs that define it. Explain
       your answers.
7. What is wrong with the following argument that any relation that is symmetric
       and transitive must be reflexive?

              Suppose  is a relation on a set  that is symmetric and transitive.
              Since  is symmetric, if , then  holds. Since  is transitive,
              if  and , then  holds. Since this is true for all elements ,
              we have that  is true for all  in , so  is reflexive.
8. Suppose  is an equivalence relation on the set  = {1, 2, . . . , 6}. What could
       the directed multigraph for  look like? Give at least two different examples of
180 2. Graph Theory

       such  and their graphs to illustrate your answer.

9. Consider the relation  on the set  = {1, 2, 3, 4, 5} defined by  =
       {(1, 2), (2, 3), (3, 4), (4, 5), (5, 1), (2, 1), (3, 1), (4, 1), (5, 1)}. Is  an equivalence
       relation? Justify your answer.
           Regardless of your answer, what do the relation classes [] for    look
       like? Can you tell whether  is an equivalence relation from this information?

10. Consider the "loner" relation on a set of students that describes friendships,
       and holds only between a student and themselves (i.e., nobody is friends with
       anyone other than themselves). Is this an equivalence relation? Justify your
       answer. If it is an equivalence relation, what do the equivalence classes look
       like?
            2.7 Matching in Bipartite Graphs

  Investigate!

Given a bipartite graph, a matching is a subset of the edges for which every
vertex belongs to exactly one of the edges. Our goal in this activity is to
discover some criteria for when a bipartite graph has a matching.

    Does the graph below contain a matching? If so, find one.

Not all bipartite graphs have matchings. Draw as many fundamentally

different examples of bipartite graphs that do NOT have matchings. Your

goal is to find all the possible obstructions to a graph having a perfect

matching. Write down the necessary conditions for a graph to have a

matching (that is, fill in the blank: If a graph has a matching, then  ).

Then ask yourself whether these conditions are sufficient (is it true that if

, then the graph has a matching?).

    We conclude with one more example of a graph theory problem to illustrate the
variety and vastness of the subject.

    Suppose you have a bipartite graph . This will consist of two sets of vertices 
and  with some edges connecting some vertices of  to some vertices in  (but of
course, no edges between two vertices both in  or both in ). A matching of  is a
subset of the edges for which each vertex of  belongs to exactly one edge of the
subset, and no vertex in  belongs to more than one edge in the subset. In practice,
we will assume that || = || (the two sets have the same number of vertices), so this
says that every vertex in the graph belongs to exactly one edge in the matching.11

    Some context might make this easier to understand. Think of the vertices in  as
representing students in a class, and the vertices in  as representing presentation
topics. We put an edge from a vertex    to a vertex    if student  would
like to present on topic . Of course, some students would want to present on more
than one topic, so their vertex would have degree greater than 1. As the teacher,
you want to assign each student their own unique topic. Thus you want to find a
matching of : you pick some subset of the edges so that each student gets matched
up with exactly one topic, and no topic gets matched to two students.12

  11What we are calling a matching is sometimes called a perfect matching or complete matching. This is
because it is interesting to look at non-perfect matchings as well. We will call those partial matchings.

  12The standard example for matchings used to be the marriage problem in which  consisted of the

                                                    181
182 2. Graph Theory

    The question is: when does a bipartite graph contain a matching of ? To begin
to answer this question, consider what could prevent the graph from containing a
matching. This will not necessarily tell us a condition when the graph does have a
matching, but at least it is a start.

    One way  could not have a matching is if there is a vertex in  not adjacent to
any vertex in  (so having degree 0). What else? What if two students both like the
same topic, and no others? Then after assigning that one topic to the first student,
there is nothing left for the second student to like, so it is very much as if the second
student has degree 0. Or what if three students like only two topics between them?
Again, after assigning one student a topic, we reduce this to the previous case of
two students liking only one topic. We can continue this way with more and more
students.

    It should be clear at this point that if there is a group of  students who as a
group like  - 1 or fewer topics, then no matching is possible. This is true for any
value of , and any group of  students.

    To make this more graph-theoretic, say you have a set    of vertices. Define
() to be the set of all the neighbors of vertices in . That is, () contains
all the vertices (in ) that are adjacent to at least one of the vertices in . (In the
student/topic graph, () is the set of topics liked by the students of .) Our
discussion above can be summarized as follows:

     Matching Condition.

         If a bipartite graph  = {, } has a matching of , then

                                               |()|  ||

    for all   .

    Is the converse true? Suppose  satisfies the matching condition |()|  || for
all    (every set of vertices has at least as many neighbors as vertices in the set).
Does that mean that there is a matching? Surprisingly, yes. The obvious necessary
condition is also sufficient.13 This is a theorem first proved by Philip Hall in 1935.14

     Theorem 2.7.1 Hall's Marriage Theorem.

    Let  be a bipartite graph with sets  and . Then  has a matching of  if and only
    if

                                               |()|  ||

men in the town,  the women, and an edge represented a marriage that was agreeable to both parties.
A matching then represented a way for the town elders to marry off everyone in the town, no polygamy
allowed. We have chosen a more progressive context for the sake of political correctness.

  13This happens often in graph theory. If you can avoid the obvious counterexamples, you often get
what you want.

  14There is also an infinite version of the theorem, which was proved by Marshal Hall, Jr. The name
is a coincidence though as the two Halls are not related.
                                                                                   2.7. Matching in Bipartite Graphs 183

    for all   .

    There are quite a few different proofs of this theorem - a quick internet search
will get you started.

    In addition to its application to marriage and student presentation topics,
matchings have applications all over the place. We conclude with one such example.

  Example 2.7.2

    Suppose you deal 52 regular playing cards into 13 piles of 4 cards each. Prove
    that you can always select one card from each pile to get one of each of the 13
    card values Ace, 2, 3, . . . , 10, Jack, Queen, and King.
    Solution. Doing this directly would be difficult, but we can use the matching
    condition to help. Construct a graph  with 13 vertices in the set , each
    representing one of the 13 card values, and 13 vertices in the set , each
    representing one of the 13 piles. Draw an edge between a vertex    to
    a vertex    if a card with value  is in the pile . Notice that we are just
    looking for a matching of ; each value needs to be found in the piles exactly
    once.

         We will have a matching if the matching condition holds. Given any set
    of card values (a set   ), we must show that |()|  ||. That is, the
    number of piles that contain those values is at least the number of different
    values. But what if it wasn't? Say || = . If |()| < , then we would have
    fewer than 4 different cards in those piles (since each pile contains 4 cards).
    But there are 4 cards with the  different values, so at least one of these cards
    must be in another pile, a contradiction. Thus the matching condition holds,
    so there is a matching, as required.

                                           Exercises

1. Find a matching of the bipartite graphs below or explain why no matching
       exists.

2. A bipartite graph that doesn't have a matching might still have a partial
       matching. By this we mean a set of edges for which no vertex belongs to more
       than one edge (but possibly belongs to none). Every bipartite graph (with at
       least one edge) has a partial matching, so we can look for the largest partial
       matching in a graph.
           Your "friend" claims that she has found the largest partial matching for the
184 2. Graph Theory

       graph below (her matching is in bold). She explains that no other edge can be
       added, because all the edges not used in her partial matching are connected to
       matched vertices. Is she correct?

3. One way you might check to see whether a partial matching is maximal is to
       construct an alternating path. This is a sequence of adjacent edges, which
       alternate between edges in the matching and edges not in the matching (no
       edge can be used more than once). If an alternating path starts and stops with
       an edge not in the matching, then it is called an augmenting path.
         (a) Find the largest possible alternating path for the partial matching of your
              friend's graph. Is it an augmenting path? How would this help you find
              a larger matching?

         (b) Find the largest possible alternating path for the partial matching below.
              Are there any augmenting paths? Is the partial matching the largest one
              that exists in the graph?

4. The two richest families in Westeros have decided to enter into an alliance by
       marriage. The first family has 10 sons, the second has 10 girls. The ages of the
       kids in the two families match up. To avoid impropriety, the families insist that
       each child must marry someone either their own age, or someone one position
       younger or older. In fact, the graph representing agreeable marriages looks
       like this:
                                                                                   2.7. Matching in Bipartite Graphs 185

           The question: how many different acceptable marriage arrangements which
       marry off all 20 children are possible?

         (a) How many marriage arrangements are possible if we insist that there are
              exactly 6 boys who marry girls not their own age?

         (b) Could you generalize the previous answer to arrive at the total number
              of marriage arrangements?

         (c) How do you know you are correct? Try counting in a different way. Look
              at smaller family sizes and get a sequence.

         (d) Can you give a recurrence relation that fits the problem?
5. We say that a set of vertices    is a vertex cover if every edge of the graph

       is incident to a vertex in the cover (so a vertex cover covers the edges). Since 
       itself is a vertex cover, every graph has a vertex cover. The interesting question
       is about finding a minimal vertex cover, one that uses the fewest possible
       number of vertices.

         (a) Suppose you had a matching of a graph. How can you use that to get a
              minimal vertex cover? Will your method always work?

         (b) Suppose you had a minimal vertex cover for a graph. How can you use
              that to get a partial matching? Will your method always work?

         (c) What is the relationship between the size of the minimal vertex cover
              and the size of the maximal partial matching in a graph?

6. For many applications of matchings, it makes sense to use bipartite graphs. You
       might wonder, however, whether there is a way to find matchings in graphs in
       general.
         (a) For which  does the complete graph  have a matching?
         (b) Prove that if a graph has a matching, then || is even.
         (c) Is the converse true? That is, do all graphs with || even have a matching?
         (d) What if we also require the matching condition? Prove or disprove: If a
              graph with an even number of vertices satisfies |()|  || for all   ,
              then the graph has a matching.
                         2.8 Chapter Summary

Hopefully this chapter has given you some sense of the wide variety of graph theory
topics as well as why these studies are interesting. There are many more interesting
areas to consider, and the list is increasing all the time; graph theory is an active
area of mathematical research.

    One reason graph theory is such a rich area of study is that it deals with such a
fundamental concept: Any pair of objects can either be related or not related. What
the objects are and what "related" means varies depending on context, and this
leads to many applications of graph theory to science and other areas of math. The
objects can be countries, and two countries can be related if they share a border. The
objects could be land masses that are related if there is a bridge between them. The
objects could be websites that are related if there is a link from one to the other. Or
we can be completely abstract: The objects are vertices that are related if there is an
edge between them.

    What question we ask about the graph depends on the application, but often
leads to deeper, general and abstract questions worth studying in their own right.
Here is a short summary of the types of questions we have considered:

    · Can the graph be drawn in the plane without edges crossing? If so, how many
       regions does this drawing divide the plane into?

    · Is it possible to color the vertices of the graph so that related vertices have
       different colors using a small number of colors? How many colors are needed?

    · Is it possible to trace over every edge of a graph exactly once without lifting
       your pencil? What other sorts of "paths" might a graph possess?

    · Can you find subgraphs with certain properties? For example, when does a
       (bipartite) graph contain a subgraph in which all vertices are only related to
       one other vertex?

    Not surprisingly, these questions are often related to each other. For example,
the chromatic number of a graph cannot be greater than 4 when the graph is planar.
Whether the graph has an Euler trail depends on how many vertices each vertex is
adjacent to (and whether those numbers are always even or not). Even the existence
of matchings in bipartite graphs can be proved using paths.

                                      Chapter Review

1. Which (if any) of the graphs below are the same? Which are different? Explain.

                                                    186
                                                                                                 2.8. Chapter Summary 187

2. Which of the graphs in the previous question contain Euler trails or circuits?
      Which of the graphs are planar?

3. Draw a graph that has an Euler circuit but is not planar.
4. Draw a graph that does not have an Euler trail and is also not planar.
5. Consider the graph  = ( , ) with  = {, , , ,  ,  , } and  =

       {, ,   ,  , , } (here we are using the shorthand for edges:  really
       means {, }, for example).

         (a) Is the graph  isomorphic to  = (, ) with  = {, , , , , , }
              and  = {, ,  , , , }? If so, give the isomorphism. If not,
              explain how you know.

         (b) Find a graph  with 7 vertices and 6 edges which is NOT isomorphic to
              , or explain why this is not possible.

         (c) Write down the degree sequence for . That is, write down the degrees of
              all the vertices, in decreasing order.

         (d) Find a connected graph  with the same degree sequence of  which
              is NOT isomorphic to , or explain why this is not possible.

         (e) What kind of graph is ? Is  complete? Bipartite? A tree? A cycle? A
              path? A wheel?

          (f) Is  planar?

         (g) What is the chromatic number of ? Explain.

         (h) Does  have an Euler trail or circuit? Explain.
6. If a graph has 10 vertices and 10 edges and contains an Euler circuit, must it be

       planar? How many faces would it have?
7. Suppose  is a graph with  vertices, each having degree 5.

         (a) For which values of  does this make sense?

         (b) For which values of  does the graph have an Euler trail?

         (c) What is the smallest value of  for which the graph might be planar?
              (tricky)

8. At a school dance, 6 girls and 4 boys take turns dancing (as couples) with each
       other.

         (a) How many couples dance if every girl dances with every boy?

         (b) How many couples dance if everyone dances with everyone else (regard-
              less of gender)?

         (c) Explain what graphs can be used to represent these situations.
188 2. Graph Theory

9. Among a group of  people, is it possible for everyone to be friends with an
       odd number of people in the group? If so, what can you say about ?

10. Your friend has challenged you to create a convex polyhedron containing 9
       triangles and 6 pentagons.

         (a) Is it possible to build such a polyhedron using only these shapes? Explain.

         (b) You decide to also include one heptagon (seven-sided polygon). How
              many vertices does your new convex polyhedron contain?

         (c) Assuming you are successful in building your new 16-faced polyhedron,
              could every vertex be the joining of the same number of faces? Could
              each vertex join either 3 or 4 faces? If so, how many of each type of vertex
              would there be?

11. Is there a convex polyhedron that requires 5 colors to properly color the vertices
       of the polyhedron? Explain.

12. How many edges does the graph , have? For which values of  does the
       graph contain an Euler circuit? For which values of  is the graph planar?

13. The graph  has 6 vertices with degrees 1, 2, 2, 3, 3, 5. How many edges does
        have? If  was planar, how many faces would it have? Does  have an Euler
       trail?

14. What is the smallest number of colors you need to properly color the vertices
       of 7. Can you say whether 7 is planar based on your answer?

15. What is the smallest number of colors you need to properly color the vertices
       of 3,4? Can you say whether 3,4 is planar based on your answer?

16. Prove that 3,4 is not planar. Do this using Euler's formula, not just by appealing
       to the fact that 3,3 is not planar.

17. A dodecahedron is a regular convex polyhedron made up of 12 regular
       pentagons.

         (a) Suppose you color each pentagon with one of three colors. Prove that
              there must be two adjacent pentagons colored identically.

         (b) What if you use four colors?

         (c) What if instead of a dodecahedron you colored the faces of a cube?
18. Decide whether the following statements are true or false. Prove your answers.

         (a) If two graphs 1 and 2 have the same chromatic number, then they are
              isomorphic.

         (b) If two graphs 1 and 2 have the same number of vertices and edges and
              have the same chromatic number, then they are isomorphic.

         (c) If two graphs are isomorphic, then they have the same chromatic number.
                                                                                                 2.8. Chapter Summary 189

19. If a planar graph  with 7 vertices divides the plane into 8 regions, how many
       edges must  have?

20. Consider the graph below:

         (a) Does the graph have an Euler trail or circuit? Explain.
         (b) Is the graph planar? Explain.
         (c) Is the graph bipartite? Complete? Complete bipartite?
         (d) What is the chromatic number of the graph?
21. For each part below, say whether the statement is true or false. Explain why
       the true statements are true, and give counterexamples for the false statements.
         (a) Every bipartite graph is planar.
         (b) Every bipartite graph has chromatic number 2.
         (c) Every bipartite graph has an Euler trail.
         (d) Every vertex of a bipartite graph has even degree.
         (e) A graph is bipartite if and only if the sum of the degrees of all the vertices

              is even.
22. Consider the statement, "If a graph is planar, then it has an Euler trail."

         (a) Write the converse of the statement.
         (b) Write the contrapositive of the statement.
         (c) Write the negation of the statement.
         (d) Is it possible for the contrapositive to be false? If it was, what would that

              tell you?
         (e) Is the original statement true or false? Prove your answer.
          (f) Is the converse of the statement true or false? Prove your answer.
23. Let  be a connected graph with  vertices and  edges. Use mathematical
       induction to prove that if  contains exactly one cycle (among other edges and
       vertices), then  = .

           Note: This is asking you to prove a special case of Euler's formula for planar
       graphs, so do not use that formula in your proof.
                                          Chapter 3

                      Counting

One of the first things you learn in mathematics is how to count. Now we want to
count large collections of things quickly and precisely. For example:

    · In a group of 10 people, if everyone shakes hands with everyone else exactly
       once, how many handshakes take place?

    · How many ways can you distribute 10 Girl Scout cookies to 7 Boy Scouts?
    · How many anagrams are there of "anagram"?
    Before tackling questions like these, let's look at the basics of counting.

               3.1 Pascal's Arithmetical Triangle

       Objectives

     After completing this section, you should be able to do the following.
         1. Use Pascal's triangle to answer counting questions about lattice paths,
             bit strings, and subsets.
         2. Explain how Pascal's triangle is generated and how it relates to
             counting questions.
         3. Explain why Pascal's triangle is related to so many different types of
             counting problems.

                                                    191
192 3. Counting

                                  3.1.1 Section Preview
       Investigate!

     In chess, a rook can move only in straight lines (not diagonally). How many
     ways can the rook in the top-left corner travel to the bottom-right corner of
     the board, moving only down and to the right?

                  R

                                  6

                                           ?

          Also, what does this have to do with counting how many pizzas you can
     order if you use half of the 14 available toppings?

                                           Preview Activity
Let's find some of the numbers of paths that the rook can take to get to various
squares in the chessboard.
1. The 6 in the square in the 3rd row and column represents that there are 6

       different paths to that square, even though there are only four squares the rook
       must move through to get there. One path is DDRR (down down right right).
       List all 6 paths.
2. How many paths are there to the square in row 4, column 2 (diagonally down
       and to the left of the 6)? List out all the paths as D/R strings.

           How many paths is this? That is, what number goes in that square of the
       chessboard?
3. Now let's find the paths to the square in row 4, column 3 (directly below the 6).

           First, list all the paths that end with an R.
           Next, list all the paths that end with a D.
           Are there any other paths? In total, how many paths are there to this
       square?
                                                                                 3.1. Pascal's Arithmetical Triangle 193

4. Continue filling in the chessboard, either counting D/R strings directly or
       using your observation from the previous task. What is the number in the
       lower right corner of the chessboard?
194 3. Counting

    In 1653, Blaise Pascal, concerned with questions that would lay the foundation
of probability theory, collected several facts about a triangular array of numbers in
his Treatise on Arithmetical Triangle. This arrangement of numbers appeared as early
as the 10th century in China, India, and Persia. The Chinese and Persian treatment
of the triangle was in service of what we would now consider algebra: finding
th roots, essentially solving polynomial equations. The numbers in the triangle
appear as solutions to counting problems in Indian texts: from six tastes, how many
combinations of one, or two, or three,... can you make? European mathematicians
in the 14th century presented the triangle as a table of figurate numbers (numbers
that can be arranged in a geometric shape), which were themselves the centerpiece
of the work of Pythagoras and his followers.

    So what is this remarkable triangle that holds the secrets of so many different
mathematical problems? Behold, Pascal's triangle:

                                                         1

                                                      11

                                                  121

                                               1331

                                           14641

                                        1 5 10 10 5 1

                                    1 6 15 20 15 6 1

                                 1 7 21 35 35 21 7 1

                              1 8 28 56 70 56 28 8 1

                          1 9 36 84 126 126 84 36 9 1

                       1 10 45 120 210 252 210 120 45 10 1

                   1 11 55 165 330 462 462 330 165 55 11 1

                1 12 66 220 495 792 924 792 495 220 66 12 1

            1 13 78 286 715 1287 1716 1716 1287 715 286 78 13 1

         1 14 91 364 1001 2002 3003 3432 3003 2002 1001 364 91 14 1

      1 15 105 455 1365 3003 5005 6435 6435 5005 3003 1365 455 105 15 1

  1 16 120 560 1820 4368 8008 11440 12870 11440 8008 4368 1820 560 120 16 1

Figure 3.1.1 Pascal's triangle.
    Spend some time gazing at the beauty of this triangle. What do you notice?

What do you wonder? Look specifically at the 5th row (we call the 1 on the top row
0, so row 5 is 1, 5, 10, 10, 5, 1). How do the numbers in this row relate to the numbers
                                                3.1. Pascal's Arithmetical Triangle 195

above them? Notice that 5 = 1 + 4 and 10 = 4 + 6. Does this occur anywhere else in

the triangle?

Indeed, every number in the triangle is the sum of the two numbers above it. Let's

take this as our definition of Pascal's triangle. We can then generate as many rows

of the triangle as we like. It is this additive definition that was used in China and
Persia to find th roots, and we will briefly mention this use at the end of this section.

However, we are interested in counting questions, so our main goal now is to observe

how the numbers of Pascal's triangle are answers to a variety of counting questions.

Here are some apparently different discrete objects we can count: lattice paths,

bit strings, subsets, and pizzas. We will give an example of each type of counting

problem (and say what these things even are). As we will see, the numbers in

Pascal's triangle are the answers to all of these questions.

Before we jump in, a little bit of notation. Let's give each number in Pascal's

triangle a name, based on its position. Think of each number as being in a row and

a column: rows are counted down, starting at 0, and columns are counted in from
                                                                             
the left, also starting at 0. The entry in row  and column  will be denoted
                                                                             .

For example, the  6  = 20, since that is the value in row 6, column 3. For reasons
                  3                        
                                             as " choose ." We can rewrite the
that will become clear soon, we pronounce

triangle with these names:

                                  0

                                  0

                               1             1

                               0             1

                            2     2             2

                            0     1             2

                     3         3             3                3

                     0         1             2                3

               4            4     4             4                4

               0            1     2             3                4

                                   3.1.2 Lattice Paths

The integer lattice is the set of all points in the Cartesian plane for which both the 
and  coordinates are integers. If you like to draw graphs on graph paper, the lattice
is the set of all the intersections of the grid lines.

    A lattice path is one of the shortest possible paths connecting two points on the
lattice, moving only horizontally and vertically. For example, here are three possible
lattice paths from the point (0, 0) to (3, 2):
196 3. Counting

                 (3,2)         (3,2)            (3,2)

(0,0)                   (0,0)         (0,0)

    Notice that to ensure the path is the shortest possible, each move must be either

to the right or up. Additionally, in this case, no matter what path we take, we must

make three steps right and two steps up. No matter in what order we make these
steps, there will always be five steps. Thus each path has length five.

    The counting question we will ask is this: how many lattice paths are there
between (0, 0) and (3, 2)? In this case, drawing all the paths wouldn't take too long.
Or we could list each path as a string of "directions" such as   ,  , or
 , which correspond to the three paths drawn above, where an  means travel
one unit in the  direction, and similarly for . We would get the following ten

paths:

                                             .
                                      

When the distance between starting and stopping points is larger, we will want to
find a more efficient way to count the paths.

    Let's take what we learned from the rook paths (which are, gasp, actually lattice
paths). Consider the lattice shown below:

                                (3,2)

                                 

                              (0,0)

    Any lattice path from (0,0) to (3,2) must pass through exactly one of  and .
The point  is 4 steps away from (0,0) and two of them are in the  direction. The
last step is also in the  direction, so the paths from (0,0) to (3,2) that pass through 
are exactly the six strings we listed above that end in an . For the paths that pass
through point , the last step will be in the  direction, so the paths from (0,0) to
(3,2) that pass through  are exactly the four strings we listed above that end in a .

So the total number of paths to (3,2) is just 6 + 4.
    The general observation here is that to find the number of paths that start at (0, 0)

and end at (, ), we can find the number of paths to the point directly to the left of
the endpoint, ( - 1, ) and add the number of paths to the point directly below the
endpoint, (,  - 1). This is exactly the same way that Pascal's triangle is generated!
Indeed, if we rotate the lattice appropriately, so the point (0, 0) is at the top of the
                                      3.1. Pascal's Arithmetical Triangle 197

triangle and the axes along the sides of the triangle, we see that the numbers in
Pascal's triangle give us exactly the number of paths to each lattice point.

                                               (0,0)

                                        1

              11

              121

                 1331
              1 4 64 1

                       1 5 10 10 5 1

                                           (3,2)

    To make this observation helpful for actually finding the number of paths from
the origin to a given point, we note that it is the length of the path that determines
the row of Pascal's triangle, and the number of steps in the  direction that says how
far into the triangle we are -- the column of Pascal's triangle.

Example 3.1.2

 How many lattice paths are there from (0, 0) to (4, 7)?
 Solution. The length of these paths is 4 + 7 = 11. Look at the 11th row of
 Pascal's triangle:

                      1, 11, 55, 165, 330, 462, 462, 330, 165, 55, 11, 1.

Count to the 7th position (remembering that the 1 is in position 0) which

gives us  11  = 330 different paths.
          7

                                     3.1.3 Bit Strings

"Bit" is short for "binary digit," so a bit string is a string of binary digits. The binary
digits are simply the numbers 0 and 1. All of the following are bit strings:

                                    1001 0 1111 1010101010.

     The number of bits (0's or 1's) in the string is the length of the string; the strings
above have lengths 4, 1, 4, and 10 respectively. We also can ask how many of the bits
are 1's. The number of 1's in a bit string is the weight of the string; the weights of
the above strings are 2, 0, 4, and 5 respectively.
198 3. Counting

Definition 3.1.3 Bit Strings.

  · An -bit string is a bit string of length . That is, it is a string containing
       symbols, each of which is a bit, either 0 or 1.

  · The weight of a bit string is the number of 1's in it.
  · B is the set of all -bit strings of weight .

    For example, the elements of the set B32 are the bit strings 011, 101, and 110. Those
are the only strings containing three bits, exactly two of which are 1's.

    The counting questions: How many 5-bit strings have weight 3? In other words,
we are asking for the cardinality |B53|.

    Let's just list them and see how many there are.

11001            11100  11010  10110  01110  00111.
                 10101  01101  10011  01011

Great. Ten of them. Actually, I have a confession: I didn't type all of these from
scratch. Instead I just modified the list of 10 lattice paths from (0,0) to (3,2) that we
found earlier. Each  became a 1 and each  became a 0. After all, any lattice path
with length  that requires  steps in the  direction can be represented by a string
of  symbols of two types, with  of those symbols being of one type. Whether
we call the two symbols  and  or we call them 1 and 0 will not change how many
strings we get.

    It is not surprising then that the same relationship between Pascal's triangle and
lattice paths holds for bit strings. Look at the 10 strings above. The first row contains
all the bit strings of B53 that end in a 0. Before that ending 0, we have a string in B43,
since it must have length 4 and weight 3 (the ending 0 increases the length, but not
the weight). The second row contains all the bit strings of B53 that end in a 1. Before
that ending 1, we have a string in B42, since it must have length 4 and weight 2 (the
ending 1 increases the length and the weight). So the number of 5-bit strings of
weight 3 is the sum of the number of 4-bit strings of weight 3 and the number of
4-bit strings of weight 2. In symbols:

                                           |B53| = |B43| + |B42|.

    Now we have two good reasons to believe that Pascal's triangle tells us the
number of bit strings of a given weight: There is a one-to-one correspondence
between lattice paths and bit strings, and the same recursive relationship holds for
bit strings as it does for generating Pascal's triangle. So we can now use the triangle
to count bit strings.
                                         3.1. Pascal's Arithmetical Triangle 199

Example 3.1.4

How many 11-bit strings have weight 5?

Solution.  There will be  11  such strings. From Pascal's triangle, we see that
                          5
511 = 462

                                3.1.4 Subsets and Pizzas

A subset of a set  is any set all of whose elements are also in . Think of starting
with the set  and removing some (or none or all) of its elements: the resulting
set is a subset of . (More information about sets can be found in Section 0.2 and
Section 5.1.)

    Suppose we look at the set  = {1, 2, 3, 4, 5}. How many subsets of  contain
exactly 3 elements? Let's list them all:

{1, 2, 5}      {1, 2, 3}      {1, 2, 4}  {1, 3, 4}    {2, 3, 4}  {3, 4, 5}.
               {1, 3, 5}      {2, 3, 5}  {1, 4, 5}    {2, 4, 5}

    Again, we see there are ten. In fact, we have listed them in the same order as

we listed the ten 5-bit strings of weight 3 and the ten lattice paths from (0,0) to (3,2).

Wait, does this even make sense? In what way is a subset the same as a bit-string?

    Think of each bit in a bit string as representing one of the elements in a set. The
set  has five elements, so we need five bits to represent a subset of . If the bit in
position  is a 0, that means we do not include  in our subset, while a 1 in that
position tells us that  is in the subset. Three 1's means we have said, "yes" to three

elements.

Example 3.1.5

Which subsets of {1, 2, 3, 4, 5, 6} correspond to the bit strings below?

               101011 001000 111111 000000

Solution. Here we are not fixing the weight of the strings, so our subsets
will not all have the same size. Here is the correspondence:

                          101011  {1, 3, 5, 6}
                          001000  {3}
                          111111  {1, 2, 3, 4, 5, 6}
                          000000  

The last subset is the empty set: the set that contains no elements (we could
have also written {}). This is a subset of every set!
200 3. Counting

Remark 3.1.6 What we have done here is give a bection between the set of
5-bit strings of weight 3 and the set of 3-element subsets of . A bection is a
function  :    such that each element of  is the image of exactly one
element from . You can prove that if there is a bection between two sets,

then they have the same number of elements. This is a common counting

technique we will use in the upcoming sections.

This example illustrates that, once again, Pascal's triangle can give us the answer

to a counting question. The number of -element subsets of a set with  elements is

the same as the number of -bit strings of weight , and that is the number in row ,
                          
column  of the triangle:
                          .

Example 3.1.7

How many subsets of the set {, , , ,  ,  , } have exactly 4 elements?

Solution. The set contains 7 elements, so the number of 4-element subsets

is the same as the number of 7-bit strings of weight 4, namely   7  = 35.
                                                                 4

At this point I'm sure we are all getting pretty hungry, so let's get some pizza.

But which pizza shall we order? Let's not overdo it and just choose three toppings

from the ten available. How many different pizzas can we order?

Aha! So that's why we care about counting subsets!! Each pizza choice is nothing

more than a 3-element subset of the set of 10 toppings. We now know how to count

this:  10  = 120 different pizzas.
       3

What if we want an Italian soda with dinner? Let's say we want to add two

different flavored syrups from the 13 available. How many different sodas are

possible? This is just the number of 2-element subsets of a set with 13 elements:

213 = 78.                           as " choose ". It is the number of ways to choose
                             
This is why we pronounce

 items from a collection of  items, since choosing  elements is exactly how you

build a -element subset.

We can view counting lattice paths as choosing  out of  things: Of the  steps

on the path, we choose  of them to be in the  direction. Bit strings can also be

thought of in this way: Of the  bits in the string, we choose  of them to be 1's.

We can now answer all sorts of real-world counting problems, as long as they are

really nothing more than asking for the number of subsets of a set. Pascal's triangle

contains all these answers.

       Counting Subsets.

       The number of -element subsets of a set with  elements is the number
                                        
in row , column  of Pascal's triangle:    ,  which we read as "     choose  ."

This is the number of ways to choose  items from a collection of  items.
                                                                                 3.1. Pascal's Arithmetical Triangle 201

                                       3.1.5 Algebra?

Earlier we said that one of the original uses for Pascal's triangle was to solve problems
in algebra. What does counting subsets (or bit strings or lattice paths) have to do
with algebra?

    Suppose you expand the binomial expression ( + 1)6 (i.e., multiply the binomial
 + 1 by itself six times). This can be tedious to do by hand, but a computer algebra
system such as SageMath can do this easily.

 expand (( x +1) ^6)

 x^6 + 6*x^5 + 15*x^4 + 20*x^3 + 15*x^2 + 6*x + 1
    Do the coefficients look familiar? Consider the 6th row of Pascal's triangle:

                                      1 6 15 20 15 6 1.

Why are these the coefficients?

  Try it 3.1.8

    Modify the SageMath code above to expand ( + 1)10. What is the coefficient
    of 6?

    To see why this is more than just a coincidence, let's look at the expansion of
( + )3 and do it very carefully. We are really multiplying out

                                         ( + )( + )( + ).

This means we must distribute the binomials, which looks like the following. (We
will use a different typeface for each version of the  and  to keep track of where
everything comes from.)

            ( + )3 =( + )(x + y)( +  )
                       =[( + )(x + y)] + [( + )(x + y)]
                       =[( + )x + ( + )y] + [( + )x + ( + )y]
                       =[x + x + y + y] + [x + x + y + y]
                       =x + x + y + y + x + x + y + y .

This repeated distribution results in a sum of terms, each the product of three
variables. We see that each term is the result of choosing either the  or the  from
each of the binomials. For example, the term y is the result of choosing the 
from the first binomial, the y from the second, and the  from the third.

    Say we want to find the coefficient of the 2 therm. We collect like terms,
collecting all the terms in which we have chosen  two times (and  the other one
time). Alternatively, the 2 term comes from all the strings with two  and one ,
202 3. Counting

just like a bit string or lattice path. No matter how you think of it, the result is that

we have  3  = 3 terms with the form 2.
         2
    Hopefully it is clear that this generalizes to the expansion of ( + ) for any

positive integer . This is known as the binomial theorem.

     Theorem 3.1.9 Binomial Theorem.

    The th row of Pascal's triangle gives the coefficients of the expansion of ( + ).
    That is, for any positive integer ,

            ( + ) = 0  + 1 -1  + · · · +   - 1  -1 +   .,

    so the coefficient of  - is  

                                 .

    For this reason, the numbers in Pascal's triangle are often called binomial
coefficients.

  Example 3.1.10

    Without multiplying out the binomial, give the expansion of ( + )5.
    Solution. We take the 5th row of Pascal's triangle: 1, 5, 10, 10, 5, 1. The
    expansion is then,

                    ( + )5 = 5 + 54  + 103 2 + 102 3 + 5 4 + 5.

                 3.1.6 Reading Questions

1. Why is the number of lattice paths from (0, 0) to (3, 5) the same as the number
       of 8-bit strings with weight 5?

2.  Which of the following counting questions have the answer  11  ?  Select  all  that
                                                               5

    apply.

    A. How many lattice paths are there from (0, 0) to (11, 5)?
    B. How many subsets of {1, 2, . . . , 11} contain exactly 5 elements?

    C. How many 11-bit strings have weight 5?

          D. How many ways can you select 5 flavors of ice cream for a giant sundae
              from 11 available flavors?

3. The number of subsets of {1, 2, . . . , 8} of size 3 is the same as the number of
       subsets of {1, 2, . . . , 7} of size either 2 or 3. Explain why this makes sense.

4. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.
                                              3.1. Pascal's Arithmetical Triangle 203

                                3.1.7 Practice Problems

1. Use Pascal's triangle to find the numeric values of the following.

(a) 7                       (c) 8                            (e) 8
      2                           3                                7

(b) 7                       (d) 10                           (f) 13
      3                            5                               2

2. Compute the following sums of the rows of Pascal's triangle.

                            2 + 2 + 2.
                            012

                            3 + 3 + 3 + 3.
                            0123

                            4 + 4 + 4 + 4 + 4.
                            01234

    Now based on your work in the above calculations, give a guess for the
sum of the 13th row of Pascal's triangle.

3. Consider the lattice paths from (3,4) to (8,10).
           How long is each such path?
           How many steps are in the x-direction?
           How many different paths are there?

4. How many lattice paths are there from (, ) to (, )? Give your answer as a
                          
binomial coefficient, so    , but say what    and      are.

5. Consider the bit string 100110010.
           What is the length of the bit string?
           What is the weight of the bit string?
           How many bit strings (including this one) have the same length of weight

       as it?

6. Consider the set B83 of 8-bit strings of weight 3.
           How many 1s are there in each bit-string? How many 0s are there in each

       bit-string?
           How many bit strings are there in the set?
           How many 8-bit strings of weight 5 are there?

7. Suppose you are ordering a calzone from D.P. Dough. You want 5 distinct
       toppings, chosen from their list of 10 vegetarian toppings.

a. How many choices do you have for your calzone?

b. How many choices do you have for your calzone if you refuse to have
   green pepper as one of your toppings?
204 3. Counting

           c. How many choices do you have for your calzone if you insist on having
              green pepper as one of your toppings?

           How do the three questions above relate to each other? Do you see why
       this makes sense?
8. How many subsets of {1, 2, 3, 4, 5, 6, 7, 8} have six elements?

           Of those, how many contain the number 1?
           Of the total number of 6-element subsets, how many do NOT contain the
       number 1?
9. What is the coefficient of 14 in ( + 3)16?
10. What is the coefficient of 9 in the expansion of ( + 2)17 + 4( + 3)21?

3.1.8 Additional Exercises

1. How many lattice paths are there from (0, 0) to (8, 3). How many lattice paths
       are there from (0, 0) to (3, 8)? Why does it make sense that these two numbers

       are the same? Explain your reasoning.

2. Suppose you are counting lattice paths from (0, 0) to (4, 3). We know that the
                         4+3
number of such paths is   4   =  7  = 35. Here is another way to count these
                                 4
paths: Consider the cases for where your first step in the -direction is. There

are five different options here; compute the number of paths for each case.

(a) How many paths are there from (0, 0) to (4, 3) where the first step is in
     the -direction (i.e., paths that pass through the point (0, 1))?

(b) How many paths are there from (0, 0) to (4, 3) that first move one step in
     the -direction, then one step in the -direction (so they pass through
     the points (1, 0) and then (1, 1))?

(c) List the remaining three cases and how many paths there are for each
    case.

         (d) Verify that the sum of the paths in each case is 35. Then describe where
              all these numbers are in Pascal's triangle. Find another instance of this
              pattern and verify that it works.

3. Explain why the coefficient of 53 is the same as the coefficient of 35 in the
       expansion of ( + )8?

4. Consider the expansion of ( + )5.

(a) Use the binomial theorem to write out the expansion of ( + )5.

(b) Using the expanded version of ( + )5, multiply (using the distributive
     property) ( + )5 · ( + ). Simplify your answer, but show all your steps.

(c) How does your previous answer relate to what you get when you apply
    the binomial theorem to ( + )6?
                       3.2 Combining Outcomes

       Objectives

     After completing this section, you should be able to do the following.
         1. Apply the sum and product principles to count the number of outcomes
             of an event.
         2. Solve counting problems using a combination of the sum and product
             principles.
         3. Justify the product principle in terms of the sum principle.

                                  3.2.1 Section Preview

       Investigate!

     A standard deck of playing cards contains 52 cards. There are four suits:
     clubs, diamonds, hearts, and spades. Each suit contains cards of 13 values:
     Ace, 2, 3,..., 10, Jack, Queen, and King.

          We call the hearts and diamonds red cards (with clubs and spades the
     black cards). In each suit, the Jack, Queen, and King are called face cards
     (the others are call number cards).

          Suppose you pick two cards from a deck. How many different combi-
     nations will have the first card be a red card and the second card be a face
     card?

    Combinatorics is about counting, but looking at the word, we see it really deals
with how things combine. In this section, we will consider two very different ways
that we can combine the outcomes we count in combinatorics problems.

                                           Preview Activity
1. A restaurant offers 8 appetizers and 14 entrées. How many choices do you

       have if:
          a. you will eat one dish, either an appetizer or an entrée?
          b. you are extra hungry and want to eat both an appetizer and an entrée?

2. Think about the methods you used to solve the questions about appetizers
       and entrées. Can you frame these as rules for how to combine two numbers of
       things when counting? Write down the rules for these methods.

                                                    205
206 3. Counting

3. Do your rules work? Let's apply them to another counting problem to check.
       Given that a standard deck of playing cards has 12 face cards and 26 red cards,
       answer the following.

         (a) How many ways can you select a card which is either a face card or a red
              card?

         (b) How many ways can you select a card which is both a face card and a red
              card?

                              3.2.2 What are Outcomes?

Before we start counting, a quick note about how we ask counting problems. Often
counting problems are asked terms of how many ways something can happen. That
is, there is some event that can result in different outcomes, and it is the different
outcomes that are counted. Alternatively, we can take a less "active" view by asking
for the number of elements in a set, such as the set of bit strings of a particular length
and weight. However, this too could be rephrased as a question about an event: if
you randomly select one of the bit strings (from the set of bit strings), how many
things can happen?

    So counting the elements in a set or counting the number of outcomes of an
event is not really different. Let's think of every counting problem as asking for the
number of elements in a set of outcomes.

    At the most basic level, counting is not hard at all: Just write all the outcomes in
a numbered list and see how many numbers you use. Let me tell you about my bow
tie collection. I have,

   1. A purple bow tie.

   2. A green bow tie.

   3. A striped bow tie.

   4. A paisley bow tie.

How many bow ties do I have (how many ways can I select a bow tie)? Well, the
largest number in my numbered list is 4, so I have four bow ties.1 Of course, as
we saw in the previous section, we can use shortcuts to avoid listing out all of the
outcomes, such as using Pascal's triangle to find the number of items in our list.

    Where counting begins to get interesting is when we want to make a new list
that combines two or more lists we have already counted. For example, suppose
that in addition to my list of four bow ties, I had a list of seven pairs of novelty socks.
I could ask how many choices I have if I wanted to wear either a cool bow tie or a
pair of novelty socks. Okay, combine my two lists to make a new list with 11 items:
Perhaps first list the four bow ties and then keep counting (starting with 5 for the
first pair of socks) until you have listed the seven additional items, ending at 11.

    1Obviously this example is quite outdated; only four bow ties? What sort of mathematician do you
take me for?
                                                                                             3.2. Combining Outcomes 207

    In this example, we have combined our two sets of outcomes (picking a bow tie
and picking a pair of socks) to get a new set of outcomes (picking a bow tie or pair
of socks). That resulting set of outcomes contained 11 elements.

    Now consider the question: How many choices do I have if I want to wear both
a bow tie and a pair of novelty socks? Again, I need to combine my two sets of
outcomes to get a new set of outcomes. But this new set of outcomes will contain
28 elements. How did I know that I should multiply the number of elements in
each of my original sets, instead of adding them? We are once again combining
outcomes: The resulting set of outcomes that contains 28 elements that are all
outcomes consisting of a bow tie and a pair of socks. Now read the previous
paragraph! They sound very close to each other!

    The difference between the two scenarios is subtle. There are two ways we can
think of combining outcomes:

   1. We can combine the sets of outcomes.

   2. We can combine the outcomes in the sets.

Being able to distinguish between these operations is a key skill in combinatorics.

  Example 3.2.1

    Suppose your refrigerator door has some magnetic letters and numerals on
    it: There are five letters (A, B, C, D, and E) and three numerals (1, 2, and 3).
    Your brother says that if you combine these sets of magnets, you will get a
    collection of 8 magnets. Your sister says that you can combine these magnets
    in 15 ways.

         What sets of outcomes are your siblings thinking of?
    Solution. Your brother is thinking of combining the sets of outcomes. The
    set of outcomes for the letters is {, , , , } and the set of outcomes for
    the numerals is {1, 2, 3}. The set of outcomes for the combined set of magnets
    is {, , , , , 1, 2, 3}, which contains 8 elements.

         Your sister is thinking of combining the outcomes themselves. The set
    of outcomes is {1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3},
    which contains 15 elements.

                      3.2.3 The Sum and Product Principles

Let's carefully write down the rules we can use to combine sets of outcomes and
outcomes in sets.

     Principle 3.2.2 Sum Principle.

    If an event  results in  outcomes, and event  results in  disjoint outcomes,
    then the event " or " results in  +  outcomes.
208 3. Counting

    It is important that the events be disjoint: i.e., that there is no way for  and  to
both happen at the same time. For example, a standard deck of 52 cards contains 26
red cards and 12 face cards. However, the number of ways to select a card which is
either red or a face card is not 26 + 12 = 38. This is because there are 6 cards which
are both red and face cards.

  Example 3.2.3

    How many two-letter "words" start with either A or B? (A word is just a
    sequence of letters; it doesn't have to be English, or even pronounceable.)
    Solution. First, how many two-letter words start with A? We just need to
    select the second letter, which can be accomplished in 26 ways. So there are
    26 words starting with A. There are also 26 words that start with B. To select a
    word that starts with either A or B, we can pick the word from the first 26 or
    the second 26, for a total of 52 words.

         We have two sets of outcomes: the words starting with A and the words
    starting with B. We create a new set of outcomes by combining the sets to get
    the set of words that start with either A or B, and by the sum principle, this
    new set contains 52 outcomes.

    We often use the principle when the sets of outcomes need to be counted using
other counting techniques.

Example 3.2.4

How many 10-bit strings of weight 6 start with either 11 or 00?

Solution. We learned how to count bit strings with a fixed length and weight

in Section 3.1. The total number of 10-bit strings of weight 6 is  10  = 210
                                                                   6

(where that value was found using Pascal's triangle). However, we want to

count just those that start with 11 or 00 (and not those that start with 10 or 01).

Since there are no bit strings that start with both 11 and 00, we can apply

the sum principle. We will compute the size of each set of outcomes and then

add the results.

How many 10-bit strings of weight 6 start with 11? If the string starts with

11, then of the remaining eight bits, there must be four 1's, so that the total

weight is 6. This is just like asking for the number of 8-bit strings with weight

4, so there are   8  = 70 such strings. Similarly, there are  8  = 28 strings that
                  4                                           6

start with 00 (all six 1's must be in the remaining 8 bits). By the sum principle,

the total number of strings we want to count is 70 + 28 = 98.

    We can also use the sum principle indirectly in a way that might be called the
subtraction principle (but isn't).
                                     3.2. Combining Outcomes 209

Example 3.2.5

How many 10-bit strings of weight 6 have at least one 1 in their first three bits?

Solution. There are lots of different ways a string can have at least one 1 in

its first three bits: It could start with 100, 010, 001, 101, 110, 011, or 111. We

could count the number of strings that start with each of them and then apply

the sum principle a bunch of times. But let's not.
    Suppose the number of strings we want to count is . Let  be the number

of 10-bit strings of weight 6 that do not have a 1 in any of their first three bits.

What is  + ? This is the number of 10-bit strings of weight 6 in total, which

is   10  = 210. It is also easy to find : Bit strings with length 10 and weight 6
     6

that start with 000 must end in a bit string with length 7 and weight 6. There

are  7   = 7 of these.
     6

     Thus, we have

                         + 7 = 210,

so  = 210 - 7 = 203.

    While we didn't want to use the sum principle multiple times in the previous
example, we could have. The sum principle works with more than two events. Say,
in addition to your four bow ties and seven pairs of socks, you could also pick
one of five belt buckles. How many choices do you have now? You would have
4 + 7 + 5 = 16 options.

  Example 3.2.6

    How many two-letter words start with one of the 5 vowels?
    Solution. There are 26 two-letter words starting with A, another 26 starting
    with E, and so on. By the sum principle, the total number of words will then
    be 26 + 26 + 26 + 26 + 26 = 130 Of course it would be easier to just multiply
    5 · 26.

    Note that in the previous example, when using the sum principle on a bunch of
outcome sets of the same size, it is quicker to multiply. Let's take advantage of this
observation and state it as a new principle.

     Principle 3.2.7 Product Principle.

    If event  can occur in  ways, and each possibility for  allows for exactly  ways
    for event , then the event " and " can occur in  ·  ways.

    A nice way to picture the product principle is to think of the outcomes as "levels"

in a tree. To illustrate this, consider the counting question of Example 3.2.1: How
many ways can you select a letter from {, , , , } followed by a numeral from
{1, 2, 3}? Here is a tree picture that shows what is going on.
210 3. Counting

                    1 1

                    2 2

                    3 3

                    1 1

                    2 2

                    3 3

                    1 1

                    2 2

                    3 3

                    1 1

                    2 2

                    3 3

                    1 1

                    2 2

                    3 3

    Each leaf of the tree corresponds to an outcome. The tree shows that the three
outcomes of the second level are repeated five times, once for each outcome of the
first level.

Example 3.2.8

How many two-letter words start with one of the 5 vowels? This time use the

product principle to answer the question.

Solution. How can we think of selecting a two-letter word as a sequence of
two events that both happen? Event  is "selecting the vowel that starts the
word." Event  is "selecting the second letter for the word." By the product
principle, there are 5 · 26 = 130 ways for the event " and " to occur.

    Of course the solutions to Example 3.2.6 and Example 3.2.8 are the same, but the
outcomes we are combining and the ways we are combining them are different.

    When applying the sum principle, we combined five disjoint sets of outcomes.
One such set of outcomes was,

                                    {, , , , . . . , }

and another was,

                  {, , , , . . . , }.

That is, each set of outcomes was a set of 2-letter words, starting with a different
vowel. The sum principle combined these five sets to create a new set that contained
exactly the same elements in the original sets, just all together in one set.

    On the other hand, when we applied the product principle, we combined the
outcomes in two sets. The first set was,

                  {, , , , }
                                                      3.2. Combining Outcomes 211

and the second set was,

                            {, , , , . . . , }.

The product principle combines the elements in those sets to make a set of new
outcomes (outcomes not present in any of the sets being combined).

    As with the sum principle, we often use the product principle to define sets of
outcomes that first need to be counted carefully.

Example 3.2.9

How many lattice paths from (0, 0) to (10, 10) pass through the point (4, 7)?

Solution. We can count lattice paths with Pascal's triangle, but how do we

ensure that the path passes through a particular point? Well, any path that

passes through (4, 7) must first go from (0, 0) to (4, 7), and then complete its

journey with a path from (4, 7) to (10, 10).

The number of paths from (0, 0) to (4, 7) is   11  = 330.
                                               4
The number of paths from (4, 7) to (10, 10) is     9
                                                   3  = 84. (The paths have

length 9 and with 6 steps in the  direction.)

    Now combine these with the... wait, what principle? To get a path from
(0, 0) to (10, 10) that passes through (4, 7), we need to first select a path from
(0, 0) to (4, 7) and then add on a path from (4, 7) to (10, 10). So is this the sum

principle???

No! Remember that the sum principle combines the two sets of outcomes.

If we applied the sum principle, we would get a larger set containing the

330 + 84 paths that are contained in each individual set. None of these are

paths we want to count. We want to combine the different elements in our

sets of outcomes in every possible combination. That is why the product

principle is correct here.

Thus, the total number of paths we want to count is 330 · 84 = 27720.

  The product principle generalizes to more than two events as well.

Example 3.2.10

 How many license plates can you make out of three letters followed by three
 numerical digits?
 Solution. Here we have six events: the first letter, the second letter, the third
 letter, the first digit, the second digit, and the third digit. The first three events
 can each happen in 26 ways; the last three can each happen in 10 ways. So the
 total number of license plates will be 26 · 26 · 26 · 10 · 10 · 10, using the product
 principle.

      Does this make sense? Think about how we would pick a license plate.
 How many choices would we have? First, we need to pick the first letter.
 There are 26 choices. Now for each of those, there are 26 choices for the
212 3. Counting

    second letter: 26 second letters with first letter A, 26 second letters with first
    letter B, and so on. We add 26 to itself 26 times. Or quicker: there are 26 · 26
    choices for the first two letters.

         Now for each choice of the first two letters, we have 26 choices for the
    third letter. That is, 26 third letters for the first two letters AA, 26 choices for
    the third letter after starting AB, and so on. There are 26 · 26 of these 26 third
    letter choices, for a total of (26 · 26) · 26 choices for the first three letters. And
    for each of these 26 · 26 · 26 choices of letters, we have a bunch of choices for
    the remaining digits.

         In fact, there are going to be exactly 1000 choices for the numbers. We can
    see this because there are 1000 three-digit numbers (000 through 999). This
    is 10 choices for the first digit, 10 for the second, and 10 for the third. The
    product principle says we multiply: 10 · 10 · 10 = 1000.

         All together, there were 263 choices for the three letters and 103 choices
    for the numbers, so we have a total of 263 · 103 choices of license plates.

    The previous example had an answer that used exponents. So is there an
exponential principle we should learn? We don't separate one out as there really
isn't anything different in the way we think of constructing our outcome sets. But
we will often see the product principle applied to the same event repeated multiple
times. Here are two examples.

  Example 3.2.11

    Suppose you roll a 12-sided die seven times, recording the number that
    appears after each roll. How many sequences of seven rolls are possible?
    Solution. Each roll can result in 12 different outcomes, so by the product
    principle, the total number of sequences is 127.

  Example 3.2.12

    How many different pizzas can you make if you can choose from 10 toppings
    and you can have any number of toppings on your pizza?
    Solution. If we want to apply the product principle, we must think of the
    compound event of picking a pizza as the result of combining some number
    of individual events in every possible combination. What are those events?
    There are multiple answers to this question, but the following is the most
    useful.

         First, decide whether you want to include anchovies on your pizza or not.
    This event could result in two outcomes (yes or no to the anchovies). Second,
    decide whether you want black olives. Then Canadian bacon, then diced
    tomatoes, etc. Each event has two outcomes, and we must combine all ten of
                                                                                             3.2. Combining Outcomes 213

    these outcomes to create a single outcome corresponding to a single pizza.
    Thus, by the product principle, there are 210 possible pizzas.

         By the way, another approach to this problem is to "code" each pizza as a
    bit-string, where a 1 means the topping is included and a 0 means it is not.
    Then the number of pizzas is the number of bit-strings of length 10. Each bit
    in the string has two possible values, so there are 210 10-bit strings.

    Careful: "and" doesn't mean "times." For example, how many playing cards
are both red and a face card? Not 26 · 12. The answer is 6, and we needed to know
something about cards to answer that question.

  Example 3.2.13 Counting functions.

    How many functions  : {1, 2, 3, 4, 5}  {, , , } are there?
    Solution. Remember that a function sends each element of the domain to
    exactly one element of the codomain. To determine a function, we just need
    to specify the image of each element in the domain. Where can we send 1?
    There are 4 choices. Where can we send 2? Again, 4 choices. What we have
    here is 5 "events" (picking the image of an element in the domain) each of
    which can happen in 4 ways (the choices for that image). Thus there are
    4 · 4 · 4 · 4 · 4 = 45 functions.

         This is more than just an example of how we can use the product principle in
    a particular counting question. What we have here is a general interpretation
    of certain applications of the product principle using rigorously defined
    mathematical objects: functions. Whenever we have a counting question that
    asks for the number of outcomes of a repeated event, we can interpret that as
    asking for the number of functions from {1, 2, . . . , } (where  is the number
    of times the event is repeated) to {1, 2, . . . , } (where  is the number of ways
    that event can occur).

                              3.2.4 Combining Principles

Let's return to this section's Investigate! question: How many ways can you select
two cards from a standard deck of 52, so that the first one is a red card and the
second one is a face card?

    This looks a little like the product principle since the outcomes consist of pairs
of cards. There are 26 red cards that are outcomes for the first event, and 12 face
cards that are outcomes for the second event. However, the answer is not 26 · 12. The
problem is that while there are 26 ways for the first card to be selected, it is not the
case that for each of those, there are 12 ways to select the second card. If the first card
was both red and a face card, then there would be only 11 choices for the second
card.

    In Section 3.3 we will explore some ways to adjust for counting problems when
events are not disjoint, but we can solve our card problem now if we are careful.
214 3. Counting

Think about the entire set of two-card outcomes. Can we split these outcomes into
two disjoint sets (as to apply the sum principle) such that each set can be formed
using the product principle?

    Of all the outcomes, we first count those that start with a red, non-face card. Of
the 26 red cards, there are 6 that are face cards, so there are 20 red, non-face cards.
For each of these, there are 12 face cards that can be selected as the second card.
By the product principle, the number of two-card outcomes starting with a red,
non-face card is 20 · 12 = 240.

    Now, what outcomes have we not yet counted? It is exactly the two-card outcomes
that start with a red face card. There are 6 cards we could start with, and for each
there are 11 choices for the second card. So the number of two-card outcomes
starting with a red face card is 6 · 11 = 66.

    Finally, apply the sum principle to these two disjoint sets of outcomes to see that
the total number of two-card outcomes is 240 + 66 = 306.

    We conclude this section with two more examples of how you can use both the
sum and product principles in a single counting problem.

Example 3.2.14

How many lattice paths from (0, 0) to (9, 9) pass through either (2, 6) or (6, 2)?

Solution. We are quite fortunate that no paths from (0, 0) to (9, 9) pass
through both (2, 6) and (6, 2). This means we can apply the sum principle to
the two sets of outcomes: the paths that pass through (2, 6) and the paths
that pass through (6, 2). We will apply the product principle to determine the

number of paths in each of these disjoint sets of outcomes.

     The paths from (0, 0) to (9, 9) that pass through (2, 6) are each the con-

catenation of paths from (0, 0) to (2, 6) and paths from (2, 6) to (9, 9). There

are  8  = 28 paths for the first part and  10  = 120 paths for the second part,
     2                                     7
so applying the product principle gives us 28 · 120 = 3360 paths that pass

through (2, 6).

     The paths from (0, 0) to (9, 9) that pass through (6, 2) can similarly be

calculated as

                 8 · 10 = 28 · 120 = 3360
                 63

(and upon reflection, it is not surprising that the two numbers are the same,
since each path that passes through (2, 6) can be reflected to create a path that
passes through (6, 2)).

    Thus, the total number of paths that pass through either (2, 6) or (6, 2) is

3360 + 3360 = 6720.
                                                                                             3.2. Combining Outcomes 215

  Example 3.2.15

    How many two-digit numbers, using only the digits {1, 2, 3, 4, 5} have the
    sum of their digits even?
    Solution. First think about the set of outcomes. Some two-digit numbers
    that have the sum of their digits even are 11, 13, 15, 22, 24, 31, . . .. Okay, maybe
    it isn't all that difficult to just list them all (and this would be a nice way to
    check our work). Let's try to use the sum and product principles anyway.

         What do we notice about all these numbers? It looks like both digits must
    be even or both digits must be odd, to make the sum even. We can consider
    these two cases, counting each case with the product principle.

         Counting "odd-odd" numbers: three choices for the first digit and three
    choices for the second digit. So there are 3 · 3 = 9 odd-odd numbers.

         Counting "even-even" numbers: two choices for the first digit and two
    choices for the second digit. So there are 2 · 2 = 4 even-even numbers.

         Combined, there are 9 + 4 = 13 two-digit numbers with an even sum of
    digits.

                               3.2.5 Reading Questions

1. How will you decide if you should add or multiply when combining numbers
       in a counting problem? Explain how you are currently thinking about this.

2. Your cousin is trying to solve a counting problem about how many different
       routes he can take between his dorm and his classroom. He has 9 routes that
       make sense, and similarly, there are 9 routes to go back from his classroom to
       his dorm.
           How many round trips are possible? Your cousin says 18, because after
       going from his dorm to the classroom, he has to add on a route back to the
       dorm. Is he right? Why or why not?

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                3.2.6 Practice Problems

1. Your wardrobe consists of 6 shirts, 3 pairs of pants, and 15 bow ties. How many
       different outfits can you make?

2. For your college interview, you must wear a tie. You own 8 regular (boring)
       ties and 3 (cool) bow ties.

          a. How many choices do you have for your neck-wear?

          b. You realize that the interview is for clown college, so you should probably
              wear both a regular tie and a bow tie. How many choices do you have
              now?
216 3. Counting

           c. For the rest of your outfit, you have 2 shirts, 7 skirts, 3 pants, and 8 dresses.
              You want to select either a shirt to wear with a skirt or pants, or just a
              dress. How many outfits do you have to choose from?

3. We usually write numbers in decimal form (or base 10), meaning numbers
       are composed using 10 different "digits" {0, 1, . . . , 9}. Sometimes though it is
       useful to write numbers hexadecimal or base 16. Now there are 16 distinct
       digits that can be used to form numbers: {0, 1, . . . , 9, A, B, C, D, E, F}. So for
       example, a 3 digit hexadecimal number might be 2B8.

          a. How many 3-digit hexadecimals are there in which the first digit is E or
              F?

          b. How many 6-digit hexadecimals start with a letter (A-F) and end with a
              numeral (0-9)?

           c. How many 4-digit hexadecimals start with a letter (A-F) or end with a
              numeral (0-9) (or both)?

4. Let  = {1, 2, 3, 4, 5, 6, 7, 8}

          a. How many subsets are there total?

          b. How many subsets have {2, 3, 5} as a subset?

           c. How many subsets contain at least one odd number?

          d. How many subsets contain exactly one even number?
5. Let  = {1, 2, 3, 4, 5, 6}.

          a. How many subsets are there of cardinality 4?

          b. How many subsets of cardinality 4 have > {2, 3, 5} as a subset?

           c. How many subsets of cardinality 4 contain at least one odd number?

          d. How many subsets of cardinality 4 contain exactly one even number?
6. Let  = {1, 2, 3, 4, 5, 6}.

         (a) How many subsets of  are there?

         (b) How many subsets of  contain exactly 5 elements?

         (c) How many subsets of  contain only even numbers?

         (d) How many subsets of  contain an even number of elements?
7. You break your piggy-bank to discover lots of pennies and nickels. You start

       arranging these in rows of 4 coins.
          a. You find yourself making rows containing an equal number of pennies
              and nickels. For fun, you decide to lay out every possible such row. How
                                                                                             3.2. Combining Outcomes 217

              many coins will you need?

          b. How many coins would you need to make all possible rows of 4 coins
              (not necessarily with equal number of pennies and nickels)?

8. How many 11-bit strings contain 4 or more 1's?
9. How many subsets of {0, 1, . . . , 9} have cardinality 7 or more?
10. How many shortest lattice paths start at (5, 5) and

          a. end at (12, 12)?
          b. end at (12, 12) and pass through (8, 9)?
           c. end at (12, 12) and avoid (8, 9)?

                              3.2.7 Additional Exercises

1. Your Blu-ray collection consists of 9 comedies and 7 horror movies. Give an
       example of a question for which the answer is:

         (a) 16.

         (b) 63.
2. The number 735000 factors as 23 · 3 · 54 · 72. How many divisors does it have?

       Explain your answer using the multiplicative principle.
                     3.3 Non-Disjoint Outcomes

       Objectives

     After completing this section, you should be able to do the following.
         1. Use Venn diagrams to count the number of outcomes in the union of
             non-disjoint sets.
         2. Apply the principle of inclusion/exclusion for two and three sets.
         3. Explain why the principle of inclusion/exclusion works.

                                  3.3.1 Section Preview

       Investigate!

     A recent buzz marketing campaign for The Pie Hole surveyed patrons on
     their pie preferences. People were asked whether they enjoyed (A) Apple,
     (B) Blueberry, or (C) Cherry pie (respondents answered yes or no to each
     type of pie, and could say yes to more than one type). The following table
     shows the results of the survey.

                        Pies enjoyed: A B C AB AC BC ABC
                Number of people: 20 13 26 9 15 7 5
     How many of those surveyed enjoy at least one of the types of pie? Also,
     explain why the answer is not 95.

    In Section 3.2 we explored the sum principle as a way of combining two (or more)
sets of disjoint outcomes. What happens if the outcomes are not disjoint?

    Something different needs to be done. For example, when counting the number
of playing cards that are either face cards or red cards, we cannot apply the sum
principle to claim there are 12 + 26 = 38 cards. The problem is exactly that six cards
are both face cards and red cards. There are a few different ways we can handle this
that we will explore in this section.

                                           Preview Activity
1. Consider the eight bit strings of length 3. Let's find the number of strings that

       start with 1 or have weight 2 (i.e., contain exactly two 1s).
         (a) List all the 3-bit strings that start with 1.
         (b) List all the 3-bit strings that have weight 2.

                                                    218
                                                                                          3.3. Non-Disjoint Outcomes 219

         (c) Now list all the 3-bit strings that start with 1 or have weight 2. But be lazy:
              Don't list them from scratch. Use your lists from the two tasks above.

         (d) How many strings are there in the lists?

                  · Strings that start with 1:

                  · Strings of weight 2:

                  · Strings that start with 1 or have weight 2:
                  · Strings that both start with a 1 and have weight 2:

2. How did you combine your two lists above? Explain how you did it. Then
       think of another method you could have used, and explain how that would be
       different.

3. Xiang and Omari are discussing their favorite mathematicians throughout
       history. Xiang has a list of 7 favorites, while Omari has a list of 5. They discover
       that they have 3 mathematicians in common. How many mathematicians are
       on their combined list?

                       3.3.2 Counting with Venn Diagrams

To understand how to deal with combining sets of outcomes that are not disjoint, it
will be helpful to use some notation from set theory, which we will briefly review
here.

    Let  be the set of outcomes for the first event and  be the set of outcomes for
the second event. When we ask for the number of ways either event can happen,
the new set of outcomes consists of all outcomes that are in , or , or both. This is
nothing more than the union of the set  and , written   .

    The sum principle only applies when no outcome belongs to both events. The
elements that are common to sets  and  are the sets in their intersection, written
  . The intersection of two sets is itself a set. If sets  and  are disjoint, then
there are no elements in the intersection, so the intersection is the empty set, written
.

    We are counting the number of outcomes, so what we are really interested in is
the size (or cardinality) of the sets. We write the size of a set  as ||.

    With this notation in hand, we can restate the sum principle as follows.

     Principle 3.3.1 Sum Principle (with sets).

    Given two sets  and , if    = , then

                                          |  | = || + || .

    Now consider what happens to the sum principle when the sets are NOT disjoint.
Suppose we want to find |  | and know that || = 10 and || = 8. If we knew that
the sets were disjoint, then |  | would be 18. But if we don't have that the sets
are disjoint, we need more information We must know how many of the 8 elements
220 3. Counting

in  are also elements of . Suppose we also know that |  | = 6. Now we can
say exactly how many elements are in , and, of those, how many are in  and how
many are not (6 of the 10 elements are in , so 4 are in  but not in ). We could fill

in a Venn diagram as follows:

                                    

                               462

    This says there are 6 elements in   , 4 elements in  but not  (which we
can write as | \ | = 4), and 2 elements in  but not  (written | \ | = 2). Now
these three sets are disjoint, so we can use the sum principle to find the number of
elements in   . It is 6 + 4 + 2 = 12.

  Example 3.3.2

How many 7-bit strings of weight 4 start with 11 or end with 00, or both?

Solution. Let  be the set of 7-bit strings of weight 4 that start with 11. We

have || =        5  = 10. Let  be the set of 7-bit strings of weight 4 that end with
                 2
00. We have || =    5
                    4  = 5.

But it is not true that |  | = 10 + 5 = 15, since strings like 1101100 both

start with 11 and end with 00. That is included in the 10 strings starting with

11 and the five strings ending with 00. We must find the number of strings
that belong to both  and . We have

                                       |  | = 3 = 3
                                                      2

(and indeed, there are three strings in the intersection: 1111000, 1110100, and
1101100).

    We can now fill in a Venn diagram:

                                    

                               732

The circle for  contains a total of 10 elements, the 3 that also belong to 
                                                3.3. Non-Disjoint Outcomes 221

and 7 more that belong to just . The circle for  contains a total of 5 elements,
the 3 that also belong to  and 2 more that belong to just . The number of
elements in    is the sum of the elements in each region

                                  | |  | = 7 + 3 + 2 = 12.

We can do something similar with three sets.

Example 3.3.3

An examination in three subjects, Algebra, Biology, and Chemistry, was taken
by 41 students. The following table shows how many students failed in each
single subject and in their various combinations:

                    Subject: A B C AB AC BC ABC
                      Failed: 12 5 8 2 6 3 1

How many students failed at least one subject?
Solution. The answer is not 37, even though the sum of the numbers above
is 37. For example, while 12 students failed Algebra, 2 of those students also
failed Biology, 6 also failed Chemistry, and 1 of those failed all three subjects.
In fact, that 1 student who failed all three subjects is counted a total of 7
times in the total 37. To clarify things, let us think of the students who failed
Algebra as the elements of the set , and similarly for sets  and . The one
student who failed all three subjects is the lone element of the set     .
Thus, in Venn diagrams:

                                              

                 1

                                                      

    Now let's fill in the other intersections. We know    contains 2 elements,
but 1 element has already been counted. So we should put a 1 in the region
where  and  intersect (but  does not). Similarly, we calculate the cardinality
of (  ) \ , and (  ) \ :
222 3. Counting

                        

                   1

                   512

                      

    Next, we determine the numbers that should go in the remaining regions,
including outside of all three circles. This last number is the number of
students who did not fail any subject:

                        

                   511

                   512

                 26 0 

    We found 5 goes in the " only" region because the entire circle for 

needed to have a total of 12, and 7 were already accounted for. Similarly,
we calculate the " only" region to contain only 1 student and the " only"

region to contain no students.

    Thus the number of students who failed at least one class is 15 (the sum of

the numbers in each of the eight disjoint regions). The number of students

who passed all three classes is 26: the total number of students, 41, less the 15

who failed at least one class.

    Note that we can also answer other questions. For example, how many

students failed just Chemistry? None. How many passed Algebra but failed
both Biology and Chemistry? This corresponds to the region inside both 
and  but outside of , containing 2 students.

    Here is an interesting math fact.

                                   12 + 5 + 8 - 2 - 6 - 3 + 1 = 15.

Is it a coincidence that this way of combining the numbers of students who failed
each subject in the example above gives the same number of students who failed at
least one subject? This suggests that there might be a simpler way to find the size of
a union of non-disjoint sets.

                   3.3.3 The Principle of Inclusion/Exclusion

It would be nice to write an algebraic formula that captures what we have done
in the previous examples. Even better would be for this algebraic formula to be a
                                                 3.3. Non-Disjoint Outcomes 223

generalization of the case where the sets are disjoint.
    Consider again the example where || = 10, || = 8 and |  | = 6. We said

that |  | = 12, found by adding 4 + 6 + 2.
    If  and  had been disjoint, then |  | would have been || + || = 10 + 8 = 18.

We see that is off by exactly 6, which just so happens to be |  |. So perhaps we

guess,

               |  | = || + || - |  | .

This makes sense! When we add the number of elements in  to the number of
elements in , we have counted the six elements that belong to both sets exactly

twice. So if we subtract them out, we have counted them exactly once.

    In other words, we have:

 Theorem 3.3.4 Cardinality of a Union (2 Sets).
For any finite sets  and ,

               |  | = || + || - |  | .

Example 3.3.5

How many 7-bit strings of weight 4 start with 11 or end with 00, or both? Use

Theorem 3.3.4 and compare to Example 3.3.2.

Solution.   We have || =  5  = 10, || =      5  = 5, and |  | =  3  = 3.
                          2                  4                   2

Therefore:

               |  | = 10 + 5 - 3 = 12.

This makes sense since the three bit strings that start with 11 and end with 00
are counted in the 10 strings starting with 11 and again among the 5 strings
ending with 00, so we have over-counted these exactly one time before we
subtract them out.

    For three sets, we can also count the elements in the union by carefully removing
elements we have counted multiple times. Since there are more ways for the sets to
overlap, the formula is more complicated.

     Theorem 3.3.6 Cardinality of a Union (3 Sets).

    For any finite sets , , and ,

                            |    | = || + || + ||
                                            - |  | - |  | - |  |
                                            + |    | .

    To determine how many elements are in at least one of , , or  we add up all
the elements in each of those sets. However, when we do that, any element in both
224 3. Counting

 and  is counted twice. Also, each element in both  and  is counted twice, as
are elements in  and , so we take each of those out of our sum once. But now
what about the elements which are in      (in all three sets)? We added them
in three times, but also removed them three times. They have not yet been counted.
Thus we add those elements back in at the end.

  Example 3.3.7

    How many of the numbers in {1, 2, . . . , 50} are multiples of 2, 3, or 5?
    Solution. Of the numbers in {1, 2, . . . , 50}, let  be the set of multiples of
    2,  be the set of multiples of 3, and  be the set of multiples of 5. We have
    || = 25, || = 16, and || = 10. (These numbers can be found by division; for
    example, since a third of the numbers are multiples of three, we can compute
    50/3 = 16.66, so there are 16 multiples of 3 in the set.) Some of the numbers
    in the set are multiples of both 2 and 3, such as 6, 12, 18, . . . all the multiples
    of 6. There are |  | = 8 such numbers. Similarly, there are |  | = 5
    multiples of both 2 and 5 (multiples of 10), and |  | = 3 multiples of both
    3 and 5 (multiples of 15). There is |    | = 1 multiples of all three (just
    the number 30).

         Using Theorem 3.3.6, we have:

                        |    | = 25 + 16 + 10 - 8 - 5 - 3 + 1 = 36.

         Let's use this example to understand the theorem better. Consider the
    number 21. In which sets is it counted? It is in , but not  or , so it is
    counting among the 16 multiples of 3 and not counted in any of the other sets,
    so it is included exactly once in our complete count. Similarly for all other
    numbers that are multiples of just one of 2, 3, or 5.

         The number 18 is in sets  and , and so also in   . It is counted in
    the 25 multiples of 2, the 16 multiples of 3, and the 8 multiples of 6. So it is
    added twice in our total and subtracted once, meaning it is counted exactly
    one time. The same will be true of all numbers that belong to exactly two of
    the individual sets.

         What about 30? It belongs to all the sets. It is therefore added to our total
    three times, when we add the multiples of 2, 3, and 5. But it is also subtracted
    three times, once for each of the three pairs of sets. So it is not counted at all
    in our total... until we add it back in in the last step, after which it is counted
    exactly once.

    This process of adding in, then subtracting out, then adding back in, and so on
is called the Principle of Inclusion/Exclusion, or simply PIE. This principle can be
applied to any number of sets, but the formula becomes more and more complicated
the more sets you have. For example, this is what PIE looks like for four sets.

     |      | = || + || + || + ||
                                                                                          3.3. Non-Disjoint Outcomes 225

                           - |  | - |  | - |  | - |  | - |  | - |  |

                           + |    | + |    | + |    | + |    |

                           - |      | .

Phew! And for five sets it is... just kidding. But even if we don't write it down,
hopefully we all see what you would have to write down. In practice, PIE for more
than three sets is only used when we can simplify the computation by recognizing
that, for example, all the intersections of two sets will have the same size. Some
examples of this are explored in Section 3.8.

                   3.3.4 Overlaps and the Product Principle

Everything we have considered so far in this section has been about how the sum
principle applies when the sets of outcomes are not disjoint. Do we need to be
similarly worried about overlaps when applying the product principle?

    Not really.
    One use of the product principle is to compute probabilities, and in that context,
we do make a distinction between events being independent or dependent. We will
explore this more in Section 3.7. Essentially, to find the probability of two events
occuring, we can multiply their respective probabilities if and only if the two events
are independent: if the outcome of one event does not affect the outcome of the other.
    While finding probability is closely related to counting outcomes, the product
principle itself does not require that sets of outcomes be disjoint or make a distinction
between dependent or independent events. What does matter is that the number of
outcomes for the second event does not change based on which outcome was the
result of the first event.
    A distinction we do often make when applying the product principle is whether
the outcomes of events can be "repeated." Consider the following example.

  Example 3.3.8

    How many 3-letter words (sequences of three letters) are there when,

        1. repeats are allowed?

        2. repeats are not allowed?

    Solution. Being careful with the product principle, we are combining three
    events:  is the event of selecting the first letter,  is the event of selecting
    the second letter, and  is the event of selecting the third letter. If we want
    to count the number of words when letters in the word can be repeated,
    then each event contains 26 outcomes. So the number of 3-letter words is
    263 = 17, 576 when repeats are allowed.

         When repeats are not allowed, then the number of outcomes for event  is
    still 26, but the number of outcomes for  is only 25, since no matter what the
    outcome of event  is, that letter cannot be selected for the second position in
226 3. Counting

the word. Similarly, no matter what the outcomes of event  and  are, the
number of outcomes for event  is always 24: any letter not selected in the

first two events. Thus the number of 3-letter words containing no repeated
letters is 26 · 25 · 24 = 15, 600.

    It's a little strange that the actual set of outcomes for event  is different
for each possible outcome of event . This doesn't matter though, as long as

the size of the outcome set doesn't change.

    We will explore problems such as the previous example in much more depth
next in Section 3.4. Before that though, here is a final example of where the product
principle does NOT easily work.

  Example 3.3.9

    Explain why the product principle does NOT apply to the following counting
    question: How many 3-letter words have their letters in alphabetical order?
    Solution. The first thing we might try is to make event  be selecting the
    first letter,  be selecting the second letter, and  be selecting the third letter.
    There are 26 outcomes to event . How many outcomes are there for event
    ? If we selected  as the first letter, then we can select a letter in the set
    {, , , } as our second letter, so it appears there are 4 outcomes for event
    . However, if we selected  as our first letter, then any letter could be used
    for the second letter, so event  has 26 outcomes. Oh no!

         The problem is that the number of outcomes for the second (and third) letter
    in the word changes depending on the outcome of the previous event. The
    events are not independent, but more than that, their size is not independent,
    so the product principle does not apply.

We will see how to answer the counting problem above in the case that letters

can be repeated in Section 3.5. If we restricted the question further and required that

the letters be distinct (and in alphabetical order), we already know how to answer

the question. Since for any set of three letters, there is exactly one 3-letter word that

has those letters in alphabetical order, we can simply count the number of sets of

three letters. This is  26  .  Then  we  just  look  at  Pascal's  triangle  to  find  the  value...  oh
                        3

shoot. Our triangle doesn't go down that far. I guess we should think of a way to

compute the value without the triangle. Read on!

                               3.3.5 Reading Questions

1. Which of the following best describes what the Principle of Inclusion/Exclusion
       is used for?

          A. To count the size of a union of two or more not-necessarily disjoint sets.

          B. To count the size of the union of two or more sets, as long as they are
                                                                                          3.3. Non-Disjoint Outcomes 227

              disjoint.

          C. To count the size of the intersection of two or more independent sets of
              outcomes.

          D. To find the size of the intersection of dependent sets of outcomes.
2. Why does the Principle of Inclusion/Exclusion add the size of the intersection

       of three sets, rather than subtract? Explain in your own words.
3. What questions do you have after reading this section? Write at least one

       question about the section you are curious about.

                                3.3.6 Practice Problems

1. Suppose you have sets  and  with || = 9 and || = 19.

         (a) What is the largest possible value for |  | ?

         (b) What is the smallest possible value for |  | ?

         (c) What are the possible values for |  | ?
2. If || = 5 and || = 2, what is |  | + |  | ?
3. A group of college students was asked about their TV watching habits. Of

       those surveyed, 30 students watch The Walking Dead, 24 watch The Blacklist,
       and 28 watch Game of Thrones. Additionally, 18 watch The Walking Dead and
      The Blacklist, 10 watch The Walking Dead and Game of Thrones, and 12 watch The
       Blacklist and Game of Thrones. There are 7 students who watch all three shows.
       How many students surveyed watched at least one of the shows?
4. In a recent survey, 100 students reported whether they liked their potatoes
       mashed, French-fried, or twice-baked. 54 liked them mashed, 39 liked French
       fries, and 51 liked twice baked potatoes. Additionally, 18 students liked both
       mashed and French-fried potatoes, 28 liked French fries and twice baked
       potatoes, 29 liked mashed and baked, and 11 liked all three styles. How many
       students hate potatoes? Explain why your answer is correct.
5. How many 13-bit strings (that is, bit strings of length 13) are there which:

          a. Start with the sub-string 011?

          b. Have weight 8 (i.e., contain exactly 8 1's) and start with the sub-string
              011?

           c. Either start with 011 or end with 01 (or both)?

          d. Have weight 8 and either start with 011 or end with 01 (or both)?
6. For how many   {1, 2, . . . , 715} is  a multiple of one or more of 4, 3, or 5?
228 3. Counting

7. How many positive integers less than 1400 are multiples of 4, 7, or 9? Use the
       Principle of Inclusion/Exclusion.

8. We want to build 13 letter "words" using only the first  = 12 letters of the
       alphabet. For example, if  = 5 we can use the first 5 letters, {, , , , }
       (Recall, words are just strings of letters, not necessarily actual English words.)

          a. How many of these words are there total?

          b. How many of these words contain no repeated letters?

           c. How many of these words start with the sub-word "ade"?

          d. How many of these words either start with "ade" or end with "be" or
              both?

          e. How many of the words containing no repeats also do not contain the
              sub-word "bed"?

9. Gridtown USA, besides having excellent donut shops, is known for its precisely
       laid out grid of streets and avenues. Streets run east-west, and avenues north-
       south, for the entire stretch of the town, never curving and never interrupted
       by parks or schools or the like.
           Suppose you live on the corner of 4th and 4th and work on the corner of
      19th and 19th. Thus you must travel 30 blocks to get to work as quickly as
       possible.

          a. How many different routes can you take to work, assuming you want to
              get there as quickly as possible?

          a. Now suppose you want to stop and get a donut on the way to work, from
              your favorite donut shop on the corner of 18th Ave. and 16th St. How
              many routes to work, stopping at the donut shop, can you take (again,
              ensuring the shortest possible route)?

          a. Disaster Strikes Gridtown: there is a pothole on 7th Ave. between 6th
              St. and 7th St. How many routes to work can you take avoiding that
              unsightly (and dangerous) stretch of road?

          a. The pothole has been repaired (phew!) and a new donut shop has opened
              on the corner of 7th Ave. and 6th St. How many routes to work drive by
              one or the other (or both) donut shops? Hint: the donut shops serve PIE.

                              3.3.7 Additional Exercises

1. Let , , and  be sets.

         (a) Find |(  ) \ | provided || = 50, || = 45, || = 40, |  | = 20,
              |  | = 15, |  | = 23, and |    | = 12.
                                                                                          3.3. Non-Disjoint Outcomes 229

         (b) Describe a set in terms of , , and  with cardinality 26.
2. For how many three-digit numbers (100 to 999) is the sum of the digits even?

       (For example, 343 has an even sum of digits: 3 + 4 + 3 = 10 which is even.) Find
       the answer and explain why it is correct in at least two different ways.
              3.4 Combinations and Permutations

       Objectives

     After completing this section, you should be able to do the following.

         1. Correctly decide between using a combination or a permutation when
             solving a counting problem.

         2. Apply the correct combination or permutation to solve a counting
             problem.

         3. Explain the relationship between combinations and permutations and
             why their formulas are correct.

                                  3.4.1 Section Preview

       Investigate!

     You have decided to decorate your magic wand with bands of different
     colored tape. You have 10 different colors to choose from, and you will use
     five of them to create five different stripes of color. How many different
     wand designs are possible?

    The product principle gives us a way to count the number of outcomes when
each outcome is made by combining smaller pieces. A typical example of this is to
count the number of three-letter "words"; each outcome (word) we count is made
up of a combination of three smaller pieces (letters). Since there are 26 choices for
each smaller piece, there are 26 · 26 · 26 = 263 possible outcomes.

    The product principle does not require that each piece that is being combined be
chosen from a set of the same size. We will use this observation to create a standard
way to count outcomes when the pieces are chosen from a fixed set, but without
allowing for any piece to be used more than once. For example, we can ask how
many 3-letter words there are that contain distinct letters.

    These arrangements are called permutations. We will also consider another
counting technique where we count combinations, which is related but counts
something different. We will explore how these two counting techniques are related
and how they can be used to solve a wide range of counting problems.

                                           Preview Activity
You have a bunch of poker chips that come in five different colors: red, blue, green,
purple, and yellow.

                                                    230
                                  3.4. Combinations and Permutations 231

1. How many two-chip stacks are possible where the bottom chip must be red or
       blue?

(a) List all possible two-chip stacks. For example, the stack with a red chip
     on bottom and a green chip on top can be listed as "RG".

(b) Using the additive principle, we notice that there are       stacks that

have blue on the bottom, another  stacks that have red on the bottom,

so there are a total of           possible stacks.

(c) If we use the multiplicative principle, then there are  choices for the

bottom chip and          choices for the top chip, so there are

possible stacks.

2. How many different three-chip stacks are possible if the bottom chip must be
       red or blue and the top chip must be green, purple, or yellow?

       Hint. How does this question relate to the previous question? Is there
       something we can do to the 10 two-chip stacks to make them into three-chip
       stacks?
3. How many different three-chip stacks are there in which no color is repeated?

(a) First, how many three-chip stacks with no repeated color have blue on
     the bottom and green in the middle?

And how many three-chip stacks with no repeated color have blue on
the bottom and yellow in the middle?

In fact, for any stack with blue on the bottom and some other color in the

middle, there are        possible stacks.

(b) If we insist that blue is on the bottom, how many choices do we have for
     the color of the middle chip?

     Combining this with the answer from the previous question, how many
     three-chip stacks with no repeated color have blue on the bottom?

(c) Of course, we didn't need to start with blue on the bottom. How many
    choices do we have for the color of the bottom chip?

    So how many three-chip stacks with no repeated color are there?

         (d) How many four-chip sticks are there with no repeated color?

4. Suppose you wanted to take three chips with different colors and put them in
       your pocket.

(a) One outcome is taking the blue, green, and purple chips. How many of
     the three-chip stacks of different color chips correspond to this single
    pocketful?

Hint. With these three colors, how many choices do you have for which
chip is on the bottom? In the middle? On top?
232 3. Counting

(b) How many different stacks of chips would result in picking up the red,
     yellow, and green chips?

(c) So of the    possible three-chip stacks, we can group the chips into

groups of size , where each group corresponds to the same pocketful

of chips. How many different pocketfuls of chips are there?

(d) How many different pocketfuls of chips are there if you take four chips?

                              3.4.2 Counting Sequences

A permutation is a (possible) rearrangement of objects. For example, there are 6
permutations of the letters a, b, c:

                                 , , , , , .

In terms of our discrete structures, each permutation is really a sequence or tuple of a
fixed length.

    We know that we have them all listed above --there are 3 choices for which letter
we put first, then 2 choices for which letter comes next, which leaves only 1 choice
for the last letter. The multiplicative principle says we multiply 3 · 2 · 1.

  Example 3.4.1

    How many sequences (permutations) are there of the letters a, b, c, d, e, f ?
    Solution. We do NOT want to try to list all of the length 6 sequences of
    these letters. However, if we did, we would need to pick a letter to write
    down first. There are 6 choices for that letter. For each choice of the first
    letter, there are 5 choices for the second letter (we cannot repeat the first letter;
    we are rearranging letters and only have one of each), and for each of those,
    there are 4 choices for the third, 3 choices for the fourth, 2 choices for the fifth,
    and finally only 1 choice for the last letter. So there are 6 · 5 · 4 · 3 · 2 · 1 = 720
    permutations of the 6 letters.

    A piece of notation is helpful here: !, read " factorial", is the product of all
positive integers less than or equal to  (for reasons of convenience, we also define 0!
to be 1). So the number of permutations of 6 letters, as seen in the previous example
is 6! = 6 · 5 · 4 · 3 · 2 · 1. This generalizes:

     Theorem 3.4.2 Permutations of  Elements.

    There are ! =  · ( - 1) · ( - 2) · · · · · 2 · 1 permutations of  (distinct) elements.
                                                3.4. Combinations and Permutations 233

Example 3.4.3 Counting Bijective Functions.

 How many functions  : {1, 2, . . . , 8}  {1, 2, . . . , 8} are bective?
 Solution. Remember what it means for a function to be bective: Each
 element in the codomain must be the image of exactly one element of the
 domain. Using two-line notation, we could write one of these bections as

                                = 1 2 3 4 5 6 7 8 .
                                      31587624

 What we are really doing is just rearranging the elements of the codomain, so
 we are creating a permutation of 8 elements. In fact, "permutation" is another
 term used to describe bective functions from a finite set to itself.

      If you believe this, then you see the answer must be 8! = 8 · 7 · · · · · 1 = 40320.
 You can see this directly as well: For each element of the domain, we must
 pick a distinct element of the codomain to map to. There are 8 choices for
 where to send 1, then 7 choices for where to send 2, and so on. We multiply
 using the multiplicative principle.

    Sometimes we do not want to permute all of the letters/numbers/elements we
are given.

Example 3.4.4

How many four-letter "words" can you make from the letters a through g,
with no repeated letters?

Solution. This is just like the problem of permuting four letters, only now

we have more choices for each letter. For the first letter, there are 7 choices.

For each of those, there are 6 choices for the second letter. Then there are 5

choices for the third letter and 4 choices for the last letter. The total number

of words is 7 · 6 · 5 · 4 = 840.

    This is not 7! because we never multiplied by 3, 2, or 1. We could write it

using 7! though, if we cancel the 3, 2, and 1. Thus we could write the answer

as             7! = 7 · 6 · 5 · 4 · 3¡ · 2¡ · 1¡ = 7 · 6 · 5 · 4.

               3!                 3¡ · 2¡ · 1¡

    In general, we can ask how many permutations exist of  objects choosing those
objects from a larger collection of  objects. (In the example above,  = 4, and  = 7.)
We write this number (, ) and sometimes call it a -permutation of  elements.

    From the example above, we see that to compute (, ) we must apply the
multiplicative principle to  numbers, starting with  and counting backwards. For

example

                   (10, 4) = 10 · 9 · 8 · 7.
234 3. Counting

Notice that (10, 4) starts out looking like 10!, but we stop after 7. We can

formally account for this "stopping" by dividing away the part of the factorial we do

not want:             (10, 4) = 10 · 9 · 8 · 7 · 6 · 5 · 4 · 3 · 2 · 1 = 10! .

                                        6·5·4·3·2·1           6!

Careful: The factorial in the denominator is not 4! but rather (10 - 4)!.

Definition 3.4.5 -permutations of  elements.

(, ) is the number of -permutations of  elements, the number of ways
to arrange  objects chosen from  distinct objects.

 Theorem 3.4.6
The number of -permutations of  elements is

                (, ) = ! ( - )! = ( - 1)( - 2) · · · ( - ( - 1)).

Note      that  when    =  ,  we  have  (,  )  =     !  =  !  (since  we        defined  0!  to  be  1).
                                                  (-)!
This makes sense --we already know ! gives the number of permutations of all 

objects.

Example 3.4.7 Counting injective functions.

 How many functions  : {1, 2, 3}  {1, 2, 3, 4, 5, 6, 7, 8} are injective?

 Solution. Note that it doesn't make sense to ask for the number of bections
 here, as there are none (because the codomain is larger than the domain, there
 are no surjections). But for a function to be injective, we just can't use an
 element of the codomain more than once.

      We need to pick an element from the codomain to be the image of 1. There
 are 8 choices. Then we need to pick one of the remaining 7 elements to be the
 image of 2. Finally, one of the remaining 6 elements must be the image of 3.
 So the total number of functions is 8 · 7 · 6 = (8, 3).

      What this demonstrates in general is that the number of injections  :  
 , where || =  and || = , is (, ).

                                   3.4.3 Counting Sets

Let's consider another way to count sequences: First count sets, then arrange them.
                                             3.4. Combinations and Permutations 235

Example 3.4.8

Your basketball team has 12 players. Assuming everyone can play every
position, how many ways can you choose 5 players to be on the court at the
same time?

Solution. This question is actually too vague. Do we mean how many ways

can we select five players? Or do we mean how many ways can we pick five

players to fill the five positions?2 Let's answer both of these questions.

First, if we just want to select five out of the 12 players, that is just like

picking five out of 12 pizza toppings (although less delicious). We know that

there are  12  ways to do this, and from Pascal's triangle we know that this is
           5

792.

On the other hand, if we wanted to pick five players for the five different

positions,... well, we could start by picking one of the 792 different sets of

five players, and then permute them into the five positions. Of the five

players on the court, we pick one of the five to be the point guard, then one

of the remaining four to be the shooting guard, and so on. This gives us

5 · 4 · 3 · 2 · 1 = 5! ways to arrange the players. So the total number of ways to

pick five players for the five positions is

                                12 · 5! = 792 · 120 = 95, 040.
                                 5

    Wait. We could have found that number directly. Without choosing the
five players first, we have 12 choices for the point guard, then 11 choices for
the shooting guard, and so on. So the total number of ways to pick five players
for the five positions is simply the permutation

                          (12, 5) = 12 · 11 · 10 · 9 · 8 = 95, 040.

Thank goodness that is the same answer!

    The example above illustrates a second way to compute the number of -
permutations of  elements: First select which  elements will be in the permutation,

then count how many ways there are to arrange them. Once you have selected the

set of  objects, we know there are ! ways to arrange (permute) them. But how do

you select  objects from the ? You have  objects, and you need to choose  of them.
                    
You can do that in    ways.

Using the multiplicative principle to combine the two steps, we get another

formula for (, ):            (, ) =  · !.
                                           

    2I'm told the five positions are called point guard, shooting guard, small forward, power forward,
and center. Who knew?
236 3. Counting

This is HUGE!
We have a closed formula for (, ) already. We can substitute that in:

                                  ! ( - )! =  · !.

If we then divide both sides by !, we get a closed formula for                              

                                                                                            .

Theorem 3.4.9 Closed Formula for  .

                       = ! ( - )!! = ( - 1)( - 2) · · · ( - ( - 1)) ( - 1)( - 2) · · · 1 .

Another name for the collections of things that        counts is combinations. We
                                                     
              counts the number of -element combinations of  elements. Sometimes
say that                                          

we even use the notation (, ) instead of          .

Clearly combinations and permutations are very closely related. The formulas
                                                                                               
to count each are very similar; there is just an extra ! in the denominator of
                                                                                               .
That extra ! accounts for the fact that  
                                           does not distinguish between the different

orders that the  objects can appear in. We are just selecting (or choosing) the 

objects, not arranging them.

Example 3.4.10

You decide to have a dinner party. Even though you are incredibly popular
and have 14 different friends, you only have enough chairs to invite 6 of them.

1. How many choices do you have for which 6 friends to invite?

2. What if you need to decide not only which friends to invite but also
   where to seat them along your long table? How many choices do you
   have then?

Solution.

1. You must simply choose 6 friends from a group of 14. This can be done

          in  14   ways. We can find this number either by using Pascal's triangle
              6
                                  14!
          or the closed formula:  8!·6!  = 3003.

2. Here you must count all the ways you can permute 6 friends chosen

          from a group of 14. So the answer is (14, 6), which can be calculated

          as  14!  =  2162160.
              8!

          Notice that we can think of this counting problem as a question about

          counting functions: How many injective functions are there from your

          set of 6 chairs to your set of 14 friends (the functions are injective because

          you can't have a single chair go to two of your friends).
                                                3.4. Combinations and Permutations 237

    How are these numbers related? Notice that (14, 6) is much larger than

14  .  This  makes  sense.  14  picks 6 friends, but (14, 6) arranges the 6 friends
6                           6
as well as picks them. In fact, we can say exactly how much larger (14, 6) is.

In both counting problems we choose 6 out of 14 friends. For the first one, we

stop there, at 3003 ways. But for the second counting problem, each of those

3003 choices of 6 friends can be arranged in exactly 6! ways. So now we have

3003 · 6! choices and that is exactly 2162160.

    Alternatively, look at the first problem another way. We want to select 6

out of 14 friends, but we do not care about the order they are selected in. To

select 6 out of 14 friends, we might try this:

                                14 · 13 · 12 · 11 · 10 · 9.

    This is a reasonable guess, since we have 14 choices for the first guest, then
13 for the second, and so on. But the guess is wrong (in fact, that product is
exactly 2162160 = (14, 6)). It distinguishes between the different orders in
which we could invite the guests. To correct for this, we could divide by the
number of different arrangements of the 6 guests (so that all of these would
count as just one outcome). There are precisely 6! ways to arrange 6 guests, so
the correct answer to the first question is

                                    14 · 13 · 12 · 11 · 10 · 9 .
                                                 6!

    Note that another way to write this is

                                   14! .
                                  8! · 6!

which is what we had originally.

    Perhaps "combination" is a misleading label. We don't mean it like a combination
lock (where the order would definitely matter). Perhaps a better metaphor is a
combination of flavors -- you just need to decide which flavors to combine, not the
order in which to combine them.

    So how do you know when to use a combination and when to use a permutation?

Does order matter? Almost every source you look at about combinations and
permutations will make some variation of the following claim.

       Use a permutation when the order matters, and use a combination when
       the order does not matter.

What does this even mean? And why is it an absolutely awful way to distinguish
between the two counting techniques? Let's explore with an example.

    Suppose you are proposing a new lottery game. In the game, five numbered
balls will be randomly shot out of the machine that holds balls numbered 1 to 50. If
238 3. Counting

a player correctly picks the five numbers that come out, they win the jackpot.
    Of course, we want to know the odds of winning this lottery game, which

requires us to know how many different outcomes there are. The balls fly out of the
machine randomly, so one result might be to get the balls

                                            26, 5, 42, 17, 33.

If you were holding the ticket that had numbers 5, 17, 26, 33, 47, do you expect
to have won? Most lottery games would say you have, since you have the same
numbers, just in a different order.

    In this sense, the order of the numbers does not matter. A better way to say this is
that any order of the same numbers is considered the same outcome, and is counted
only once. So really, we are counting the sets of five numbers, not the sequences of
five numbers. Each outcome is a combination, so the number of outcomes should
be (52, 5) = 552 .

    On the other hand, if we must pick the numbers in the same order they come out
of the machine, then we are really matching a sequence of numbers to a sequence of
numbers. The number of sequences is (52, 5). In this case, we would say that the
order matters.

    Okay, so far so good. But what about the following example?

  Example 3.4.11

    How many three letter "words" are there in which

        1. the letters appear in alphabetical order?

        2. the letters in the word can come in any order?

    Solution. Does "order matter" for the first question? In some sense, abso-
    lutely! We only want to count words where the letters are in the correct order.
    But from the standard combination/permutation sense of order mattering, it
    does not.

         Much better would be to ask ourselves whether we should represent each
    outcome as a set of letters or a sequence of letters. It is true that words are a
    sequence of letters, but are we counting all possible sequences? Nope, just
    one sequence for each set of letters. Ah, yes, set of letters. Each outcome
    corresponds exactly to one set of three letters. We are counting sets, so we
    count combinations. The number of outcomes is (26, 3) = 326 .

         For the second question, it might look like the order shouldn't matter.
    Well, it doesn't matter to the machine spitting out the letters, but it would
    matter if we were trying to match the letters. No, let's think about it like
    this: Are we counting every possible sequence of letters? Yes! So these are
    permutations, and the number of outcomes is (26, 3).

    Another deceptive use of order appears when counting bit strings. Recall that
an -bit string of weight  is a string of  bits (0s and 1s) in which  of the bits are 1s.
                                               3.4. Combinations and Permutations 239

For example, the 4-bit strings of weight 2 are
                             1100, 1010, 1001, 0110, 0101, 0011.

Does order matter for bit strings? Of course it does! It is the only thing that matters.

All of the strings above contain exactly the same number of 0s and 1s; they are only

distinguished by the order of the bits.            
                                                   
And yet, the number of -bit strings of weight  is    and NOT a permutation.

What is going on here?

    Nothing is broken; we are just not thinking about the right objects about which
to consider the order. When we choose  out of  things for a bit string, it is the

positions we are choosing (to fill with 1s, say). It does not matter in what order we

choose those positions, just what set of positions we choose. That is, the bit string

1001 is the result of choosing positions 1 and 4 to put 1s into. If we chose positions 4

and then 1, we would get the same bit string.

To summarize, the question of whether order matters can lead us astray when

deciding between a combination and a permutation. Instead, we should decide

whether the outcomes we are counting are sets or sequences. If we are counting

sets, think combination. If we are counting sequences, think permutation.

                             3.4.4 The Quotient Principle

We have two ways to write the numerical relationship between the numbers of
combinations and permutations. Using the product principle, we have,

                                           (, ) =  · !
                                                          

which can be rewritten as,   (, )
                             = ! .

This second formula suggests that there might be a quotient principle that we could

use to justify it.

    Let's think about what division means. One way to think of the division problem
24 ÷ 6 = 4, for example, is saying that if you have 24 things that you divide into
groups of size 6, the number of groups will be 4.3

    Now let's look at all the 3-permutations of a set of size 4: For example, all the
ways to make 3-letter words using the letters , , , . We know the number of such
words is (4, 3) = 4 · 3 · 2 = 24. It is helpful to actually list all these out.

                             
                             
                             
                             

    3The other way to interpret this statement is that if you divide 24 things into six groups, then each
group will have size 4, but this is less useful for what we will do.
240 3. Counting

Look at the first row. What do all these permutations have in common? These
are exactly the permutations that use the letters , ,  in different orders. It is

not surprising that there are 6 of these, since the number of ways to arrange three

elements is 3! = 6. Similarly, the second row has 6 permutations that use the letters
, ,  in different orders, and so on.

The point is, if we wanted to just count how many sets of three of the four letters

we have, each set corresponds exactly to one of the rows in the table. There are 24

elements in the table, and 6 elements in each row, so there must be 24 ÷ 6 = 4 rows.

And of course, we are not surprised because  4  = 4.
                                             3

A more mathematically rigorous explanation for this phenomenon is to use the

language of equivalence relations and partitions from Section 2.6. We start with

permutations, and then we define an equivalence relation on the permutations by

saying two permutations are equivalent provided they contain exactly the same

elements. From the equivalence relation we get a partition of our set of permutations

into equivalence classes. The combinations we want to count are precisely the

equivalence classes. Since each equivalence class has the same size, we can find the

number of classes by dividing the number of permutations by the size of each class.

This sort of quotient principle is also useful for solving questions where the

answer isn't obviously either a permutation or combination.

Example 3.4.12

You have decided to decorate your magic wand with bands of different colored
tape. You have 10 different colors to choose from, and you will use five of them
to create five different stripes of color. How many different wand designs are
possible?
Solution. Our first attempt to solve this problem might be to think of each
outcome we are trying to count as a 5-permutation of 10 colors. That would
give us an answer of (10, 5) = 10 · 9 · 8 · 7 · 6 = 30, 240. So why is this not
correct? Let's start making a list of the outcomes that are possible.

   1. Red, blue, green, yellow, orange.

   2. Red, blue, green, yellow, purple.

   3. Blue, green, red, yellow, orange.

   4. Orange, yellow, green, blue, red.

   5. etc.

While starting this list, perhaps we asked ourselves whether red, red, blue,
blue, red should be on the list, and recognized that it shouldn't. Another
thing we might have considered is whether items 1 and 3 are really different.
They are, since one wand has red as an outside color while the other one does
not.
             3.4. Combinations and Permutations 241

    But what about items 1 and 4? They have the same five colors, but in
a different order. However, if you were to spin the magic wand around,
like magicians are apt to do, you could easily end up with wand 4 from
wand 1. Aha! We see that each wand is counted exactly twice in our list of
permutations: two permutations are equivalent if they are just the reverse of
each other.

    Since we can group the permutations into groups of size 2, and each group
corresponds to a single wand, we see that the correct answer is,

       (10, 5) = 10 · 9 · 8 · 7 · 6 = 15, 120.
       2  2

Tada!

                               3.4.5 Reading Questions

1. True or false: The number of sequences of two distinct digits from 0-9 is twice
       the number of sets of two distinct digits from 0-9. Briefly explain.

2. True or false: The number of sequences of three distinct digits from 0-9 is 3
       times the number of sets of three distinct digits from 0-9. Briefly explain.

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                3.4.6 Practice Problems

1. A pizza parlor offers 8 toppings.

          a. How many 2-topping pizzas could they put on their menu? Assume
              double toppings are not allowed.

          b. How many total pizzas are possible, with between zero and 8 toppings
              (but not double toppings) allowed?

           c. The pizza parlor will list the 8 toppings in two equal-sized columns on
              their menu. How many ways can they arrange the toppings in the left
              column?

2. A combination lock consists of a dial with 41 numbers on it. To open the lock,
       you turn the dial to the right until you reach the first number, then to the left
       until you get to the second number, then to the right again to the third number.
       The numbers must be distinct. How many different combinations are possible?

3. Using the digits 2 through 9, find the number of different 7-digit numbers such
       that:

          a. Digits can be used more than once.

          b. Digits cannot be repeated, but can come in any order.
242 3. Counting

           c. Digits cannot be repeated and must be written in increasing order.
4. In an attempt to clean up your room, you have purchased a new floating shelf

       to put some of your 30 books you have stacked in a corner. These books are
       all by different authors. The new book shelf is large enough to hold 19 of the
       books. Careful: Before answering the next two questions, ask yourself which
       answer should be larger.

          a. How many ways can you select and arrange 19 of the 30 books on the
              shelf? Notice that here we will allow the books to end up in any order.

          b. How many ways can you arrange 19 of the 30 books on the shelf if you
              insist they must be arranged alphabetically by author?

5. An anagram of a word is just a rearrangement of its letters. How many different
       anagrams of "ambidextrously" are there?

6. How many anagrams are there of the word "seeded" that start with the letter
      "s"?

7. How many anagrams are there of "goggles"?
8. On a business retreat, your company of 40 businessmen and businesswomen

       goes golfing.

          a. You need to divide up into foursomes (groups of 4 people): a first
              foursome, a second foursome, and so on. How many ways can you do
              this?

          b. After all your hard work, you realize that in fact, you want each foursome
              to include one of the 10 Board members (who are among the 40 golfers
              already). How many ways can you do this?

9. How many different seating arrangements are possible for King Arthur and
       his 13 knights around their round table?

10. Consider sets  and  with || = 13 and || = 22.

          a. How many functions  :    are there?

          b. How many functions  :    are injective?
11. Consider functions  : {1, 2, 3, 4, 5}  {1, 2, 3, 4, 5, 6}.

          a. How many functions are there total?

          b. How many functions are injective?

           c. How many of the injective functions are increasing? To be increasing
              means that if  <  then  () <  (), or in other words, the outputs get
              larger as the inputs get larger.
                                                                                3.4. Combinations and Permutations 243

                              3.4.7 Additional Exercises

1. How many triangles are there with vertices from the points shown below?
       Note that we are not allowing degenerate triangles - ones with all three vertices
       on the same line - but we do allow non-right triangles. Explain why your
       answer is correct.

2. We have seen that the formula for (, ) is ! ( - )! . Your task here is to
       explain why this is the right formula.

(a) Suppose you have 12 chips, each a different color. How many different

     stacks of 5 chips can you make? Explain your answer and why it is the
     same as using the formula for (12, 5).

(b) Using the scenario of the 12 chips again, what does 12! count? What does
     7! count? Explain.

(c) Explain why it makes sense to divide 12! by 7! when computing (12, 5)
     (in terms of the chips).

(d) Does your explanation work for numbers other than 12 and 5? Explain
                          !
the  formula  (,  )  =  (-)!  using  the  variables    and  .
                       3.5 Counting Multisets

       Objectives

     After completing this section, you should be able to do the following.
         1. Identify counting problems whose outcomes can be represented by
             multisets.
         2. Represent outcomes of counting problems using multisets and sticks
             and stones diagrams.
         3. Solve counting problems using sticks and stones.

                                  3.5.1 Section Preview
       Investigate!

     Skittles come in five "flavors". How many different handfuls of 8 skittles
     are possible?

          Suppose you have baked 8 identical cupcakes to give to your top five
     favorite discrete math teachers. How many ways can you distribute the
     cupcakes?

          Why are the answers to the two counting questions above the same?

    We know how to solve lots of types of counting problems now. If each outcome
in a set of outcomes we are counting can be represented by a sequence, we count
it as a permutation (if the terms in the sequence don't repeat) or use the product
principle (if they do). If we are counting outcomes for which we don't distinguish
between different arrangements of the terms (if order doesn't matter) then we think
of the outcome as a set and count it as a combination. However, sets never allow an
element to be repeated; each element is either in a set or not.

    So we have a glaring hole in our counting repertoire. What if we want to count
outcomes that are collections of terms for which we do not distinguish between the
order the terms appear in, but can contain terms more than once? In other words,
how can we complete the following table?

                                                    244
                             3.5. Counting Multisets 245

            Distinguished Arrangements?

            Yes              No

            Sequences

Repeats OK  Prod. Principle
                    

No repeats    Sequences            Sets

            Permutations     Combinations
                (, )
                                         
                                         

What we want to count are some sort of set-like structure but one that does permit
elements in the set to appear more than once. Such structures are called multisets.

 Definition 3.5.1

A multiset is an unordered collection of elements, each of which can appear
any number of times. The number of times an element appears is called its
multiplicity.

    Multisets are written using the same notation as sets: a comma-separated
list in braces, such as {1, 2, 2, 5}.

    In this section, we will explore how multisets can be used to represent a wide
range of counting problems. We will then develop a way to translate multisets into a
special type of bit-string so that we can use the numbers in Pascal's triangle to count
the number of multisets.

                                           Preview Activity

1. Find a collection of identical objects, perhaps pennies or sugar cubes. Also
       grab a few dividers, which could be toothpicks, matches, or pens.
           Line up the pennies in a single row. We will divide the row into some
       number of groups by placing the toothpicks in the spaces between the pennies.
      We will distinguish between which order the groups come in. For example,
       two different ways to divide 7 pennies into 4 groups would look like this:

    We will allow for one or more groups to contain no pennies (by having two
toothpicks next to each other or before or after all of the pennies).

    By lining up the correct number of pennies and sticks, count the number of
ways you can divide a row of pennies into the given number of groups.

  (a) If you want to divide a row of pennies into 4 groups, how many toothpicks
       will you need?
246 3. Counting

         (b) How many ways are there to separate a row of three pennies into two
              groups?

         (c) How many ways are there to separate a row of four pennies into two
              groups?

         (d) How many ways are there to separate a row of five pennies into two
              groups?

         (e) How many ways are there to separate a row of three pennies into three
              groups?

          (f) How many ways are there to separate a row of four pennies into three
              groups?

         (g) How many ways are there to separate a row of five pennies into three
              groups?

         (h) Based on your answers above, make a conjecture about how many ways
              you could separate a row of seven pennies into four groups.

              Hint. Look for the numbers you found in the previous questions in
              Pascal's triangle.

                               3.5.2 Have Some Cookies

Consider the following counting problem:

       You have 7 cookies to give to 4 kids. How many ways can you do this?

Take a moment to think about how you might solve this problem. You may assume
that it is acceptable to give a kid no cookies. Also, the cookies are all identical and
the order in which you give out the cookies does not matter (so giving cookies to the
second kid before the first kid does not count as a separate outcome as the other
way around).

    Before solving the problem, here is a wrong answer: You might guess that the
answer should be 47 because, for each of the 7 cookies, there are 4 choices of kids to
which you can give the cookie. This is reasonable, but wrong. To see why, consider
a few possible outcomes: We could assign the first six cookies to kid A, and the
seventh cookie to kid B. Another outcome would assign the first cookie to kid B and
the six remaining cookies to kid A. Both outcomes are included in the 47 answer.
But for our counting problem, both outcomes are really the same - kid A gets six
cookies and kid B gets one cookie. This would have been the correct answer if the
cookies were all different, but they are not.

    What do outcomes actually look like? How can we represent them? One
approach would be to write an outcome as a string of four numbers like this:

                                                   3112,
                                                                                               3.5. Counting Multisets 247

which represents the outcome in which the first kid gets 3 cookies, the second and
third kids each get 1 cookie, and the fourth kid gets 2 cookies. Represented this
way, the order in which the numbers occur matters. 1312 is a different outcome,
because the first kid gets one cookie instead of 3. Each number in the string can
be any integer between 0 and 7. But the answer is not 74. We need the sum of the
numbers to be 7.

    Another way we might represent outcomes is to write a string of seven letters:

                                              ABAADCD,

which represents that the first cookie goes to kid A, the second cookie goes to kid B,
the third and fourth cookies go to kid A, and so on. In fact, this outcome is identical
to the previous one--A gets 3 cookies, B and C get 1 each, and D gets 2. Each of
the seven letters in the string can be any of the 4 possible letters (one for each kid),
but the number of such strings is not 47, because here order does not matter. In fact,
another way to write the same outcome is

                                              AAABCDD.

    This will be the preferred representation of the outcome. Since we can write
the letters in any order, we might as well write them in alphabetical order for the
purposes of counting. So we will write all the A's first, then all the B's, and so on. In
fact, since we do not distinguish between the different arrangements, it is like we are
writing a set, just that this multiset can contain an element more than one time.

    So we now have two useful ways to think of the outcomes.

   1. As a multiset containing 7 elements, each of which is one of the four kids (or
       letter representing their names). For example,

                                            {, , , , , , }.

       Each time a kid is in the multiset, it means that kid gets a cookie, so the
       multiplicity of the kid in the multiset is the number of cookies the kid gets.

   2. As a string of 4 non-negative numbers with a sum of 7. For example,

                                                       3112.

       The position of the number in the string represents the kid, and the number
       itself represents the number of cookies that kid gets.

    Before we think about how to count the number of outcomes represented this
way, here are a couple more examples of counting problems we can represent in
these ways.
248 3. Counting

  Example 3.5.2

    You grab a handful of ten jelly beans from a bag that contains six flavors. Write
    down three possible outcomes using both multisets and strings of numbers.
    Solution. Multisets are the more natural way to think of this problem since
    each handful is a multiset of flavors. So for example we could have,

                                    {, , , , , , , , , }

    meaning you got two red, three green, four blue, and one yellow jelly bean
    (and no purple or orange), or

                                    {, , , , , , , , , }

    which means you got ten red jelly beans. You could also have

                                   {, , , , , , , , , }

    meaning you have one each of red, green, blue, and yellow, and five orange
    jelly beans.

         The corresponding sequences of six numbers summing to 10 are

                      2, 3, 4, 1, 0, 0; 10, 0, 0, 0, 0, 0; 1, 1, 1, 1, 1, 5.

    (We added commas between numbers since not every number is a single
    digit.) Notice that for this representation we need to agree on a fixed order of
    the flavors, which was not alphabetical in this case, but the same order we
    used when listing the multisets.

  Example 3.5.3

    You have 12 identical copies of your favorite Discrete Math book that you
    want to put on 5 bookshelves. Write down three possible outcomes using
    both multisets and strings of numbers.
    Solution. Here the sequences of numbers are more natural, since we can
    just say how many books go on each shelf. We will need 5 numbers that add
    up to 12. For example, we could have

        1. 3, 3, 3, 2, 1, meaning 3 books on the first shelf, 3 on the second, 3 on the
           third, 2 on the fourth, and 1 on the fifth.

        2. 0, 0, 12, 0, 0, meaning all 12 books are on the middle shelf.
        3. 1, 1, 1, 1, 8, meaning one book on each of the first four shelves and 8 on

           the last.
         The corresponding multisets are
                                                              3.5. Counting Multisets 249

1. {1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 5}, meaning shelf 1 is assigned a book three
   times, shelf 2 is assigned a book three times, etc. Notice that there are 12
   elements in the multiset, one for each book. The numbers here represent
   the shelves; the multiplicity of the number is the number of books on
   that shelf.

2. {3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3}. The only shelf in the multiset is shelf 3,
   with multiplicity 12, meaning that shelf 3 gets 12 books.

3. {1, 2, 3, 4, 5, 5, 5, 5, 5, 5, 5, 5}. Here shelf 1 gets one book, shelf 2 gets one
   book, shelf 3 gets one book, shelf 4 gets one book, and shelf 5 gets the
   rest.

    This last example could also have been asked as a question about solving
equations with non-negative integer solutions. In particular, we could have asked
for solutions to the equation  +  +  +  +  = 12. Think of each variable as saying
how many books go on each shelf. We will ask questions directly like this, but
realizing how to represent other questions as such an equation can be useful.

                3.5.3 Representing Multisets with Bit Strings

Now let's return to the original problem of distributing 7 cookies to 4 kids and
actually count the number of outcomes.

    When we were counting plain old sets, we saw that the numbers in Pascal's
triangle gave us the counts. In fact, we saw this was true because we could represent
each set as a bit string. Whenever an element was in the set, we would denote that
with a 1, and if the element was not in the set, we would mark its absence with a 0.

    This is essentially what we did with multisets but had to use strings of non-
negative numbers beyond just 0 and 1, since an element in a multiset can appear
more than 0 or 1 times. But if we could translate those strings of numbers into some
other sort of bit string, then we could use Pascal's triangle to count the number of
multisets.

    Here is how we can do this. Given a multiset such as

                                         {, , , , , , }

we have a number sequence representation as
                                                 3, 1, 1, 2.

Well, instead of individual numbers, write each as a sequence of that many 1s. So

this example becomes

                      111, 1, 1, 11.

This is slightly awkward since we are using commas to separate the numbers. To
make this clearer, let's switch to two different symbols. We will call them sticks and
250 3. Counting

stones, where the stone represents a 1 and the stick represents a comma. So the

sequence

                                    111, 1, 1, 11

becomes

                                      |  |  |  .

This is a string of ten symbols, 7 of which are stones and 3 of which are sticks.

    This is fantastic! Whatever two symbols we use (you might also see these called
stars and bars or balls and bins), we can use Pascal's triangle to count the number

of ways to arrange them. The number of 10-bit strings of weight 3 (or weight 7) is
 103 = 120.

    In terms of cookies, we can view this sticks and stones diagram as saying after

how many cookies we stop giving cookies to the first kid and start giving cookies to

the second kid. And then after how many do we switch to the third kid? And after

how many do we switch to the fourth? So

                                      |  |  |  

means three cookies go to the first kid; then we switch and give one cookie to the

second kid, then switch, one to the third kid, switch, two to the fourth kid. Notice

that we need 7 stones and 3 sticks - one stone for each cookie, and one stick for each

switch between kids, so one fewer sticks than there are kids (we don't need to switch

after the last kid - we are done).

While we are at it, we can also answer a related question: How many ways are

there to distribute 7 cookies to 4 kids so that each kid gets at least one cookie? What

can you say about the corresponding sticks and stones charts? The charts must start

and end with at least one stone (so that kids A and D) get cookies, and also no two

sticks can be adjacent (so that kids B and C are not skipped). One way to ensure

this is to place sticks only in the spaces between the stones. With 7 stones, there are

6 spots between the stones, so we must choose 3 of those 6 spots to fill with bars.

Thus there are   6  ways to distribute 7 cookies to 4 kids giving at least one cookie to
                 3

each kid.

Another (and more general) way to approach this modified problem is to first

give each kid one cookie. Now the remaining 3 cookies can be distributed to the 4

kids without restrictions. So we have 3 stones and 3 sticks for a total of 6 symbols,

3 of which must be bars. So again we see that there are  6  ways to distribute the
                                                         3

cookies.

Sticks and stones can be used in counting problems other than kids and cookies.

Here are a few examples:

Example 3.5.4

Your favorite mathematical ice cream parlor offers 10 flavors. How many
milkshakes could you create using exactly 6, not necessarily distinct scoops?
The order you add the flavors does not matter (they will be blended up anyway),
                                                                                           3.5. Counting Multisets 251

 but you are allowed repeats. So one possible shake is triple chocolate, double
 cherry, and mint chocolate chip.
 Solution. We get six scoops, each of which could be one of ten possible
 flavors. Represent each scoop as a star. Think of going down the counter one
 flavor at a time: You see vanilla first, and skip to the next, chocolate. You
 say yes to chocolate three times (use three stones), then switch to the next
 flavor. You keep skipping until you get to cherry, which you say yes to twice.
 Another switch and you are at mint chocolate chip. You say yes once. Then
 you keep switching until you get past the last flavor, never saying yes again
 (since you already have said yes six times). There are ten flavors to choose
 from, so we must switch from considering one flavor to the next nine times.
 These are the nine bars.

      Now that we are confident that we have the right number of sticks and
 stones, we answer the question simply: There are 6 stones and 9 bars, so 15
 symbols. We need to pick 9 of them to be bars, so the number of milkshakes
 possible is

                                                  15 .
                                                   9

Example 3.5.5

 How many 7 digit phone numbers are there in which the digits are non-
 increasing? That is, every digit is less than or equal to the previous one.
 Solution. We need to decide on 7 digits, so we will use 7 stones. The sticks
 will represent a switch from each possible single-digit number down to the
 next smaller one. So the phone number 866-5221 is represented by the sticks
 and stones chart

                                       |  ||  |  |||  |  |.

      There are 10 choices for each digit (0-9), so we must switch between choices
 9 times. We have 7 stones and 9 bars, so the total number of phone numbers is

                                                  16 .
                                                   9

Example 3.5.6

 How many integer solutions are there to the equation

                                  1 + 2 + 3 + 4 + 5 = 13.

      (An integer solution to an equation is a solution in which the unknown
 must have an integer value.)
252 3. Counting

1. where   0 for each ?
2. where  > 0 for each ?
3. where   2 for each ?

Solution. This problem is just like giving 13 cookies to 5 kids. We need to
say how many of the 13 units go to each of the 5 variables. In other words, we
have 13 stones and 4 bars (the sticks are like the "+" signs in the equation).

1. If  can be 0 or greater, we are in the standard case with no restrictions.

          So 13 stones and 4 sticks can be arranged in  17  ways.
                                                        4

2. Now each variable must be at least 1. So give one unit to each variable

   to satisfy that restriction. Now there are 8 stones left, and still 4 bars, so
   the number of solutions is 412 .

3. Now each variable must be 2 or greater. So before any counting, give

          each variable 2 units. We now have 3 remaining stones and 4 bars, so

          there are  7  solutions.
                     4

Counting with Functions. Many of the counting problems in this section might at

first appear to be examples of counting functions. After all, when we try to count the

number of ways to distribute cookies to kids, we are assigning each cookie to a kid,

just like you assign elements of the domain of a function to elements in the codomain.

However, the number of ways to assign 7 cookies to 4 kids is       10  = 120, while the
                                                                   7
number of functions  : {1, 2, 3, 4, 5, 6, 7}  {, , , } is 47 = 16384. What is going

on here?

When we count functions, we consider the following two functions, for example,

to be different:

           = 1 2 3 4 5 6 7           = 1 2 3 4 5 6 7        .

But these two functions would correspond to the same cookie distribution: Kids 
and  each get one cookie, and kid  gets the rest (and none for kid ).

    The point: Elements of the domain are distinguished, but cookies are indistin-
guishable. This is analogous to the distinction between permutations (like counting
functions) and combinations (not).

                               3.5.4 Reading Questions

1. Which of the following counting questions are NOT an example of a question
       you would use sticks and stones to solve?

          A. How many ways can you distribute six unique gifts to three friends?
                                                                                               3.5. Counting Multisets 253

          B. How many ways can you distribute six identical gifts to three friends?

          C. How many different combinations of numbers can you get if you roll
              three identical 6-side dice?

          D. How many different three-scoop milkshakes can you make when each
              scoop of ice cream can be one of six different flavors?

2. When you count outcomes using sticks and stones, does order matter? Do you
       allow repeats? What do you mean by your answers (the order of what, the
       repeat of what)?

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                3.5.5 Practice Problems

1. A multiset is a collection of objects, just like a set, but can contain an object
       more than once (the order of the elements still doesn't matter). For example,
       {1, 1, 2, 5, 5, 7} is a multiset of size 6.

          a. How many sets of size 9 can be made using the 10 numeric digits 0
              through 9?

          b. How many multisets of size 9 can be made using the 10 numeric digits 0
              through 9?

2. Using the digits 2 through 7, find the number of different 5-digit numbers such
       that:

          a. Digits cannot be repeated and must be written in increasing order.
              (Increasing means strictly increasing. For example, the digits of 134 are
              increasing, but the digits of 133 are not.)

          b. Digits can be repeated and must be written in non-decreasing order.
              (Now the digits don't need to be strictly increasing; 133 has digits non-
              decreasing.)

3. After gym class you are tasked with putting the 16 identical dodgeballs away
       into 10 bins.

          a. How many ways can you do this if there are no restrictions?

          b. How many ways can you do this if each bin must contain at least one
              dodgeball?

4. How many integer solutions are there to the equation  +  +  = 12 for which
          a. , , and  are all positive?
          b. , , and  are all non-negative?
           c. , , and  are all greater than or equal to -3.
254 3. Counting

5. When playing Yahtzee, you roll five regular 6-sided dice. How many different
       outcomes are possible from a single roll? The order of the dice does not matter.
           When playing Super-Yahtzee, you roll 4 regular 10-sided dice. Now how
       any different outcomes are possible from a single roll?

6. Your friend tells you she has 9 coins in her hand (just pennies, nickels, dimes,
       and quarters). If you guess how many of each kind of coin she has, she will
       give them to you. If you guess randomly, what is the probability that you will
       be correct?

7. How many integer solutions to 1 + 2 + 3 + 4 = 35 are there for which 1  4,
       2  4, 3  1, and 4  4?

8. Consider functions  : {1, 2, 3, 4, 5, 6}  {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}.

          a. How many of these functions are strictly increasing? Explain. (A function
              is strictly increasing provided if  < , then  () <  ().)

          b. How many of the functions are non-decreasing? Explain. (A function is
              non-decreasing provided if  < , then  ()   ().)

9. Conic, your favorite math themed fast food drive-in offers 28 flavors which can
       be added to your soda. You have enough money to buy a large soda with 7
       added flavors. How many different soda concoctions can you order if:

          a. You refuse to use any of the flavors more than once?

          b. You refuse repeats but care about the order in which the flavors are
              added?

           c. You allow yourself multiple shots of the same flavor?

          d. You allow yourself multiple shots, and care about the order in which the
              flavors are added?

                              3.5.6 Additional Exercises

1. Each of the counting problems below can be solved with sticks and stones. For
       each, say what outcome the diagram

                                                    |  ||  |

       represents, if there are the correct number of sticks and stones for the problem.
       Otherwise, say why the diagram does not represent any outcome, and what a
       correct diagram would look like.

         (a) How many ways are there to select a handful of 6 jellybeans from a jar
              that contains 5 different flavors?

         (b) How many ways can you distribute 5 identical lollipops to 6 kids?

         (c) How many 6-letter words can you make using the 5 vowels in alphabetical
              order?
                                                                                               3.5. Counting Multisets 255

         (d) How many solutions are there to the equation 1 + 2 + 3 + 4 = 6.
2. Solve the three counting problems below. Then say why it makes sense that

       they all have the same answer. That is, say how you can interpret them as each
       other.

         (a) How many ways are there to distribute 8 cookies to 3 kids?

         (b) How many solutions in non-negative integers are there to  +  +  = 8?

         (c) How many different packs of 8 crayons can you make using crayons that
              come in red, blue, and yellow?

3. We have represented multisets with sticks and stones diagrams, then counted
       the number of sticks and stones diagrams to tell us the number of multisets.
       This is only a valid process if every multiset corresponds to exactly one sticks
       and stones diagram, and vice versa.

         (a) Clearly write down the rule for how to convert a multiset into a sticks
              and stones diagram. That is, describe the function  that takes a multiset
              as input and outputs a sticks and stones diagram.

         (b) Prove that the function  is a bection. That is, prove that every sticks
              and stones diagram corresponds to exactly one multiset, and vice versa.
                      3.6 Combinatorial Proofs

       Objectives

     After completing this section, you should be able to do the following.
         1. Write counting problems that have a given answer.
         2. Write two different solutions to a counting problem.
         3. Prove binomial identities using combinatorial proofs.

                                  3.6.1 Section Preview

       Investigate!

     Look at any cell in the interior Pascal's triangle and the six numbers that
     surround it. For example, you might look at this cell:

                                         46
                                     5 10 10

                                        15 20

          Of the six numbers surrounding our selected cell, we will divide them
     into two groups of three, alternating between the groups. So for this example,
     we have a group with 4, 10, and 15, and a second group with 5, 6, and 20.
     But notice:

                                     4 · 10 · 15 = 600 = 5 · 6 · 20.
     Does this work no matter what center cell you pick? Why??

    One of the coolest things about combinatorics is that you can often answer the
same counting question in dramatically different ways. When we recognize this
about a particular problem, we can often generalize the question to reveal two
different expressions that must represent the same quantity. The counting problem
itself becomes a proof of the equality of the two expressions. This style of proof is
called a combinatorial proof.

                                          Preview Activity
It is often possible to find the answer to a counting question in two different ways.
Doing so results in two formulas that give the answer, which might look different,

                                                    256
                                                                                            3.6. Combinatorial Proofs 257

but must be equal (since they are both the correct answer to the same question). This
provides a proof of the equality of the two formulas, called a combinatorial proof.

    Let's explore a couple of examples.
1. Consider the set of 7-bit strings of weight 3. That is, strings of 0s and 1s that

       are seven characters long and have exactly three 1s. How many such strings
       are there?

         (a) Give the answer as a single binomial coefficient.

         (b) Now count just those 7-bit strings of weight 3 that start with a 1. How
              many are there?

         (c) Now count just those 7-bit strings of weight 3 that start with 01. How
              many are there?

         (d) Now count just those 7-bit strings of weight 3 that start with 001. How
              many are there?

         (e) Continue this process until you have counted all 7-bit strings of weight 3,
              as a sum of binomial coefficients. What is this sum?

2. Consider the counting question "How many ways can you permute the letters
       of the word STATISTICS?" Note that this is not just a permutation, since there
       are repeated letters.

         (a) How many ways can you select three of the ten positions in the anagram
              to be occupied by the letter S?

         (b) How many ways can you select three of the remaining seven positions in
              the anagram to be occupied by the letter T?

         (c) Continue with this approach until you have found an expression for the
              number of ways to permute the letters of STATISTICS as a product of
              binomial coefficients. Write out this product.

         (d) Now answer the counting question again, this time starting by asking
              how many ways you can select positions for the letter A first. Continue
              in any way you like until you have found a different expression for the
              number of ways to permute the letters of STATISTICS as a product of
              binomial coefficients. Write out this product.

         (e) Try yet another approach. What is wrong with saying the answer is 10!?
              This is too large, but we can correct it by dividing to account for outcomes
              that are equivalent. What should you divide by?
              Write your answer as a quotient of factorials. Do you get the same answer
              as before?
258 3. Counting

                        3.6.2 Patterns in Pascal's Triangle

Have a look again at Pascal's triangle. Forget for a moment where it comes from.
Just look at it as a mathematical object. What do you notice?

                                          1
                                       11
                                    121
                                1331
                             14641
                         1 5 10 10 5 1
                      1 6 15 20 15 6 1
                   1 7 21 35 35 21 7 1

    There are lots of patterns hidden away in the triangle, enough to fill a reasonably
sized book. Here are just a few of the most obvious ones:

1. The entries on the border of the triangle are all 1.

2. Any entry not on the border is the sum of the two entries above it.

3. The triangle is symmetric. In any row, entries on the left side are mirrored on
   the right side.

4. The sum of all entries on a given row is a power of 2. (You should check this!)

We would like to state these observations in a more precise way, and then prove

that they are correct. Now each entry in Pascal's triangle is in fact a binomial

coefficient. The 1 on the very top of the triangle is  0  .  The  next  row  (which  we    will
                                                       0
                                                                  1          1
call row 1, even though it is not the top-most row) consists of   0     and  1  .  Row  4  (the

row 1, 4, 6, 4, 1) consists of the binomial coefficients

                         4 4 4 4 4.
                         01234

    Given this description of the elements in Pascal's triangle, we can rewrite the
above observations as follows:

1.     = 1 and     = 1.
    0            

2.  = -1 -1 +  -1 .

       
3.  = - .

4. 0 + 1 + 2 + · · · +  = 2.
                                                            3.6. Combinatorial Proofs 259

Each of these is an example of a binomial identity : an identity (i.e., equation)

involving binomial coefficients.

Our goal is to establish these identities. We wish to prove that they hold for all

values of  and . These proofs can be done in many ways. One option would be to
                                               
give algebraic proofs, using the formula for
                                               :

                                     = ! ( - )! ! .

Here's how you might do that for the second identity above.

Example 3.6.1

Give an algebraic proof for the binomial identity
                                     =  - 1  - 1 +  - 1  .

Solution.

Proof.  By the definition of        , we have
                                  

           -1 =                     ( - 1)!          = ( - 1)!

            - 1 ( - 1 - ( - 1))!( - 1)! ( - )!( - 1)!

and
                                     - 1  = ( - 1)! ( - 1 - )!! .

    Thus, starting with the right-hand side of the equation:

            - 1 +  - 1 = ( - 1)! + ( - 1)!
               -1                   ( - )!( - 1)! ( - 1 - )! !

                                    = ( - 1)! + ( - 1)!( - )
                                       ( - )! ! ( - )! !

                                    = ( - 1)!( +  - )
                                            ( - )! !

                                    = !
                                       ( - )! !

                                        
                                    = .

The second line (where the common denominator is found) works because

( - 1)! = ! and ( - )( -  - 1)! = ( - )!.                          

    This is certainly a valid proof but also is entirely useless. Even if you understand
the proof perfectly, it does not tell you why the identity is true. A better approach
260 3. Counting

would be to explain what         means and then say why that is also what             -1     +    -1
                                                                                      -1           

means. Let's see how this works for the four identities we observed above.

Example 3.6.2

Explain why           = 1 and         = 1.
                   0             

Solution.          What do these binomial coefficients tell us? Well,                 gives the
                                                                                   0
number of ways to select 0 objects from a collection of  objects. There is
                                                                                          
only one way to do this, namely to not select any of the objects. Thus                    0  = 1.
                 
Similarly,         gives the number of ways to select  objects from a collection of
                                                                                          
 objects. There is only one way to do this: Select all  objects. Thus                        = 1.
                                           
     Alternatively, we know that           0  is the number of -bit strings with weight
                                                                                                
0. There is only one such string, the string of all 0's. So            0   = 1. Similarly       

is the number of -bit strings with weight . There is only one string with

this property, the string of all 1's.
                        
     Another way:       0   gives the number of subsets of a set of size  containing
                                                                       
0 elements. There is only one such subset, the empty set.                  gives the number

of subsets containing  elements. The only such subset is the original set (of

all elements).

Example 3.6.3

Explain why  = -1 -1 +  -1 .                                                          
                                                                                      
Solution.          The easiest way to see this is to consider bit strings.                is the

number of bit strings of length  containing  1's. Of all of these strings, some

start with a 1 and the rest start with a 0. First consider all the bit strings which

start with a 1. After the 1, there must be  - 1 more bits (to get the total length

up to ) and exactly  - 1 of them must be 1's (as we already have one, and we
                                                                                             -1
need  total). How many strings are there like that? There are exactly                        -1

such bit strings, so of all the length  bit strings containing  1's,       -1         of them
                                                                           -1
                                              -1
start with a 1. Similarly, there are              which start with a 0 (we still need

 - 1 bits and now  of them must be 1's). Since there are                   -1         bit strings
                                                                            
containing  - 1 bits with  1's, that is the number of length  bit strings with
                                                     -1          -1 .
 1's which start with a 0. Therefore              =  -1     +

     Another way: Consider the question, how many ways can you select 

pizza toppings from a menu containing  choices? One way to do this is just

  .  Another       way  to  answer    the   same  question  is  to  first  decide  whether   or

not you want anchovies. If you do want anchovies, you still need to pick
                                                                                      -1
 - 1 toppings, now from just  - 1 choices. That can be done in                        -1    ways.

If you do not want anchovies, then you still need to select  toppings from
                                                                       -1
 - 1 choices (the anchovies are out). You can do that in                   ways. Since the

choices with anchovies are disjoint from the choices without anchovies, the
                      -1       -1
total choices are     -1    +      .  But wait.   We answered the same question in two
                                                        3.6. Combinatorial Proofs 261

different ways, so the two answers must be the same. Thus       =  -1  +   -1 .
                                                                   -1

You can also explain (prove) this identity by counting subsets, or even

lattice paths.

Example 3.6.4

Prove the binomial identity        =   
                              
                                      - .

Solution.  Why is this true?       counts the number of ways to select  things
                                          
from  choices. On the other hand,        -
                                            counts the number of ways to select

 -  things from  choices. Are these really the same? Well, what if instead

of selecting the  -  things you choose to exclude them. How many ways are
                                                                        
there to choose  -  things to exclude from  choices? Clearly this is   -  as

well (it doesn't matter whether you include or exclude the things once you
have chosen them). And if you exclude  -  things, then you are including
the other  things. So the set of outcomes should be the same.

Let's try the pizza counting example like we did above. How many ways

are there to pick  toppings from a list of  choices? On the one hand, the
                  
answer is simply    .  Alternatively, you could make a list of all the toppings

you don't want. To end up with a pizza containing exactly  toppings, you
                                                                    
need to pick  -  toppings to not put on the pizza. You have        -   choices

for the toppings you don't want. Both of these ways give you a pizza with 

toppings, in fact all the ways to get a pizza with  toppings. Thus these two
                                       
answers must be the same:          =
                                      - .

You can also prove (explain) this identity using bit strings, subsets, or
                                                 
lattice paths. The bit string argument is nice:       counts the number of bit

strings of length  with  1's. This is also the number of bit strings of length

 with  0's (just replace each 1 with a 0 and each 0 with a 1). But if a string of
                                                                    
length  has  0's, it must have  -  1's. And there are exactly      -   strings

of length  with  -  1's.

Example 3.6.5

Prove the binomial identity        +     +     +···+    = 2.
                              0       1     2         

Solution. Let's do a "pizza proof" again. We need to find a question about
pizza toppings which has 2 as the answer. How about this: If a pizza joint
offers  toppings, how many pizzas can you build using any number of

toppings from no toppings to all toppings, using each topping at most once?
    On one hand, the answer is 2. For each topping, you can say "yes" or

"no," so you have two choices for each topping.

On the other hand, divide the possible pizzas into disjoint groups: the

pizzas with no toppings, the pizzas with one topping, the pizzas with two
262 3. Counting

toppings, etc. If we want no toppings, there is only one pizza like that (the
                                                                              
empty pizza, if you will), but it would be better to think of that number as  0

since we choose 0 of the  toppings. How many pizzas have 1 topping? We
                                       
need to choose 1 of the  toppings, so  1  .  We have:

· Pizzas with 0 toppings:     
                              0

· Pizzas with 1 topping:   
                           1

· Pizzas with 2 toppings:     
                              2

   ..
·.

· Pizzas with  toppings:      

                              .

    The total number of possible pizzas will be the sum of these, which is
exactly the left-hand side of the identity we are trying to prove.

    Again, we could have proved the identity using subsets, bit strings, or
lattice paths (although the lattice path argument is a little tricky).

    Hopefully this gives some idea of how explanatory proofs of binomial identities
can go. It is worth pointing out that more traditional proofs can also be beautiful.4
For example, consider the following rather slick proof of the last identity.

    Expand the binomial ( + ):

      ( + ) = 0  + 1 -1  + 2 -2 2 + · · · +   - 1  · -1 +  .
    Let  = 1 and  = 1. We get:

       (1 + 1) = 0 1 + 1 1-11 + 2 1-212 + · · · +   - 1 1 · 1-1 +  1.

    Of course this simplifies to:

                         (2) = 0 + 1 + 2 + · · · +   - 1 +  .
    Something fun to try: Let  = 1 and  = 2. Neat huh?

                     3.6.3 More Proofs

The explanatory proofs given in the above examples are typically called combina-

torial proofs. In general, to give a combinatorial proof for a binomial identity, say
 = , you do the following:

4Most every binomial identity can be proved using mathematical induction, using the recursive
                
definition for    .  We will discuss induction in Section 4.5.
                                                         3.6. Combinatorial Proofs 263

   1. Find a counting problem you will be able to answer in two ways.
   2. Explain why one answer to the counting problem is .
   3. Explain why the other answer to the counting problem is .

    Since both  and  are the answers to the same question, we must have  = .
    The tricky thing is coming up with the question. This is not always obvious, but
it gets easier the more counting problems you solve. You will start to recognize
types of answers as the answers to types of questions. More often what will happen
is that you will be solving a counting problem and happen to think up two different
ways of finding the answer. Now you have a binomial identity, and the proof is right
there. The proof is the problem you just solved together with your two solutions.
    For example, consider this counting question:

   How many 10-letter words use exactly four A's, three B's, two C's, and
   one D?

Let's try to solve this problem. We have 10 spots for letters to go. Four of those need

to be A's. We can pick the four A-spots in  10  ways. Now where can we put the B's?
                                            4
                                                                                  6
Well there are only 6 spots left; we need to pick 3 of them. This can be done in  3

ways. The two C's need to go in two of the 3 remaining spots, so we have  3  ways of
                                                                          2
doing that. That leaves just one spot of the D, but we could write that 1 choice as 11 .

Thus the answer is:

                                   10 6 3 1 .
                                   4 321

   But why stop there? We can find the answer another way too. First let's decide

where to put the one D: we have 10 spots and we need to choose 1 of them, so this

can be done in  10   ways.  Next, choose one of the   9  ways to place the two C's.
                1                                     2

We now have 7 spots left, and three of them need to be filled with B's. There are

7  ways to do this. Finally the A's can be placed in  4  (that is, only one) ways. So
3                                                     4

another answer to the question is

                                   10 9 7 4 .
                                   1 234

   Interesting. This gives us the binomial identity:

                            10 6 3 1 = 10 9 7 4 .
                            4 321 1 234

   Here are a couple more binomial identities with combinatorial proofs.
264 3. Counting

Example 3.6.6

Prove the identity
              1 + 2( - 1) + 3( - 2) + · · · + ( - 1)2 + 1 =  + 2 .
                                                                                3

Solution. To give a combinatorial proof we need to think up a question

we can answer in two ways: one way needs to give the left-hand side of the

identity, and the other way needs to be the right-hand side of the identity.
                                                                  +2
Our clue to what question to ask comes from the right-hand side:   3               counts

the number of ways to select 3 things from a group of  + 2 things. Let's

name those things 1, 2, 3, . . . ,  + 2. In other words, we want to find 3-element

subsets of those numbers (since order should not matter, subsets are exactly

the right thing to think about). We will have to be a bit clever to explain why

the left-hand side also gives the number of these subsets. Here's the proof.

Proof. Consider the question "How many 3-element subsets are there of the

set {1, 2, 3, . . . ,  + 2}?" We answer this in two ways:

Answer 1: We must select 3 elements from the collection of  + 2 elements.
                     +2
This can be done in   3  ways.

Answer 2: Break this problem up into cases by what the middle number

in the subset is. Say each subset is {, , } written in increasing order. We

count the number of subsets for each distinct value of . The smallest possible

value of  is 2, and the largest is  + 1.

When  = 2, there are 1 ·  subsets: 1 choice for  and  choices (3 through

 + 2) for .

When  = 3, there are 2 · ( - 1) subsets: 2 choices for  and  - 1 choices

for .

When  = 4, there are 3 · ( - 2) subsets: 3 choices for  and  - 2 choices

for .

And so on. When  =  + 1, there are  choices for  and only 1 choice for

, so  · 1 subsets.

Therefore the total number of subsets is

                 1 + 2( - 1) + 3( - 2) + · · · + ( - 1)2 + 1.

    Since Answer 1 and Answer 2 are answers to the same question, they must
be equal. Therefore

              1 + 2( - 1) + 3( - 2) + · · · + ( - 1)2 + 1 =  + 2 .
                                                                                3

                                                                                              
                                                                  3.6. Combinatorial Proofs 265

Example 3.6.7

Prove the binomial identity

                        2 +  2 +  2 + · · · +  2 = 2 .
                       0         1      2                         

Solution. We will give two different proofs of this fact. The first will be very

similar to the previous example (counting subsets). The second proof is a

little slicker, using lattice paths.

Proof. Consider the question: "How many pizzas can you make using 

toppings when there are 2 toppings to choose from?"

Answer 1: There are 2 toppings, from which you must choose . This
                   2
can be done in         ways.

Answer 2: Divide the toppings into two groups of  toppings (perhaps 

meats and  veggies). Any choice of  toppings must include some number

from the first group and some number from the second group. Consider each

possible number of meat toppings separately:
                   
0 meats:        0      , since you need to choose 0 of the           meats and      of the  

veggies.            
             1     -1
1 meat:                ,  since  you  need  1  of    meats  so    -  1  of     veggies.

2 meats:                  .  Choose  2  meats  and   the  remaining     -   2  toppings  from
              2    -2
the  veggies.
                                                                                 
And so on. The last case is  meats, which can be done in                         0  ways.

Thus the total number of pizzas possible is

                                                                     
                0  + 1 -1 + 2 -2 +···+  0 .

This is not quite the left-hand side . . .           yet. Notice that            =       and
                                                                                    0
-1        1
    =        and so on, by the identity in Example 3.6.4. Thus we do indeed get

                             2 2 2 2
                             0 + 1 + 2 +···+  .

    Since these two answers are answers to the same question, they must be
equal, and thus

                        2 +  2 +  2 + · · · +  2 = 2 .
                       0         1      2                         

                                                                                              

    For an alternative proof, we use lattice paths. This is reasonable to consider
because the right-hand side of the identity reminds us of the number of paths
from (0, 0) to (, ).
266 3. Counting

Proof. Consider the question: How many lattice paths are there from (0, 0)

to (, )?

  Answer 1: We must travel 2 steps, and  of them must be in the up
                           2
direction. Thus there are        paths.

  Answer 2: Note that any path from (0, 0) to (, ) must cross the line

 +  = . That is, any path must pass through exactly one of the points:

(0, ), (1,  - 1), (2,  - 2), . . . , (, 0). For example, this is what happens in the

case  = 4:

                                 (0,4)                       (4,4)

                                        (1,3)

                                               (2,2)

                                                      (3,1)

                                                             (4,0)

                          (0,0)                              +=4

  How many paths pass through (0, )? To get to that point, you must travel
                                                                       
 units, and 0 of them are to the right, so there are                   0  ways to get to (0, ).
                                                                          
From (0, ) to (, ) takes  steps, and 0 of them are up. So there are       0  ways
                                                                    
to get from (0, ) to (, ). Therefore there are               0      0  paths from (0, 0) to (, )

through the point (0, ) .                                    
                                                             1
  What about through (1,  - 1)? There are                           paths to get there ( steps, 1
                    
to the right) and   1  paths to complete the journey to (, ) ( steps, 1 up). So
                 
there are  1     1  paths from (0, 0) to (, ) through (1,  - 1).          
                                                                          
  In general, to get to (, ) through the point (,  - ) we have               paths
                           
to the midpoint and then         paths from the midpoint to (, ). So there are
  
    paths from (0, 0) to (, ) through (,  - ).

  All together then, the total paths from (0, 0) to (, ) passing through

exactly one of these midpoints is

                          2 2 2 2
                          0 + 1 + 2 +···+  .

    Since these two answers are answers to the same question, they must be
equal, and thus

                        2 +  2 +  2 + · · · +  2 = 2 .
                       0   1            2                              

                                                                             
                                              3.6. Combinatorial Proofs 267

                               3.6.4 Reading Questions

1. Which of the following describes the overall strategy for a combinatorial proof?

          A. Ask a counting question that can be answered in two ways (and answer
              it).

          B. Ask two counting questions that can both be answered in the same way
              (and answer the questions).

          C. Simplify the algebraic expressions for each side of the combinatorial
              identity.

          D. Assume the identity fails to hold for some smallest value, and get a
              contradiction by looking at a smaller value.

2. Write a counting question that you could use to establish the identity:

                                                + +
                                                   = .

3. What questions do you have after reading this section? Write at least one
       question about the content of this section that you are curious about.

                                3.6.5 Practice Problems

1. Create a combinatorial proof of the identity 10 + 10 = 2 · 10.

·  Either:

   Consider the question, "How many two-digit numbers start with a
   3 or 4?"

   Or:

   Consider the question, "How many 2-topping pizzas can you make
   choosing from 10 toppings?"

· The first way to answer this is 10 + 10.

·  Either:

   This is because there are 10 numbers that start with 3, and another
   10 that start with 4.

   Or:

   This is because there are 10 choices for the first topping, and 10
   choices for the second topping.

· A second answer to the question is 2 · 10.

·  Either:

   This is because you have 2 choices for the first digit, and 10 choices

   for the second digit.
268 3. Counting

                 Or:

                 This is because you must either choose 2 identical toppings or two
                 different toppings.

      · Since both expressions answer the same question, they must be equal.

      Therefore 10 + 10 = 2 · 10.

2.  If you were asked to give a combinatorial proof of the identity       -2  =
                                                                     2     
      -
       2  , which of the following would be reasonable questions to use?

      A. How many ways can you select 2 flavors of ice cream from  choices and
           toppings for your sundae?

      B. How many ways can you select  bow ties to pack in your checked bag
          and 2 more bow ties to pack in your carry-on, from a collection of  bow

          ties?

      C. There are  students in Math Club. How many ways can you pick a
          subset of size 2 or  that will run your fall fundraiser?

      D. From a class of  students, how many ways can you select 2 to be prefects
          and another  to be on the party planning committee?

                              3.6.6 Additional Exercises

1. Give a combinatorial proof of the identity 2 + 2 + 2 = 3 · 2.
2. Suppose you own  fezzes and  bow ties. Of course,  and  are both greater

       than 1.

    (a) How many combinations of fez and bow tie can you make? You can wear
         only one fez and one bow tie at a time. Explain.

                                      +     
    (b) Explain why the answer is also 2 - 2 - 2 . (If this is what you
      claimed the answer was in part (a), try it again.)

      (c) Use your answers to parts (a) and (b) to give a combinatorial proof of the

      identity

                  +  -  -  = .
                                   2  22

3. How many triangles can you draw using the dots below as vertices?

    (a) Find an expression for the answer which is the sum of three terms
                                                                                            3.6. Combinatorial Proofs 269

              involving binomial coefficients.

         (b) Find an expression for the answer which is the difference of two binomial
              coefficients.

         (c) Generalize the above to state and prove a binomial identity using a
              combinatorial proof. Say you have  points on the horizontal axis and 
              points in the semi-circle.

4. Consider all the triangles you can create using the points shown below as
       vertices. Note that we are not allowing degenerate triangles (ones with all three
       vertices on the same line), but we do allow non-right triangles.

(a) Find the number of triangles, and explain why your answer is correct.

(b) Find the number of triangles again, using a different method. Explain
     why your new method works.

         (c) State a binomial identity that your two answers above establish (that is,
              give the binomial identity that your two answers are a proof for). Then
              generalize this using 's and 's.

5. A woman is getting married. She has 15 best friends but can only select 6 of
       them to be her bridesmaids, one of which needs to be her maid of honor. How
       many ways can she do this?

(a) What if she first selects the 6 bridesmaids, and then selects one of them
     to be the maid of honor?

(b) What if she first selects her maid of honor, and then 5 other bridesmaids?

(c)  Explain why 6  15     = 15 514 .
                    6

6. Consider the identity:

                               =   - 1  - 1 .

(a) Is this true? Try it for a few values of  and .

(b) Use the formula for      to give an algebraic proof of the identity.
                           
270 3. Counting

    (c) Give a combinatorial proof of the identity.

7.  Give a combinatorial proof of the identity     -2 -2 =    
                                                2           
                                                              2.

8. Consider the binomial identity

                 1 + 2 2 + 3 3 + · · · +   = 2-1.

         (a) Give a combinatorial proof of this identity. Hint: What if some number
              of a group of  people wanted to go to an escape room, and among those
              going, one needed to be the team captain?

         (b) Give an alternate proof by multiplying out (1 + ) and taking derivatives
              of both sides.

9. Give a combinatorial proof for the identity 1 + 2 + 3 + · · · +  = 2 +1 .
10. Consider the bit strings in B62 (bit strings of length 6 and weight 2).

         (a) How many of those bit strings start with 1?

    (b) How many of those bit strings start with 01?

    (c) How many of those bit strings start with 001?

         (d) Are there any other strings we have not counted yet? Which ones, and
              how many are there?

         (e) How many bit strings are there total in B62?

          (f) What binomial identity have you just given a combinatorial proof for?
11. Let's count ternary digit strings, that is, strings in which each digit can be 0, 1,

       or 2.

         (a) How many ternary digit strings contain exactly  digits?

         (b) How many ternary digit strings contain exactly  digits and  2's.

         (c) How many ternary digit strings contain exactly  digits and  - 1 2's.
              (Hint: Where can you put the non-2 digit, and then what could it be?)

         (d) How many ternary digit strings contain exactly  digits and  - 2 2's.
              (Hint: See previous hint.)

         (e) How many ternary digit strings contain exactly  digits and  -  2's.

          (f) How many ternary digit strings contain exactly  digits and no 2's. (Hint:
              What kind of a string is this?)
                                                3.6. Combinatorial Proofs 271

(g) Use the above parts to give a combinatorial proof for the identity

                                0 + 2 1 + 22 2 + 23 3 + · · · + 2  = 3.

12. How many ways are there to rearrange the letters in the word "rearrange"?
       Answer this question in at least two different ways to establish a binomial
       identity.

13. Establish the identity below using a combinatorial proof.

2  + 3 -1 + 4 -2 +···+  2 = +3 .
22 2 2                    22                    22  5

14. In Example 3.6.5 we established that the sum of any row in Pascal's triangle is
       a power of two. Specifically,

0 + 1 + 2 + · · · +  = 2.

The argument given there used the counting question, "How many pizzas can
you build using any number of  different toppings?" To practice, give new

proofs of this identity using different questions.

(a) Use a question about counting subsets.

(b) Use a question about counting bit strings.

         (c) Use a question about counting lattice paths.
15.

         (a) The Stanley Cup is decided in a best of 7 tournament between two teams.
              In how many ways can your team win? Let's answer this question two
              ways:

i. How many of the 7 games does your team need to win? How many
   ways can this happen?

ii. What if the tournament goes all 7 games? So you win the last game.
    How many ways can the first 6 games go down?

iii. What if the tournament goes just 6 games? How many ways can
    this happen? What about 5 games? 4 games?

iv. What are the two different ways to compute the number of ways

your team can win? Write down an equation involving binomial
                        
coefficients (that is,    's).  What pattern in Pascal's triangle is this

an example of?

(b) Generalize. What if the rules changed, and you played a best of 9
     tournament (5 wins required)? What if you played an  game tournament
     with  wins required to be named champion?
272 3. Counting

                                                                                                                                    

16. Let 1, 2, . . . ,  be a list of positive integers that sum to  (i.e., =1  = ).
       Use two graphs containing  vertices to explain why

                       

                 =1  2  2.
                  3.7 Applications to Probability

       Objectives

     After completing this section, you should be able to do the following.
         1. Use counting techniques to compute probabilities of events.
         2. Understand the basic rules of probability.
         3. Compute probabilities of compound events, both independent and
             dependent.

                                  3.7.1 Section Preview

       Investigate!

     Suppose you, like the 17th-century French nobleman Chevalier de Mere,
     liked gambling on the outcome of rolling fair 6-sided dice (each numbered
     1 to 6). Would you bet him that he couldn't roll at least one 6 in four rolls of
     a single die? What about betting that he couldn't roll at least one double-6
     in 24 rolls of both dice?

          To make these decisions, we should decide
         1. How likely is it that in four rolls of a single die, there will be at least

             one 6?
         2. How likely is it that in 24 rolls of two dice, there will be at least one

             double-6?
         3. Since the ratio 4 : 6 is equal to the ratio 24 : 36, should the probability

             of these events be the same? That's what the Chevalier de Mere
             thought. Do you?

    Here is a python script that can help you get a feel for the questions above. You
can switch between the two questions by commenting and uncommenting out the
appropriate lines (lines that start with a # are comments). See how lucky you are!

     import random

     for i in range(4):
            die = random.randint(1,6)
            print(f"Yourolleda{die}")

    #for i in range(24):

                                                    273
274 3. Counting

#  die1 = random.randint(1,6)

#  die2 = random.randint(1,6)

#  print(f"You rolled a {die1} and a {die2}")

    If you know some python, you might want to modify the script to run the
experiment 1000 times and see how many of those are "wins".

    We can get a feel for probability empirically by observing how frequently events
occur when an experiment is repeated many times. It often happens, as it did with
the Chevalier de Mere, that our intuition about probability is not quite right. Using
the counting techniques we have studied, we can explain why our intuition is off
and what the true probabilities are.

    Most of the questions about counting we have considered in this chapter can
also be asked as a question about probability. For example: How many passwords
of length 8 can you make using just lower-case letters? What is the probability that
randomly selecting 8 lower-case letters will give you your password?

    While the subject of probability is vast and complex, the basics of discrete
probability are little more than counting. So here we will take a brief look at how
our study of counting can help us understand probability.

                                           Preview Activity

Suppose you were in a class of 30 students. How likely is it that at least two of the
students were born on the same day of the year?

    Assume that all days are equally likely and that nobody was born on February
29th. Would you believe the answer is more than 25%? More than 50%? More than
70%??? Let's find the answer.

1. First, what should we mean by probability? If you roll a fair six-sided die, what
       is the probability of rolling a 6?
           What is the probability of rolling an even number?

2. We will define the probability of an event as the number of ways the event can
       happen divided by the total number of things that can happen.

         (a) Suppose you roll two dice (one red and one green). How many total
              outcomes are there?

         (b) Of those outcomes, how many have different numbers on the two dice?

              Hint. How many sequences of two different numbers can you make
              using the numbers 1 to 6?

         (c) Combining the two numbers your found above, what is the probability
              that two dice will show different numbers?

         (d) What is the probability that you will get three different numbers when
              rolling three dice? (Assume the dice are different colors).
                                                                                     3.7. Applications to Probability 275

3. Now to birthdays. There are 365 days in a year.
         (a) How many possible sequences of 30 birthdays are there?
         (b) How many possible sequences of 30 birthdays contain no repeats?
         (c) What is the probability that 30 people have no repeated birthdays?
         (d) Among the 30 people, either they all have different birthdays or at least
              two share a birthday. Since this is certain, its probability is 1. So what is
              the probability that at least two people (out of the 30) share a birthday?
         (e) What is the smallest number of people you would need to have a greater
              than 90% chance that at least two share a birthday?

                   3.7.2 Computing Probabilities

Think about how we use the language of probability in our everyday lives. We

might say that tossing a coin has a 50% chance of coming up heads. Or that when

rolling two dice, having the sum of the dice result in a 7 is more likely than having

the sum be a 2. Casinos certainly rely on certain pairs of cards being consistently

more likely than others when setting payouts for Blackjack. All of this assumes that

there is some randomness to events, and that even in this randomness, there is some

consistency to what can happen. We will assume this model of reality.

    The things we can assign probabilities to are called random experiments. These

can have different possible outcomes. We will call the (finite) set of possible outcomes
to a random experiment the sample space (we will usually denote this set as ).

By definition, performing a random experiment will always result in exactly one

outcome from the sample space.

    Throughout this section, we will always assume the uniform probability dis-

tribution, which means that we insist that each outcome in the sample space is

equally likely. Then the probability of any particular outcome in the sample space 

is  exactly   1

             || .

    Note 3.7.1 The uniform probability distribution is a common and reasonable
    assumption to make, but it does preclude us from asking some questions.
    For example, throwing a dart at a dartboard is not uniformly distributed,
    and similarly, rolling weighted dice would not be. What is the probability
    that a thumbtack lands point up? But how would we even start to answer
    these questions? We would have to make some assumptions about what
    the probabilities of the outcomes actually are (perhaps via some repeated
    experiments).

        There are other reasons to study different probability distributions, and
    this is a major topic of study in a course in probability theory.
276 3. Counting

Example 3.7.2

Suppose you flip two fair coins (a penny and a nickel). What is the sample
space of possible outcomes? What is the probability of getting two heads?

Solution. The same space is the set of all possible outcomes of the experiment,

which in this case is the set {, , , }. The probability of getting

two      heads  is  then  14 .  In  fact,  every  outcome  has  probability     1  since  there  are  4
                                                                                4

outcomes in the sample space.

Finding probabilities of outcomes really is this easy. Where things get more fun

is if we look for the probability of an event: a subset of the sample space. For a

particular random experiment, there might be lots of different events we ask about,

and they do not need to be mutually exclusive. An event can also be a set containing

just a single outcome or might contain no outcomes.

    For example, suppose you roll a fair 6-side die. The sample space contains six
outcomes {1, 2, 3, 4, 5, 6}. Some events we might care about include rolling an even
number (the subset {2, 4, 6}), rolling a number less than 3 (the set {1, 2}), or rolling
a number less than 10 (the subset {1, 2, 3, 4, 5, 6}). In fact, we now know that there

are exactly 26 = 64 different events we could ask about, since there are 64 subsets of

the sample space.

What does our intuition suggest about the example events described above?

Rolling an even number should be just as likely as rolling an odd number, so we

hope that the probability of rolling an even number is 12 . Similarly, the probability of
                                                   1
rolling  a  number  less  than      3  should  be  3  since  a  third  of  the  possible  outcomes       are

less than 3. What about rolling a number less than 10? Well, this must happen, so it

would be 100%, which as a fraction is just 1.

Consistent with our intuition, we define the probability of an event as follows.

 Definition 3.7.3

Suppose a random experiment has sample space . The probability of an
event  is the number of outcomes in  divided by the number of outcomes
in . We write this as () = || || .

Example 3.7.4

 Suppose you roll a regular 6-sided die (each side contains a number from 1 to
 6). What is the probability that you will roll an even number?
 Solution. The sample space is the set {1, 2, 3, 4, 5, 6} of possible rolls. The
 event, call it  for even, is the set of outcomes {2, 4, 6}. Thus the probability
 of  occurring is

                                           () = 3 = 1 .
                                                     62
                          3.7. Applications to Probability 277

    We have spent a lot of effort learning how to count the size of sets. We can then
use this to compute probabilities by counting the size of the sample space (set) and
the size of the event (set).

Example 3.7.5

If you draw 5 cards from a regular deck of 52 cards, what is the probability
that you will draw 4-of-a-kind?

Solution. First, let's count the sample space, which will consist of all 5-card

hands. The order of the cards in a hand is not important, so we will just count

5-element subsets of the 52 cards. The sample space therefore contains       52
                                                                             5
elements. (This number is just under 2.6 million: 2, 598, 960 to be exact.)

Now, how many of those will be 4-of-a-kind? One way we could count

this would be to first select which of the 13 values will be the 4-of-a-kind,

which can be done in  13  = 13 ways. What about the other card in the hand?
                      1

Well, there are 48 other cards it could be, so the number of 4-of-a-kind hands

is 13 · 48 = 624.

This makes the probability of getting 4-of-a-kind,

                   (4-of-a-kind) = 52 13 · 48  0.00024.

                                                       5

    An important subtlety: Whenever counting the size of the sample space and the
event, we must make sure that we are really counting the number of elements of
the sample space that are in the event. In particular, if we count subsets of cards
in the sample space (using a combination instead of using a permutation to count
sequences of cards) then we must count the number of subsets of cards in the event.

    Interestingly, we can find the probability of getting 4-of-a-kind using permuta-
tions too: The number of 5-card sequences is (52, 5) = 311, 875, 200. Finding the
number of 4-of-a-kind sequences is a little more complicated. There are 13 possible
values for the 4-of-a-kind, and 48 remaining cards for the fifth card. But those five
cards can be arranged in 5! different ways. So the number of 4-of-a-kind sequences
is 13 · 48 · 5!. This gives,

                             (4-of-a-kind) = 13 · 48 · 5! (  52, 5) 0.00024.

Is this close to the same answer we had before? It is exactly the same (we can verify
this by noticing the extra 5! in both the numerator and denominator).

    While picking between combinations and permutations (as long as you pick the
same for both the sample space and the event) will give you the same probability, this
is not always true, as you are asked to explore in some of the additional exercises.
278 3. Counting

                                 3.7.3 Probability Rules

Here are a few basic probability facts that follow easily from our definition of
probability and understanding of counting. While we are still under the assumption
that the outcomes in the sample space are equally likely (the uniform probability
distribution), these rules will hold for all probability distributions.

    First, we often are interested in the probability that an event does not occur. We
call this the complement of the event. Remember, events are subsets of the sample
space, and not being "in" the event means you are in the complement of that subset.
Using the same notation we have for sets, the complement of an event  will be
written . Here is the relationship between the probability of an event and its
complement.

     Theorem 3.7.6
    The probability of the complement of an event  is

                                            () = 1 - ().

Proof. Remember that () = || || , the number of outcomes in the event  divided
by the total number of outcomes. But how many outcomes are not in ? All the
others. That is,

                                              = || - || .

So for sure, we have

                                   || - || || ||
                       () = || = || = || - || = 1 - ().

    Let's illustrate this proof with an example.

  Example 3.7.7

    Suppose you flip a fair coin 10 times. What is the probability that you will get
    at least one heads?
    Solution. There are lots of ways you can get at least one head, but only one
    way you can get no heads (that is, get all tails). So it makes sense to try to
    compute the requested probability as the complement of a probability easier
    to compute.

         The sample space here is the set of all 10-toss sequences. How many are
    there? For each term in the sequence, it could be a head (H) or tail (T), so
    there are 210 = 1024 possible sequences.

         We want to find the probability of getting at least one head. Let's think of
    this just as a counting question: How many 10-toss sequences have at least
    one head? All 1024 of them, except the one all tails sequence. So there are
             3.7. Applications to Probability 279

1023 sequences with at least one head. Thus the probability of getting at least

one head is 1023 1024 .
    Wait, did we use Theorem 3.7.6? Not explicitly, but essentially we have.

Using the theorem, we would have said that the probability of getting at least

one head is  1 - (all tails) = 1 - 1 = 1023 .
                                        1024 1024

Note that the calculation we did required subtracting fractions:

             1 - 1 = 1024 - 1 = 1024 - 1 = 1023 .
                  1024 1024 1024 1024 1024

So whether we do the subtraction to calculate the size of the complement, or
use the complement formula and subtract fractions, we get the same answer.

    Complementary probabilities are very useful when answering historical questions
about dice.

  Example 3.7.8

    What is the probability that you will roll at least one 6 in four rolls of a fair
    6-sided die?

         Is this the same as the probability that you will roll at least one double 6
    in 24 rolls of two dice?
    Solution. The complementary event is rolling a die four times and never
    getting a 6. Of the 64 possible rolls, there are 54 that contain no 6. So the
    probability of getting at least one 6 in four rolls is

                      (at least one 6) = 1 - (no 6) = 1 - 64 5  0 4 .5177.

         For the double 6 in 24 rolls variant, we use the complementary event as
    well: what is the probability of not getting double 6s? That means on every
    roll you get one of the 35 other pairs.

           (at least one double 6) = 1 - (no double 6) = 1 - 3624 35  0 24 .4914.

         Indeed, the Chevalier de Mere noticed that when playing the game with
    two dice, he tended to lose money in the long run. Who did he turn to to ask
    for help? Blaise Pascal, of course!

    Another way to think about complementary probabilities is to say that
                                            () + () = 1.

A probability of 1 means the event is certain, so perhaps we should think of this as
280 3. Counting

giving the probability that event  either happened or didn't happen. This is exactly
what we want to mean by adding probabilities.

     Theorem 3.7.9
    Suppose  and  are two disjoint events. Then the probability of either  or 
    happening is,

                                       (  ) = () + ().
    If  and  are not disjoint, then the probability of  or  occurring is,

                               (  ) = () + () - (  ).

    The proof of this fact is one of the exercises in this section. However, it should
become clear how this works with an example.

  Example 3.7.10

    Suppose you roll a fair 6-sided die. What is the probability of rolling a number
    that is even or less than 3 ?
    Solution. We don't need a theorem to answer this. The sample space is
    {1, 2, 3, 4, 5, 6} and the event is the subset  = {1, 2, 4, 6}. So () = 46 .

         To see where the 4 comes from, let  be the event of rolling an even
    number (so  = {2, 4, 6}) and  be the event of rolling a number less than 3
    (so  = {1, 2}). Notice that the notation () = (  ) makes sense, since
    as sets, we really do have  =   .

         If we go back to the definition of the probability of an event, we have,

                                                  || |  |
                                        () = || = || .

    We must find the size of the set   . But we know how to find the size of
    the union of non-disjoint sets: use PIE! So |  | = 3 + 2 - 1 = 4.

    As the example demonstrates, we have basically translated the sum principle
into the language of probability. Can we do the same for the product principle?

    We use the product principle to find the number of ways two events can both
happen, one after the other. Many probability questions ask for the probability of
such compound events. Let's consider an example to see what is going on.

  Example 3.7.11

    What is the probability of getting an even number when rolling a 6-sided die
    and a heads when flipping a coin?
    Solution. First we will find the probability directly from the definition. The
                                     3.7. Applications to Probability 281

sample space consists of all pairs of outcomes from the die and the coin, so  =
{(1, ), (1, ), (2, ), (2, ), (3, ), (3, ), (4, ), (4, ), (5, ), (5, ), (6, ), (6, )}.

Without listing these, we could have calculated the size of the sample space
using the product principle: || = 6 · 2 = 12. The event we are interested
in is the set of outcomes  = {(2, ), (4, ), (6, )}. Obviously that is size 3,

which we could have also found as 3 · 1. So the probability of this event is

()  =  3   =  14 .
       12
Now consider the two events separately. Say  is rolling an even number,

and  flipping the coin and getting heads. The probability of the first event is

() = 36 . The probability of the second event is () = 12 . It appears that the

correct way to combine these probabilities is to multiply them:

                       () = ( and ) = ()() = 3 1 = 1 .
                                                                  62 4

How convenient that multiplying fractions is done by multiplying the nu-
merators and denominators separately, and this is the same as applying the
product principle to the numerator and denominator of the fraction.

    The reason the above example worked out was that the events were independent.
Intuitively, this means that the outcome of the first event has no influence on the
outcome of the second event. Actually, we use this principle like the product
principle to define independence.

Definition 3.7.12

Given two events  and , we say that they are independent provided the

probability of both events happening is the product of the probabilities of

each event happening:

                       (  ) = ()().

    Notice that in the definition we describe the event that both  and  happen as
the intersection   . Since events are sets, it makes sense to take an intersection.
The intersection of two sets contains all the elements that are in both sets, which is
exactly what we want here.

    This shines a light on a key difference between this definition and the product
principle. We use the product principle to construct a new set of outcomes by
combining the outcomes in two sets. This creates new sorts of outcomes. For
example, the product principle would combine the sets

                     {1, 2, 3} and {, } into {1, 1, 2, 2, 3, 3}.

This is not the intersection of two sets (it is actually the Cartesian product:  ×  =
{(, ) :   ;   }). The definition of independence involves probabilities
relative to a fixed set of outcomes. So the elements in  and  in the definition of
independence are already sequences like we would have created using the product
282 3. Counting

principle.

    If we are more careful in Example 3.7.11 where we rolled a die and flipped a
coin, we should describe the event  of first rolling an even number as the set

                                 = {(2, ), (2, ), (4, ), (4, ), (6, ), (6, )}

and the event  of then flipping heads as the set

                                = {(1, ), (2, ), (3, ), (4, ), (5, ), (6, )}.

We  then   have     ()            =     6   and    ()     =     612 ,  with  product      ()()          =  6   6   =  36   =  14 .  So
                                        12                                                                 12  12     144
our solution in the example was correct but misleading. The events  and  are

indeed independent since

                                                      = {(2, ), (4, ), (6, )}

so  (        )      =   3   =     14 .
                        12

Example 3.7.13

    Suppose you roll a 12-sided die (numbered 1 to 12). Consider the events:

        ·  is the event of rolling a number that is a multiple of 3.

        ·  is the event of rolling a number that is a multiple of 4.

        ·  is the event of rolling a number less than 7.

    Are the events  and  independent? What about  and ? What about 
    and ?
    Solution. The sample space is the set {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}. The
    event  is the set {3, 6, 9, 12},  is the set {4, 8, 12}, and  is the set
    {1, 2, 3, 4, 5, 6}. Thus the probabilities for each of these events are

                        () = 4 = 1 , () = 3 = 1 , () = 6 = 1.
                                            12 3                       12 4                       12 2

        To decide whether events  and  are independent, we find (  ). The

    intersection of events  and  (meaning the number rolled is both a multiple

    of  3  and      4)  is  1     (the      only   element         of  the   intersection    is   12).  We  compare        this
                            12
        ()()                   1  1         112 .
    to                  =      3  4  =             Since  these        are   equal,  the  events  are   independent.

        Events  and  are not independent though. Since    = {4}, we have

    (        )      =   112 .  But      ()()              =  1  1  =   18 .  Since   these   are  not   equal,     the  events
                                                             4  2

    are not independent. This makes sense since there are fewer multiples of 4

    less than 7 than not.

        Finally,            and             are    independent:              (  )         =  2    =  1  and    ()()           =
                                                                                             12      6
    1 1 3 2 = 16 .
                                                                                      3.7. Applications to Probability 283

    When events are not independent, we get a new interesting question we can ask:
What is the probability of one event given that another event has occurred? This is
called ...

                           3.7.4 Conditional Probability

The famous probability problem, known as the Monty Hall problem, presents the
following conundrum. You are on the game show Let's Make a Deal and will win
whatever is behind one of three doors you decide to open. Behind one door is a
car; behind the other two are goats. You pick a door, but before opening it, the host
(Monty Hall) reveals one of the other doors that has a goat behind it. You then have
the opportunity to switch doors. Should you switch? What is the probability of
getting the car if you do?

    By the way... This problem was perhaps one of the first math problems to
    "go viral," although it did so when it appeared in the Sunday newspaper
    magazine Parade. After its publication, around 10,000 readers (including close
    to 1000 with PhDs) wrote in complaining that the author, Marilyn vos Savant,
    was wrong. She wasn't.

    You might be tempted to say that the probability of getting the car when you
switch is 12 . After all, there are two doors left, and the car is behind one of them.
However, we must ask what the probability of getting the car is given that Monty
has revealed a goat behind another, unpicked door.

     Definition 3.7.14
    Given two events  and , the conditional probability of  given  is,

                                                       (  )
                                          (|) = () .

    Does this definition agree with our intuition for what conditional probability
should mean? Let's think about the sample space. We want to know the chances of
 occurring under the assumption that  has already occurred. In other words, we
only care about the elements of the sample space that belong to .

    If  becomes the sample space, then the only outcomes from  that can possibly
occur are the outcomes that are in  and . So perhaps the definition of conditional
probability really should be,

                                                        |  |
                                           (|) = || .

    Unfortunately, I'm not in charge of probability definitions. It turns out that the
284 3. Counting

standard definition is just as good though. This is because,

                                                      ||
                        (|) = (  ) = || = |  | .
                                         ()           ||           ||

                                                      ||

Phew. Another crisis averted.

Example 3.7.15

Suppose you roll two 6-sided dice with your eyes closed. Your friend says,

"Hey look, at least one of your dice is a 4." What is the probability that you

rolled a sum of 7?

Solution.        First  note  that  the  probability  of  rolling  a   sum  of  7  is  6   =  16 ,  since
                                                                                       36

of the 36 pairs of numbers that can appear, there are six pairs that sum to

7: {(1, 6), (2, 5), (3, 4), (4, 3), (5, 2), (6, 1)}. However, we are now in a situation

where at least one die is a 4. This limits the sample space to the 11 pairs that

contain a 4 (we can count this using PIE as 6 + 6 - 1). Of these, only two sum

to 7: {(3, 4), (4, 3)}. So the probability of rolling a sum of 7 given that one die

is a 4 is 211 .

If we use the definition of conditional probability, we would compute this

slightly differently but arrive at the same answer. We have events  (the sum

is 7) and        (at least one die is a 4).  Then ()      =        11  and (  )            =  236 .  So
                                                                   36
(|) = 211 .
Notice that the probability of rolling a sum of 7 given that the red die is a 4

(say they are different colors) will be different! That would be 16 , since we are

really just asking for the probability that the other die is a 3.

Example 3.7.16

 Suppose you draw two cards from a standard deck of 52 cards. What is the
 probability that the second card is a face card given that the first card is red?

      What is the probability that the first card is red given that the second card
 is a face card?
 Solution. We have a sample space consisting of the 52 · 51 sequences of
 two cards. Event  will be those pairs that have a red card as the first in
 the sequence. Event  will be those pairs that have a face card second in the
 sequence.

      We are looking for both (|) and (|), so we will need to find (),
 (), and (  ). There are 26 · 51 pairs in  (select one of the 26 red cards,
 and then any of the remaining 51 cards), so

                                   () = 26 · 51 = 26 = 1 .
                                              52 · 51 52 2

 There are 12 · 51 pairs in  (select one of the 12 face cards, and then any of the
                                            3.7. Applications to Probability 285

remaining 51 cards), so

                         () = 12 · 51 = 12 = 3 .
                                   52 · 51 52 13

Finding the size of the intersection is a little more challenging (we did so in
the subsection Combining Principles). There are 20 · 12 pairs that start with a
red, non-face card, and end with a face card, and another 6 · 11 pairs that start
with a red face card and end with a face card. So

                    (  ) = 20 · 12 + 6 · 11 = 306 = 3 .
                                52 · 51     2652 26

So the probability that the second card is a face card given that the first

card is red is,                 (  ) 263 3

                    (|) =       ()       =1= .
                                            13
                                         2

The probability that the first card is red given that the second card is a face

card is,                        (  ) 263 1

                         (|) =  ()       =3= .
                                         13 2

    Wait a second! What? The probability that the first card is red given that

the second card is a face card is the same as the probability that the first card
is red?? It seems that (|) = (), and that (|) = (). What could

that mean?

Look what happens when you clear the denominator in the definition of condi-

tional probability                    (  )
                         (|) = ()

becomes

                         (  ) = ()(|).

This looks almost like the definition of events being independent, except that instead
of () in the product we now have (|). But what does (|) even mean if 
and  are independent? If the events are independent, then it should be no more or
less likely that  occurs given that  has occurred. So we should have (|) = ().

This is exactly what we saw in the last example.

                               3.7.5 Reading Questions

1. Which of the following are true about the equation (  ) = () + ()?

          A. This is true as long as the events  and  are disjoint.
          B. This is true as long as the events  and  are independent.
286 3. Counting

          C. This is always true.

          D. This is never true.
2. Which of the following relationships hold for any two events  and ?

          A. (  ) = ()().
          B. (  ) = ()(|)
          C. (  ) = ()(|)
          D. (  ) = ()(|)
3. What questions do you have after reading this section? Ask at least one question
       about the material that you are curious about.

                                3.7.6 Practice Problems

1. You flip a fair coin three times and record whether it lands head (H) or tails (T).

         (a) List all the elements in the sample space. For example, one outcome is
              HHT.

         (b) Suppose you bet your friend that you would get more heads than tails.
              List all elements in this event.

         (c) What is the probability of getting more heads than tails?

         (d) What is the probability of getting exactly two heads?
              What is the probability of getting exactly three heads?

2. Suppose you flip a fair coin 15 times.

         (a) What is the size of the sample space?

         (b) What is the size of the event that you get exactly 8 heads?
              So then what is the probability that you get exactly 8 heads?

         (c) What is the size of the event that you do NOT get exactly 8 heads?
              What is the probability that you do NOT get exactly 8 heads? Use the
              definition of probability and the previous answer.
              What probability do you get for this same event if you use the fact that
              the probability of an event is 1 minus the probability of the complement
              of the event?

3. Suppose you flip a fair coin 16 times.

         (a) What is the size of the sample space?

         (b) What is the size of the event that you get exactly 4 heads?
                                           3.7. Applications to Probability 287

What is the size of the event that you get exactly 12 heads?

What is the size of the event that you get exactly 4 heads OR exactly 12
heads?

(c) What is the sum of the probabilities of getting exactly 4 heads and getting
    exactly 12 heads?

             +                =

What is the probability of getting exactly 4 heads OR getting exactly 12
heads? Compute this by finding the size of the event, divided by the size
of the sample space.

             ÷                =                           .

4. You have a bag of special math-themed M&M's. The bag promises that inside
       there are 5 blue, 4 red, 1 orange, 1 green, 2 brown, and 3 yellow M&M's.
           Find the probabilities of the following events.

(a) What is the probability that if you pick a single M&M, it is blue or yellow?

(b) What is the probability that if you pick two M&M's at the same time, you
     will get a blue and yellow?

         (c) What is the probability that if you pick two M&M's one at a time, you
              will get a blue first and a yellow second?

5. In a standard deck of 52 cards, 26 cards are red and 26 cards are black. Thus
       the probability of drawing a red card is 0.5.

(a) What is the probability that when flipping a coin twice, you get tails both
     times?

         (b) What is the probability that if you are dealt two cards from a standard
              deck, both cards are red?

6. Suppose you take just eight playing cards, four red and four black. You also
       have a fair coin that you can flip as many times as you want.

(a) Compare the probability of getting tails when flipping a coin once to the

probability of drawing a single red card.

(tails) =       ; (red) =                  . Difference:

(b) Compare the probability of getting two tails when flipping a coin twice

to the probability of drawing two red cards (without replacement).

(2 tails) =     ; (2 reds) =               . Difference:

(c) Compare the probability of getting three tails when flipping a coin thrice

to the probability of drawing three red cards (without replacement).

(3 tails) =     ; (3 reds) =               . Difference:
288 3. Counting

(d) Compare the probability of getting four tails when flipping a coin four

times to the probability of drawing four red cards (without replacement).

(4 tails) =      ; (4 reds) =  . Difference:

(e) Compare the probability of getting five tails when flipping a coin five

times to the probability of drawing five red cards (without replacement).

(5 tails) =      ; (5 reds) =  . Difference:

7. Suppose you have three dice: a 4-sided die, a 6-sided die, and an 8-sided die.
       Each die is fair and numbered from 1 to the number of sides it has. You roll all
       three dice.

(a) What is the probability that the sum of the dice is 3?

(b) What is the probability that the sum of the dice is 6?

(c) What is the probability all three dice have the same number when rolled?

         (d) What is the probability all three dice have the same number when rolled
              given that the sum of the dice is 6?

8. You roll 3 fair 6-sided dice. What is the probability that all three dice show
       different numbers?
           What is the probability that all three dice show the same number?
           Is it possible for the dice to show neither all the same nor all different
       numbers? If so, the probability of this happening would be 0. What is the
       probability?

                              3.7.7 Additional Exercises

1. When playing 5-card poker, a full house is a hand that contains three cards of
       one rank and two cards of another rank. For example, you could have three 7s
       and two 4s.
           Find the probability of being dealt a full house in two different ways:

         (a) Assume that all five cards are dealt at once, so that the sample space has
              size 525 .

         (b) Assume that the cards are dealt one at a time, so that the sample space
              has size (52, 5).

       Are the two answers the same? Why does this make sense?

2. A random number generator selects single-digit numbers (0 through 9) with
       equal probability. Suppose the generator produces five numbers.
           What is the probability that the five numbers will all be different? Answer
       this question in two ways:

         (a) Assume the numbers come out of the generator in a sequence, so that the
              sample space has size 105.
                                                                                     3.7. Applications to Probability 289

         (b) Assume the numbers come out as a multiset, or equivalently, that the
              numbers must appear in non-decreasing order. You will want to use
              sticks and stones to count the size of the sample space.

       Are the two answers the same? Why does this make sense?

3. Prove Theorem 3.7.9.
4. Each of 10 friends has a deck of cards that they shuffle thoroughly. Each friend

       draws a card from their deck. What is the probability that at least one pair of
       friends draw a matching card?

5. How many people do you need to have in a room to have a 50% chance that at
       least two people share the same birthday (day of the year)? Assume that all
       birthdays are equally likely, and that nobody is born on Leap Day (February
       29th).

6. At your 20th high school reunion, you meet an old friend you hadn't heard
       from in years. You talk about pets, specifically cats and dogs. She tells you that
       she has two pets, and that at least one of them is a cat. What is the probability
       that she has two cats? (Assume that having a cat or a dog is equally likely.)

7. Another old friend overhears your pet conversation and says that he also has
       two pets, and that the one he has had the longest is a cat. What is the probability
       that he has two cats? And why is this answer different from the previous
       question?

8. You are playing a shell game with three cups. Under one cup are two green
       balls, under another cup are two red balls, and under the third cup are one
       green and one red ball. You close your eyes, and your friend rearranges the
       cups. You then open your eyes and pick a cup at random. You see that it
       contains a green ball. What is the probability that the other ball under that cup
       is also green? Explain your answer in terms of conditional probability.
                3.8 Advanced Counting Using PIE

       Objectives

     After completing this section, you should be able to do the following.

         1. Apply the principle of inclusion/exclusion to solve counting problems
             involving multisets with bounded multiplicity.

         2. Apply the principle of inclusion/exclusion to solve counting problems
             involving derangements.

         3. Apply the principle of inclusion/exclusion to solve counting problems
             involving surjective functions.

                                  3.8.1 Section Preview

       Investigate!

     You have 11 identical mini key lime pies to give to 4 children. However,
     you don't want any kid to get more than 3 pies. How many ways can you
     distribute the pies?

    Sticks and stones allows us to count the number of ways to distribute 10 cookies
to 3 kids and natural number solutions to  +  +  = 10, for example. A relatively
easy modification allows us to put a lower bound restriction on these problems:
Perhaps each kid must get at least two cookies or , ,   2. This was done by first
assigning each kid (or variable) 2 cookies (or units) and then distributing the rest
using sticks and stones.

    What if we wanted an upper bound restriction? For example, we might insist that
no kid gets more than 4 cookies or that , ,   4. It turns out this is considerably
harder.

    Notice that if we consider the complementary event, i.e., distributions of cookies
in which kids do get more than 4 cookies, then we are back to a sticks and stones
problem with a lower bound. If we could count this, then subtracting from the total
number of distributions should give us the desired answer. However, the problem
is that the complement of "no kid gets more than 4 cookies" is "at least one kid gets
more than 4 cookies." We know how to take care of requiring all kids getting at
least 4 cookies, but how do we handle the case where one or more kids get at least 4
cookies? We must use PIE.

                                                    290
                                                                                  3.8. Advanced Counting Using PIE 291

                                           Preview Activity

First, let's review some sticks and stones type questions we learned about in
Section 3.5.

    Then we will modify this and apply the principle of inclusion/exclusion from
Section 3.3.

1. Suppose we have 10 cookies to give away to three children, Albie, Bertie, and
       Charlie.

         (a) How many ways can we distribute the cookies with no restrictions?

         (b) How many ways can we distribute the cookies if each child must get at
              least two cookies?

              Hint. Give each kid the minimum number of cookies first. How many
              ways are there to distribute the remaining cookies?

         (c) How many ways can you distribute the cookies if Albie gets at least 3
              cookies and Bertie gets at least 2 cookies (and Charlie has no restrictions)?

2. Let's again consider the 10 cookies we want to distribute to Albie, Bertie, and
       Charlie. This time, we will impose some upper bound restrictions.

         (a) How many ways can we distribute the cookies if Albie does get more than
              3 cookies (so at least 4)?
              How many ways can we distribute the cookies if Albie does not get more
              than 3 cookies?

         (b) How many ways can we distribute the cookies if Bertie does get more than
              3 cookies?

         (c) How many ways can we distribute the cookies if both Albie and Bertie do
              get more than 3 cookies?

         (d) Using the Principle of Inclusion/Exclusion for two sets, how many ways
              can we distribute the cookies if at least one of Albie or Bertie gets more
              than 3 cookies? So either Albie gets more than 3 cookies, Bertie gets more
              than 3 cookies, or both get more than 3 cookies.

         (e) How many ways can we distribute the cookies if neither Albie nor Bertie
              gets more than 3 cookies?

                                3.8.2 PIE for Multisets

The Principle of Inclusion/Exclusion (PIE) gives a method for finding the cardinality
of the union of not necessarily disjoint sets. We saw in Section 3.3 how this works
with three sets. To find how many things are in one or more of the sets , , and
, we should just add up the number of things in each of these sets. However, if
292 3. Counting

there is any overlap among the sets, those elements are counted multiple times. So
we subtract the things in each intersection of a pair of sets. But doing this removes
elements that are in all three sets once too often, so we need to add it back in. In
terms of the cardinality of sets, we have

       |    | = || + || + || - |  | - |  | - |  | + |    |.

  Example 3.8.1

Three kids, Alberto, Bernadette, and Carlos, decide to share 11 cookies. They

wonder how many ways they could split the cookies up provided that none of

them receive more than 4 cookies (someone receiving no cookies is for some

reason acceptable to these kids).

Solution. Without the "no more than 4" restriction, the answer would be

13  ,  using     11  stones    and   2  sticks  (separating     the  three  kids).     Now  count   the
2

number of ways that one or more of the kids violates the condition, i.e., gets

at least 4 cookies.
    Let  be the set of outcomes in which Alberto gets more than 4 cookies.

Let  be the set of outcomes in which Bernadette gets more than 4 cookies.
Let  be the set of outcomes in which Carlos gets more than 4 cookies. We
then are looking (for the sake of subtraction) for the size of the set     .
Using PIE, we must find the sizes of ||, ||, ||, |  | and so on. Here is

what we find.

    ·  || =      8   .  First  give  Alberto    5  cookies,     then  distribute  the  remaining    6
                 2

       to the three kids without restrictions, using 6 stones and 2 sticks.

    ·  || =      8   .  Just  like  above,  only   now  Bernadette       gets  5  cookies  at  the  start.
                 2

    ·  || =      8   .  Carlos  gets    5  cookies  first.
                 2

    · |  | =            3  .   Give Alberto and Bernadette 5 cookies each,                  leaving 1
                        2

       (stone) to distribute to the three kids (2 sticks).

    ·  |  | =           3  .  Alberto   and     Carlos  get  5  cookies  first.
                        2

    ·  |  | =           3  .  Bernadette    and    Carlos    get  5  cookies   first.
                        2

    · |    | = 0. It is not possible for all three kids to get 4 or more
       cookies.

    Combining all of these we see

       |    | = 8 + 8 + 8 - 3 - 3 - 3 + 0 = 75.
                           222222

    Thus the answer to the original question is                      13  - 75 = 78 - 75 = 3. This
                                                                     2

makes sense now that we see it. The only way to ensure that no kid gets more
                                        3.8. Advanced Counting Using PIE 293

than 4 cookies is to give two kids 4 cookies and one kid 3; there are three
choices for which kid that should be. We could have found the answer much
quicker through this observation, but the point of the example is to illustrate
that PIE works!

    For four or more sets, we do not write down a formula for PIE. Instead, we just
think of the principle: Add up all the elements in single sets and then subtract out
things you counted twice (elements in the intersection of a pair of sets); then add
back in elements you removed too often (elements in the intersection of groups of
three sets); then take back out elements you added back in too often (elements in
the intersection of groups of four sets); then add back in, take back out, add back
in, etc. This would be very difficult if it wasn't for the fact that in these problems,
all the cardinalities of the single sets are equal, as are all the cardinalities of the
intersections of two sets, and that of three sets, and so on. Thus we can group all of
these together and multiply by how many different combinations of 1, 2, 3, . . . sets
there are.

  Example 3.8.2

How many ways can you distribute 10 cookies to 4 kids so that no kid gets

more than 2 cookies?

Solution.     There are  13  ways to distribute 10 cookies to 4 kids (using 10
                         3

stones and 3 sticks). We will subtract all the outcomes in which a kid gets 3

or more cookies. How many outcomes are there like that? We can force kid

A to eat 3 or more cookies by giving him 3 cookies before we start. Doing

so reduces the problem to one in which we have 7 cookies to give to 4 kids

without any restrictions. In that case, we have 7 stones (the 7 remaining

cookies) and 3 sticks (one less than the number of kids) so we can distribute

the cookies in  10  ways. Of course we could choose any one of the 4 kids
                3
                                                             4          10
to give too many cookies, so it would appear that there are  1          3   ways

to distribute the cookies giving too many to one kid. But in fact, we have

overcounted.

We must get rid of the outcomes in which two kids have too many cookies.

There are  4  ways to select 2 kids to give extra cookies. It takes 6 cookies to
           2

do this, leaving only 4 cookies. So we have 4 stones and still 3 sticks. The

remaining 4 cookies can thus be distributed in  7  ways (for each of the    4
                                                3                           2

choices of which 2 kids to over-feed).

But now we have removed too much. We must add back in all the ways to

give too many cookies to three kids. This uses 9 cookies, leaving only 1 to

distribute to the 4 kids using sticks and stones, which can be done in  4   ways.
                                                                        3

We must consider this outcome for every possible choice of which three kids

we over-feed, and there are  4  ways of selecting that set of 3 kids.
                             3

Next we would subtract all the ways to give four kids too many cookies,
294 3. Counting

but in this case, that number is 0.
    All together we get that the number of ways to distribute 10 cookies to 4

kids without giving any kid more than 2 cookies is:

                 13 - 4 10 - 4 7 + 4 4
                 3        1 3 23 33

which is

                    286 - [480 - 210 + 16] = 0.

    This makes sense: There is NO way to distribute 10 cookies to 4 kids and
make sure that nobody gets more than 2. It is slightly surprising that

                 13 = 4 10 - 4 7 + 4 4 ,
                 3        1 3 23 33

but since PIE works, this equality must hold.

    Just so you don't think that these problems always have easier solutions, consider
the following example.

Example 3.8.3

Earlier (Example 3.5.6) we counted the number of solutions to the equation

                    1 + 2 + 3 + 4 + 5 = 13,

where   0 for each .
    How many of those solutions have 0    3 for each ?

Solution. We must subtract off the number of solutions in which one or
more of the variables has a value greater than 3. We will need to use PIE
because counting the number of solutions for which each of the five variables
separately are greater than 3 counts solutions multiple times. Here is what
we get:

· Total solutions: 417 .

· Solutions where 1 > 3:  13  .  Give  1  4    units  first;  then  distribute    the
                          4

remaining 9 units to the 5 variables.

· Solutions where 1 > 3 and 2 > 3:     9  .    After  you  give  4  units  to  1  and
                                       4
another 4 to 2, you only have 5 units left to distribute.

· Solutions where 1 > 3, 2 > 3 and 3 > 3: 45 .
· Solutions where 1 > 3, 2 > 3, 3 > 3, and 4 > 3: 0.
                                                            3.8. Advanced Counting Using PIE 295

     We also need to account for the fact that we could choose any of the five

variables in the place of 1 above (so there will be            5  outcomes like this),
                                                               1
                                              1       2     5
any  pair  of  variables  in  the  place  of     and     (  2  outcomes) and so on. It is

because of this that the double counting occurs, so we need to use PIE. All

together we have that the number of solutions with 0    3 is

               17 - 5 13 - 5 9 + 5 5 = 15.
               4              1 4 24 34

                      3.8.3 Counting Derangements

  Investigate!

For your senior prank, you decide to switch the nameplates on your favorite
5 professors' doors. So that none of them feel left out, you want to make
sure that all of the nameplates end up on the wrong door. How many ways
can this be accomplished?

    The advanced use of PIE has applications beyond sticks and stones. A derange-
ment of  elements {1, 2, 3, . . . , } is a permutation in which no element is fixed.
For example, there are 6 permutations of the three elements {1, 2, 3}:

                                     123 132 213 231 312 321.

but most of these have one or more elements fixed: 123 has all three elements fixed
since all three elements are in their original positions, 132 has the first element fixed
(1 is in its original first position), and so on. In fact, the only derangements of three
elements are

                                              231 and 312.

    If we go up to 4 elements, there are 24 permutations (because we have 4 choices
for the first element, 3 choices for the second, 2 choices for the third leaving only
1 choice for the last). How many of these are derangements? If you list out all 24
permutations and eliminate those that are not derangements, you will be left with
just 9 derangements. Let's see how we can get that number using PIE.

Example 3.8.4

How many derangements are there of 4 elements?

Solution. We count all permutations and subtract those that are not derange-

ments. There are 4! = 24 permutations of 4 elements. Now for a permutation

to not be a derangement, at least one of the 4 elements must be fixed. There

are  4  choices for which single element we fix. Once fixed, we need to find
     1
296 3. Counting

a permutation of the other three elements. There are 3! permutations on 3

elements.

But now we have counted too many non-derangements, so we must

subtract those permutations that fix two elements. There are               4  choices for
                                                                           2

which two elements we fix, and then for each pair, 2! permutations of the

remaining elements. But this subtracts too many, so add back in permutations

that fix 3 elements, all  4  1!  of  them.  Finally  subtract  the  4  0!  permutations
                          3                                         4
(recall 0! = 1) which fix all four elements. All together we get that the number

of derangements of 4 elements is:

                 4! - 4 3! - 4 2! + 4 1! - 4 0! = 24 - 15 = 9.
                 1               2      3      4

    Of course we can use a similar formula to count the derangements of any number
of elements. However, the more elements we have, the longer the formula gets. Here
is another example:

Example 3.8.5

Five gentlemen attend a party, leaving their hats at the door. At the end of
the party, they hastily grab hats on their way out. How many different ways
could this happen so that none of the gentlemen leaves with his own hat?

Solution. We are counting derangements on 5 elements. There are 5! ways
for the gentlemen to grab hats in any order--but many of these permutations
will result in someone getting their own hat. So we subtract all the ways in
which one or more of the men get their own hat. In other words, we subtract
the non-derangements. Doing so requires PIE. Thus the answer is:

                 5! - 5 4! - 5 3! + 5 2! - 5 1! + 5 0! .
                          1          2      3        4         5

                       3.8.4 Counting Functions

Investigate!

 1. Consider all functions  : {1, 2, 3, 4, 5}  {1, 2, 3, 4, 5}. How many
     functions are there in total? How many of those are injective? Re-
     member, a function is an injection if every input goes to a different
     output.

 2. Consider all functions  : {1, 2, 3, 4, 5}  {1, 2, 3, 4, 5}. How many of
     the injections have the property that  ()   for any   {1, 2, 3, 4, 5}?
                                        3.8. Advanced Counting Using PIE 297

Your friend claims that the answer is:

5! - 5 4! - 5 3! + 5 2! - 5 1! + 5 0! .
1  2  3                                 4  5

   Explain why this is correct.

3. Recall that a surjection is a function for which every element of
   the codomain is in the range. How many of the functions  :
   {1, 2, 3, 4, 5}  {1, 2, 3, 4, 5} are surjective? Use PIE!

    We have seen throughout this chapter that many counting questions can be
rephrased as questions about counting functions with certain properties. This is
reasonable since many counting questions can be thought of as counting the number
of ways to assign elements from one set to elements of another.

  Example 3.8.6

    You decide to give away your video game collection so as to better spend
    your time studying advanced mathematics. How many ways can you do this,
    provided:

        1. You want to distribute your 3 different PS4 games among 5 friends, so
           that no friend gets more than one game?

        2. You want to distribute your 8 different 3DS games among 5 friends?

        3. You want to distribute your 8 different SNES games among 5 friends, so
           that each friend gets at least one game?

    In each case, model the counting question as a function counting question.
    Solution.

        1. We must use the three games (call them 1, 2, 3) as the domain and the 5
           friends (a,b,c,d,e) as the codomain (otherwise the function would not
           be defined for the whole domain when a friend didn't get any game).
           So how many functions are there with domain {1, 2, 3} and codomain
           {, , , , }? The answer to this is 53 = 125, since we can assign any of
           5 elements to be the image of 1, any of 5 elements to be the image of 2
           and any of 5 elements to be the image of 3.
           But this is not the correct answer to our counting problem, because one
           of these functions is  = 1 2 3    ; one friend can get more than one
298 3. Counting

           game. What we really need to do is count injective functions. This gives
            (5, 3) = 60 functions, which is the answer to our counting question.

        2. Again, we need to use the 8 games as the domain and the 5 friends as
           the codomain. We are counting all functions, so the number of ways to
           distribute the games is 58.

        3. This question is harder. Use the games as the domain and friends as the
           codomain (the reverse would not give a function). To ensure that every
           friend gets at least one game means that every element of the codomain
           is in the range. In other words, we are looking for surjective functions.
           How do you count those?

    In Example 3.2.13 we saw how to count all functions (using the multiplicative
principle) and in Example 3.4.7 we learned how to count injective functions (using
permutations). Surjective functions are not as easily counted (unless the size of the
domain is smaller than the codomain, in which case there are none).

    The idea is to count the functions that are not surjective, and then subtract that
from the total number of functions. This works very well when the codomain has
two elements in it:

  Example 3.8.7

    How many functions  : {1, 2, 3, 4, 5}  {, } are surjective?
    Solution. There are 25 functions total, two choices for where to send each
    of the 5 elements of the domain. Now of these, the functions that are not
    surjective must exclude one or more elements of the codomain from the range.
    So first, consider functions for which  is not in the range. This can only
    happen one way: Everything gets sent to . Alternatively, we could exclude 
    from the range. Then everything gets sent to , so there is only one function
    like this. These are the only ways in which a function could not be surjective
    (no function excludes both  and  from the range) so there are exactly 25 - 2
    surjective functions.

    When there are three elements in the codomain, there are now three choices for
a single element to exclude from the range. Additionally, we could pick pairs of two
elements to exclude from the range, and we must make sure we don't overcount
these. It's PIE time!

  Example 3.8.8

    How many functions  : {1, 2, 3, 4, 5}  {, , } are surjective?
    Solution. Again start with the total number of functions: 35 (as each of the
    five elements of the domain can go to any of three elements of the codomain).
               3.8. Advanced Counting Using PIE 299

Now we count the functions that are not surjective.
    Start by excluding  from the range. Then we have two choices ( or )

for where to send each of the five elements of the domain. Thus there are 25
functions that exclude  from the range. Similarly, there are 25 functions that
exclude , and another 25 that exclude . Now have we counted all functions

that are not surjective? Yes, but in fact, we have counted some multiple times.
For example, the function which sends everything to  was one of the 25
functions we counted when we excluded  from the range, and also one of
the 25 functions we counted when we excluded  from the range. We must

subtract out all the functions which specifically exclude two elements from
the range. There is 1 function when we exclude  and  (everything goes to
), one function when we exclude  and , and one function when we exclude
 and .

    We are using PIE: To count the functions that are not surjective, we added
up the functions that exclude , , and  separately; then subtracted the

functions that exclude pairs of elements. We would then add back in the

functions that exclude groups of three elements, except that there are no such

functions. We find that the number of functions that are not surjective is

                                25 + 25 + 25 - 1 - 1 - 1 + 0.

Perhaps a more descriptive way to write this is

3 25 - 3 15 + 3 05.
1     2     3

since each of the 25's was the result of choosing 1 of the 3 elements of the
codomain to exclude from the range; each of the three 15's was the result of
choosing 2 of the 3 elements of the codomain to exclude. Writing 15 instead of

1 makes sense too: We have 1 choice of where to send each of the 5 elements

of the domain.

    Now we can finally count the number of surjective functions:

35 - 3 25 - 3 15 = 150.
   1     2

    You might worry that to count surjective functions when the codomain is larger
than 3 elements would be too tedious. We need to use PIE but with more than 3
sets the formula for PIE is very long. However, we have lucked out. As we saw
in the example above, the number of functions that exclude a single element from
the range is the same no matter which single element is excluded. Similarly, the
number of functions that exclude a pair of elements will be the same for every pair.
With larger codomains, we will see the same behavior with groups of 3, 4, and more
elements excluded. So instead of adding/subtracting each of these, we can simply
add or subtract all of them at once, if you know how many there are. This works just
300 3. Counting

like it did in for the other types of counting questions in this section, only now the
size of the various combinations of sets is a number raised to a power, as opposed to
a binomial coefficient or factorial. Here's what happens with 4 and 5 elements in the
codomain.

  Example 3.8.9

        1. How many functions  : {1, 2, 3, 4, 5}  {, , , } are surjective?

        2. How many functions  : {1, 2, 3, 4, 5}  {, , , , } are surjective?

Solution.

1. There are 45 functions all together; we will subtract the functions that

are not surjective. We could exclude any one of the four elements of

the codomain, and doing so will leave us with 35 functions for each

excluded element. This counts too many, so we subtract the functions

that exclude two of the four elements of the codomain, each pair giving

25 functions. But this excludes too many, so we add back in the functions

that exclude three of the four elements of the codomain, each triple

giving 15 function. There are   4  groups of functions excluding a single
                                1
                 4                                                         4
element,         2  groups of functions excluding a pair of elements, and  3

groups of functions excluding a triple of elements. This means that the

number of functions that are not surjective is:

                          4 35 - 4 25 + 4 15.
                          1           2        3

We can now say that the number of functions that are surjective is:

                       45 - 4 35 - 4 25 + 4 15 .
                             1           2        3

2. The number of surjective functions is:

                    55 - 5 45 - 5 35 + 5 25 - 5 15 .
                       1           2        3        4

We took the total number of functions 55 and subtracted all that were

not surjective.     There were  5  ways to select a single element from
                                1
the codomain to exclude from the range, and for each there were 45

functions. But this double counts, so we use PIE and subtract functions

excluding two elements from the range: There are        5  choices for the
                                                        2
two elements to exclude, and for each pair, 35 functions. This takes out

too many functions, so we add back in functions that exclude 3 elements

from the range:     5  choices for which 3 to exclude, and then 25 functions
                    3
                                        3.8. Advanced Counting Using PIE 301

for each choice of elements. Finally we take back out the 1 function that

excludes 4 elements for each of the  5  choices of 4 elements.
                                     4

If you happen to calculate this number precisely, you will get 120

surjections. That happens to also be the value of 5!. This might seem like

an amazing coincidence until you realize that every surjective function
 :    with || = || finite must necessarily be a bection. The
number of bections is always ||! in this case. What we have here is a

combinatorial proof of the following identity:

 - 1 ( - 1) - 2 ( - 2) + · · · +   - 1 1 = !.

    We have seen that counting surjective functions is another nice example of
the advanced use of the principle of inclusion/exclusion. Also, counting injective
functions turns out to be equivalent to permutations, and counting all functions
has a solution akin to those counting problems where order matters but repeats
are allowed (like counting the number of words you can make from a given set of
letters).

    These are not just a few more examples of the techniques we have developed in
this chapter. Quite the opposite: Everything we have learned in this chapter is an
example of counting functions!

  Example 3.8.10

    How many 5-letter words can you make using the eight letters  through ?
    How many contain no repeated letters?
    Solution. By now it should be no surprise that there are 85 words, and (8, 5)
    words without repeated letters. The new piece here is that we are actually
    counting functions. For the first problem, we are counting all functions from
    {1, 2, . . . , 5} to {, , . . . , }. The numbers in the domain represent the position
    of the letter in the word; the codomain represents the letter that could be
    assigned to that position. If we ask for no repeated letters, we are asking for
    injective functions.

         If  and  are any sets with || = 5 and || = 8, then the number of
    functions  :    is 85 and the number of injections is (8, 5). So if you
    can represent your counting problem as a function counting problem, most
    of the work is done.

Example 3.8.11

 How many subsets are there of {1, 2, . . . , 9}? How many 9-bit strings are
 there (of any weight)?
302 3. Counting

Solution. We saw in Section 3.1 that the answer to both these questions
is 29, as we can say yes or no (or 0 or 1) to each of the 9 elements in the set
(positions in the bit-string). But 29 also looks like the answer you get from
counting functions. In fact, if you count all functions  :    with || = 9
and || = 2, this is exactly what you get.

    This makes sense! Let  = {1, 2, . . . , 9} and  = {, }. We are assigning

each element of the set either a yes or a no. Or in the language of bit-strings,
we would take the 9 positions in the bit string as our domain and the set {0, 1}

as the codomain.

So far we have not used a function as a model for binomial coefficients (combi-

nations). Think for a moment about the relationship between combinations and

permutations, say specifically  9  and (9, 3). We do have a function model for (9, 3).
                                3
This is the number of injective functions from a set of size 3 (say {1, 2, 3} to a set of

size 9 (say {1, 2, . . . , 9}) since there are 9 choices for where to send the first element

of the domain, then only 8 choices for the second, and 7 choices for the third. For

example, the function might look like this:

                  (1) = 5  (2) = 8  (3) = 4.

This is a different function from:

                  (1) = 4  (2) = 5  (3) = 8.

Now (9, 3) counts these as different outcomes correctly, but  9  will count these
                                                              3
                                                                    9
(among others) as just one outcome. In fact, in terms of functions  3  just counts

the number of possible ranges for injective functions. This should not be a surprise

since binomial coefficients count subsets, and the range is a possible subset of the

codomain.5

While it is possible to interpret combinations as functions, perhaps the better

advice is to instead use combinations (or sticks and stones) when functions are not

quite the right way to interpret the counting question.

                                3.8.5 Practice Problems

1. The dollar menu at your favorite tax-free fast food restaurant has 7 items. You
       have $16 to spend. How many different meals can you buy if you spend all
       your money and:

          a. Purchase at least one of each item.

          b. Possibly skip some items.

           c. Don't get more than 2 of any particular item.

    5A more mathematically sophisticated interpretation of combinations is that we are defining two
injective functions to be equivalent if they have the same range, and then counting the number of
equivalence classes under this notion of equivalence.
                                                                                  3.8. Advanced Counting Using PIE 303

2. After a late night of math studying, you and your friends decide to go to your
       favorite tax-free fast food Mexican restaurant, Burrito Chime. You decide to
       order off of the dollar menu, which has 6 items. Your group has $17 to spend
       (and will spend all of it).

          a. How many different orders are possible? (The order in which the order
              is placed does not matter, just which and how many of each item that is
              ordered.)

          b. How many different orders are possible if you want to get at least one of
              each item?

           c. How many different orders are possible if you don't want to get more
              than 4 of any one item?

3. After another gym class you are tasked with putting the 14 identical dodgeballs
       away into 5 bins. This time, no bin can hold more than 6 balls. How many
       ways can you clean up?

4. Consider the equation 1 + 2 + 3 + 4 = 19. How many solutions are there
       with 1    6 for all   {1, 2, 3, 4}?

5. Suppose you planned on giving 7 gold stars to some of the 12 star students in
       your class. Each student can receive at most one star. How many ways can you
       do this?

          a. Use Pascal's triangle to find the numeric answer.

          a. Use the principle of inclusion/exclusion.
6. How many permutations of {1, 2, 3, 4} leave exactly 1 element fixed?
7. 12 ladies of a certain age drop off their red hats at the hat check of a museum.

       As they are leaving, the hat check attendant gives the hats back randomly. In
       how many ways can exactly 8 of the ladies receive their own hat (and the other
       4 not)?
8. The Grinch sneaks into a room in which there are 8 Christmas presents for 8
       different people. He proceeds to switch the name labels on the presents. How
       many ways could he do this if:

          a. No present is allowed to end up with its original label? Explain what
              each term in your answer represents.

          b. Exactly 4 presents keep their original labels? Explain.

           c. Exactly 7 presents keep their original labels? Explain.
9. Consider functions  : {1, 2, 3, 4, 5, 6, 7, 8}  {, , , ,  ,  }. How many

       functions have the property that  (1)   or  (2)   , or both?
10. Consider sets  and  with || = 8 and || = 5. How many functions  :   

       are surjective?
304 3. Counting

11. Let  = {1, 2, 3, 4, 5, 6, 7}. How many injective functions  :    have the
       property that for each   ,  ()  ?

3.8.6 Additional Exercises

1. Based on the previous question, give a combinatorial proof for the identity:

 +-1                                 +1    +  - (2 + 1)
                                                 - 2 .
 =  - (-1) 
                                 =1

2. Illustrate how the counting of derangements works by writing all permutations
       of {1, 2, 3, 4} and then crossing out those which are not derangements. Keep
       track of the permutations you cross out more than once, using PIE.

3. Let  be the number of derangements of  objects. For example, using the
       techniques of this section, we find

3 = 3! - 3 2! - 3 1! + 3 0! .
                                 1   2    3

We can use the formula for    to write this all in terms of factorials. After
                            
simplifying, for 3 we would get

                                   3 = 3! 1 - 1 + 1 - 1 .
                                                   126

Generalize this to find a nicer formula for . Bonus: For large , approximately
what fraction of all permutations are derangements? Use your knowledge of
Taylor series from calculus.
3.9 Chapter Summary

  Investigate!

Suppose you have a huge box of animal crackers containing plenty of each
of 10 different animals. For the counting questions below, carefully examine
their similarities and differences, and then give an answer. The answers are
all one of the following:

(10, 6), 10 , 106, 15 .
6  9

1. How many animal parades containing 6 crackers can you line up?

2. How many animal parades of 6 crackers can you line up so that the
   animals appear in alphabetical order?

3. How many ways could you line up 6 different animals in alphabetical
   order?

4. How many ways could you line up 6 different animals if they can
   come in any order?

5. How many ways could you give 6 children one animal cracker each?

6. How many ways could you give 6 children one animal cracker each so
   that no two kids get the same animal?

7. How many ways could you give out 6 giraffes to 10 kids?

8. Write a question about giving animal crackers to kids that has the
   answer 610 .

    With all the different counting techniques we have mastered in this last chapter,
it might be difficult to know when to apply which technique. Indeed, it is very easy
to get mixed up and use the wrong counting method for a given problem. You get
better with practice. As you practice, you start to notice some trends that can help
you distinguish between types of counting problems. Here are some suggestions
that you might find helpful when deciding how to tackle a counting problem and
checking whether your solution is correct.

    · Remember that you are counting the number of items in some list of outcomes.
       Write down part of this list. Write down an element in the middle of the list -
       how are you deciding whether your element really is in the list? Could you
       get this element more than once using your proposed answer?

    · If generating an element on the list involves selecting something (for example,

                                                    305
306 3. Counting

picking a letter or picking a position to put a letter, etc.), can the things you
select be repeated? Remember, permutations and combinations select objects
from a set without repeats.

· Does order matter? Be careful here, and be sure you know what your answer
   really means. We usually say that order matters when you get different
   outcomes when the same objects are selected in different orders. Combinations
   and "sticks and stones" are used when order does not matter.

· There are four possibilities when it comes to order and repeats. If order matters
   and repeats are allowed, the answer will look like . If order matters and
   repeats are not allowed, we have (, ). If order doesn't matter and repeats

are allowed, use sticks and stones. If order doesn't matter and repeats are
                  
not allowed, use    .  But be careful:  this only applies when you are selecting

things, and you should make sure you know exactly what you are selecting

before determining which case you are in.

· Think about how you would represent your counting problem in terms of sets
   or functions. We know how to count different sorts of sets and different types
   of functions.

· As we saw with combinatorial proofs, you can often solve a counting problem
   in more than one way. Do that, and compare your numerical answers. If they
   don't match, something is amiss.

    While we have covered many counting techniques, we have really only scratched
the surface of the large subject of enumerative combinatorics. There are mathematicians
doing original research in this area even as you read this. Counting can be really
hard.

    In the next chapter, we will approach counting questions from a very different
direction, and in doing so, answer infinitely many counting questions at the same
time. We will create sequences of answers to related questions.

                                      Chapter Review

1. You have 15 presents to give to your 5 kids. How many ways can this be done
       if:

          a. The presents are identical, and each kid gets at least one present?

          b. The presents are identical, and some kids might get no presents?

           c. The presents are unique, and some kids might get no presents?

          d. The presents are unique and each kid gets at least one present?
2. For each of the following counting problems, say whether the answer is 410 ,

       (10, 4), or neither. If your answer is "neither," say what the answer should be
       instead.
                                                                                       3.9. Chapter Summary 307

 (a) How many shortest lattice paths are there from (0, 0) to (10, 4)?

(b) If you have 10 bow ties, and you want to select 4 of them for next week,
      how many choices do you have?

 (c) Suppose you have 10 bow ties and you will wear a different one on each
      of the next 4 days. How many choices do you have?

(d) If you want to wear 4 of your 10 bow ties next week (Monday through
      Sunday), in how many ways can this be accomplished?

 (e) Out of a group of 10 classmates, how many ways can you rank your top 4
      friends?

 (f) If 10 students come to their professor's office but only 4 can fit at a time,
      how many different combinations of 4 students can see the prof first?

(g) How many 4-letter words can be made from the first 10 letters of the
      alphabet?

(h) In how many ways can you make the word "cake" from the first 10 letters
      of the alphabet?

 (i) How many ways are there to distribute 10 identical apples among 4
      children?

 (j) If you have 10 kids (and live in a shoe) and 4 types of cereal, in how many
      ways can your kids eat breakfast?

(k) In how many ways can you arrange exactly 4 ones in a string of 10 binary
      digits?

 (l) You want to select 4 distinct, single-digit numbers as your lotto picks.
      How many choices do you have?

(m) 10 kids want ice cream. You have 4 varieties. How many ways are there
      to give the kids as much ice cream as they want?

(n) How many 1-1 functions are there from {1, 2, . . . , 10} to {, , , }?
 (o) How many surjective functions are there from {1, 2, . . . , 10} to {, , , }?

(p) Each of your 10 bow ties matches 4 pairs of suspenders. How many
      outfits can you make?

(q) After the party, the 10 kids each choose one of 4 party-favors. How many
      outcomes are there?

 (r) How many 6-elements subsets are there of the set {1, 2, . . . , 10}

 (s) In how many ways can you split up 11 kids into 5 named teams?
308 3. Counting

          (t) How many solutions are there to 1 + 2 + · · · + 5 = 6 where each  is a
              non-negative integer?

         (u) Your band goes on tour. There are 10 cities within driving distance, but
              only enough time to play 4 of them. How many choices do you have for
              the cities on your tour?

         (v) In how many different ways can you play the 4 cities you choose?

        (w) Out of the 10 breakfast cereals available, you want to have 4 bowls. In
              how many ways can you do this?

         (x) There are 10 types of cookies available. You want to make a 4 cookie
              stack. How many different stacks can you make?

         (y) From your home at (0,0) you want to go to either the donut shop at (5,4)
              or the one at (3,6). How many paths could you take?

         (z) How many 10-digit numbers do not contain a sub-string of 4 repeated
              digits?

3. Recall, you own 9 regular ties and 5 bow ties. You realize that it would be okay
       to wear more than two ties to your clown college interview.

          a. You must select some of your ties to wear. Everything is okay, from no
              ties up to all ties. How many choices do you have?

          b. If you want to wear at least one regular tie and one bow tie, but are
              willing to wear up to all your ties, how many choices do you have for
              which ties to wear?

           c. How many choices of which ties to wear do you have if you wear exactly
              3 of the 9 regular ties and 2 of the 5 bow ties?

          d. Once you have selected 3 regular and 2 bow ties, in how many orders
              could you put the ties on, assuming you must have one of the bow ties
              on top?

4. Give a counting question where the answer is 8 · 3 · 3 · 5. Give another question
       where the answer is 8 + 3 + 3 + 5.

5. Consider numbers of the form  = 123 . . . , with  digits, each digit from
       the set {1, 2, 3, 4, 5, 6, 7, 8}. For example, if  = 4, the number  = 1234 will
       have 4 digits from the set {1, 2, 3, 4, 5, 6, 7, 8}.
           Let  = 11.

          a. How many such numbers are there?

          b. How many such numbers are there for which the sum of the digits is
              even?

           c. How many such numbers contain more even digits than odd digits?
                                                                                                 3.9. Chapter Summary 309

6. In a recent small survey of airline passengers, 27 said they had flown American
       in the last year, 20 had flown Jet Blue, and 29 had flown Continental. Of those,
      13 reported they had flown on American and Jet Blue, 10 had flown on Jet Blue
       and Continental, and 11 had flown on American and Continental. 6 passengers
       had flown on all three airlines.
           How many passengers were surveyed? (Assume the results above make up
       the entire survey.)

7. Recall, by 10-bit strings, we mean strings of binary digits, of length 10.

          a. How many 10-bit strings are there total?

          b. How many 10-bit strings have weight 5?

           c. How many subsets of the set {1,2,3,4,5,6,7,8,9,10} contain exactly 5 ele-
              ments?

8. What is the coefficient of 10 in the expansion of ( + 3)15 + 3( + 5)21?
9. How many 10-letter words contain exactly 3 vowels? (For example, an 8-letter

       word with 5 vowels is "aaioobtt"; don't consider "y" a vowel for this exercise.)
           What if repeated letters were not allowed?

10. For each of the following, find the number of shortest lattice paths from (4, 4)
       to (10, 10) which:

          a. pass through the point (6, 5).

          b. avoid (do not pass through) the point (9, 9).

           c. either pass through (6, 5) or (9, 9) (or both).
11. You live in Grid-Town on the corner of 2nd and 4th, and work in a building on

       the corner of 17th and 20th. How many routes are there which take you from
       home to work and then back home, but by a different route?
12. How many 11-bit strings start with 101 or end with 10 or both?
13. How many 15-bit strings of weight 5 start with 101 or end with 10 or both?
14. We are making 5-letter words from the set of letters , , , ,  ,  . . ., in such a
       way that we have exactly the first 5 letters available so that we use all letters.

          a. How many 5-letter words can we make from the letters without repeats
              that do not contain the sub-word "bad" in consecutive letters?

          a. How many words don't contain the subword "bad" in not-necessarily-
              consecutive letters (but in order)?

15. Explain using lattice paths why =0    = 2.
16. Suppose you have 16 one-dollar bills to give out as prizes to your top 6 discrete

       math students. How many ways can you do this if:
          a. Each of the 6 students gets at least 1 dollar?
310 3. Counting

          b. Some students might get nothing?

           c. Each student gets at least 1 dollar but no more than 8 dollars?
17. How many functions  : {1, 2, 3, 4}  {1, 2, 3, 4} are there satisfying:

          a.  (1) = 1 or  (2) = 2 (or both)?

          b.  (1)  1 or  (2)  2 (or both)?

           c.  (1)  1 and  (2)  2, and  is injective?

          d.  is surjective, but   {1, 2, . . . , 4},  ()  ?
18. How many functions map {1, 2, 3, 4, 5} onto {1, 2, 3} (i.e., how many surjections

       are there)?
19. To thank your math professor for doing such an amazing job all semester, you

       decide to bake your professor cookies. You know how to make 13 different
       types of cookies.

          a. If you want to give your professor 8 different types of cookies, how
              many different combinations of cookie type can you select? Explain your
              answer.

          b. To keep things interesting, you decide to make a different number of each
              type of cookie. If again you want to select 8 cookie types, how many ways
              can you select the cookie types and decide for which there will be the
              most, second most, etc. Explain your answer.

           c. You change your mind again. This time you decide you will make a total
              of 23 cookies. Each cookie could be any one of the 13 types of cookies
              you know how to bake (and it's okay if you leave some types out). How
              many choices do you have? Explain.

          d. You realize that the previous plan did not account for presentation. This
              time, you once again want to make 23 cookies, each one could be any one
              of the 13 types of cookies. However, now you plan to shape the cookies
              into the numerals 1, 2, ..., 23. How many choices do you have for which
              types of cookies to bake into which numerals? Explain.

          e. The only flaw with the last plan is that your professor might not get to
              sample all 13 different varieties of cookies. How many choices do you
              have for which types of cookies to make into which numerals, given that
              each type of cookie should be present at least once? Explain.

20. For which of the parts of the previous problem (Exercise 3.9.19) does it make
       sense to interpret the counting question as counting some number of functions?
       Say what the domain and codomain should be, and whether you are counting
       all functions, injections, surjections, or something else.
                                          Chapter 4

                     Sequences

We have encountered finite sequences already as a discrete structure and something
we can count. In this chapter, we will consider possibly infinite sequences of numbers.
When the sequence itself is infinite, it no longer makes sense to ask how many
possible sequences there are, but there is still an interesting connection to counting:
Each term in the sequence can represent an answer to a counting question!

                      4.1 Describing Sequences

       Objectives

     After completing this section, you should be able to do the following.
         1. Use proper notation to represent a sequence.
         2. Explain the difference between a closed formula and a recursive
             definition for a sequence.
         3. Find a recursive definition for a sequence based on its description.

                                  4.1.1 Section Preview

       Investigate!

     There is a monastery in Hanoi, as the legend goes, with a great hall containing
     three tall pillars. Resting on the first pillar were 64 giant disks (or washers),
     all different sizes, stacked from largest to smallest. The monks of the
     monastery have been moving the disks for generations, attempting to move
     the entire stack of disks to the third pillar. However, due to the size of the
     disks, the monks cannot move more than one at a time. Each disk must be
     placed on one of the pillars before the next disk is moved. And because the
     disks are so heavy and fragile, the monks may never place a larger disk on
     top of a smaller disk. When the monks finally complete their task, the world
     shall come to an end.

          Your task: Figure out how long it will be before we need to start worrying
     about the end of the world.

    This puzzle is called the Tower of Hanoi. You are tasked with finding the minimum
number of moves to complete the puzzle. This certainly sounds like a counting

                                                    311
312 4. Sequences

problem. Perhaps you have an answer? If not, what else could we try?
    The answer to the puzzle depends on the number of disks you need to move.

In fact, we could answer the puzzle first for 1 disk, then 2, then 3, and so on. If we
list all of the answers for each number of disks, we will get a sequence of numbers.
The th term in the sequence is the answer to the question, "What is the smallest
number of moves required to complete the Tower of Hanoi puzzle with  disks?"

    Give it a try. Find the smallest number of moves needed to transport the stack of
 disks to another pillar, for different values of .

Figure 4.1.1 The Towers of Hanoi puzzle.
    You might wonder why we would create such a sequence instead of just answering

the question. By looking at how the sequence of numbers grows, we gain insight
into the problem. It is easy to count the number of moves required for a small
number of disks. We can then look for a pattern among the first few terms of the
sequence. Hopefully this will suggest a method for finding the th term of the
sequence, which is the answer to our question. Of course we will also need to verify
that our suspected pattern is correct, and that this correct pattern really does give us
the th term that we think it does, but it is impossible to prove that your formula is
correct without having a formula to start with.

    In this section, we will explore how to represent sequences of numbers in various
ways, and two sorts of formulas that can be used to describe the sequence. We will
see that sequences are also interesting mathematical objects to study in their own
right.

                                           Preview Activity

Let's get a feel for the sequence from the Towers of Hanoi puzzle.

1.

         (a) What is the smallest number of moves required to transport 2 disks to
              another pillar?

         (b) What is the smallest number of moves required to transport 3 disks to
              another pillar?

         (c) What is the smallest number of moves required to transport 4 disks to
              another pillar?

         (d) To find the smallest number of moves required to transport 5 disks to
              another pillar, let's try to relate this task to the task of moving 4 disks.
              How many moves do each of the following tasks require?
                                               4.1. Describing Sequences 313

a. Move the 4 smallest disks to the second pillar:  moves.

b. Move the largest disk to the third pillar:       moves.

c. Move the 4 smallest disks to the third pillar (on top of the largest

disk):  moves.

Therefore, the smallest number of moves required to move five disks is:

         (e) Generalize the last observation. Let  represent the smallest number of
              moves required to transport  disks from the start pillar to another pillar.
              Then -1 represents the number of moves required to transport  - 1
              disks to another pillar.
              Give a formula for  in terms of -1.

                           4.1.2 Sequences and Formulas

A sequence is simply an ordered list of numbers. Unlike a set of numbers, the order
of the numbers in a sequence is an essential characteristic of the sequence. For this
reason, when we use variables to represent terms in a sequence they will look like
this:

                                            0, 1, 2, 3, . . . .

To refer to the entire sequence at once, we will write () or ()0, or sometimes
if we are being sloppy, just () (in which case we assume we start the sequence with
0).

    We might replace the  with another letter, and sometimes we omit 0, starting
with 1, in which case we would use ()1 to refer to the sequence as a whole. The
numbers in the subscripts are called indices (the plural of index).

    While we often just think of a sequence as an ordered list of numbers, it is really
a type of function. Specifically, the sequence ()0 is a function with domain 
where  is the image of the natural number . Later we will manipulate sequences
in much the same way you have manipulated functions in algebra or calculus. We
can shift a sequence up or down, add two sequences, or ask for the rate of change of
a sequence. These are done exactly as you would for functions.

    That said, while keeping the rigorous mathematical definition in mind is helpful,
we often describe sequences by writing out the first few terms.

  Example 4.1.2

    Can you find the next term in the following sequences?
314 4. Sequences

1. 7, 7, 7, 7, 7, . . .                6. 1, 2, 3, 5, 8, 13, 21, . . .
2. 3, -3, 3, -3, 3, . . .              7. 1, 3, 6, 10, 15, 21, . . .
3. 1, 5, 2, 10, 3, 15, . . .           8. 2, 3, 5, 7, 11, 13, . . .
4. 1, 2, 4, 8, 16, 32, . . .           9. 3, 2, 1, 0, -1, . . .
5. 1, 4, 9, 16, 25, 36, . . .         10. 1, 1, 2, 6, . . .

Solution. No, you cannot.
    You might guess that the next terms are:

1. 7              3. 4         5. 49          7. 28   9. -2
2. -3             4. 64        6. 34          8. 17  10. 24

    In fact, those are the next terms of the sequences I had in mind when I
made up the example, but there is no way to be sure they are correct.

    Still, we will often do this. Given the first few terms of a sequence, we can
ask what the pattern in the sequence suggests the next terms are.

    Given that no number of initial terms in a sequence is enough to say for certain
which sequence we are dealing with, we need to find another way to specify a
sequence. We consider two main ways to do this:

     Definition 4.1.3 Closed formula.

    A closed formula for a sequence () is a formula for  using a fixed
    finite number of operations on . This is what you normally think of as a
    formula in , just as if you were defining a function in terms of  (because
    that is exactly what you are doing).

 Definition 4.1.4 Recursive definition.

A recursive definition (sometimes called an inductive definition) for a
sequence () consists of a recurrence relation : an equation relating a
term of the sequence to previous terms (terms with smaller index), and an
initial condition: a list of a few terms of the sequence (one less than the
number of terms in the recurrence relation).

It is easier to understand what is going on here with an example:
                                               4.1. Describing Sequences 315

Example 4.1.5

Here are a few closed formulas for sequences:

·  = 2.

·  = ( + 1) .
               2

                       -
      1+ 5       - 2 1- 5
·  =    2                  .

                   5

    Note in each formula, if you are given , you can calculate  directly:

Just plug in . For example, to find 3 in the second sequence, just compute
3 = 2 3(3+1) = 6.

    Here are a few recursive definitions for sequences:

·  = 2-1 with 0 = 1.

·  = 2-1 with 0 = 27.

·  = -1 + -2 with 0 = 0 and 1 = 1.

    In these formulas, if you are given , you cannot calculate  directly; you
first need to find -1 (or -1 and -2). In the second sequence, to find 3
you would take 22, but to find 2 = 21 we would need to know 1 = 20. We
do know this, so we could trace back through these equations to find 1 = 54,
2 = 108 and finally 3 = 216.

    You might wonder why we would bother with recursive definitions for sequences.
After all, it is harder to find  with a recursive definition than with a closed formula.
This is true, but it is also harder to find a closed formula for a sequence than it is to
find a recursive definition. So to find a useful closed formula, we might first find the
recursive definition, and then use that to find the closed formula.

  Example 4.1.6

    For defeating the evil dragon, the king promises you a reward of one grain
    of rice on the first day, and then twice as many grains the next day as the
    previous day, for the rest of the month.

         Not to be swindled, you barter and get him to agree to add one additional
    grain of rice each day as well.

         How many grains of rice will you receive on the 30th day?
    Solution. We can write down the first few terms of the sequence ()1
316 4. Sequences

that gives the number of grains of rice you receive on day . We get
                                         1, 3, 7, 15, . . . ,

since, for example, on day 4, you take the number of grains of rice you had on

day 3 (all seven of them), double that and add 1, to get 15. The next day you

would get 2 · 15 + 1 = 31.

By actually computing these values, we see right away what the recurrence

relation is:

                             = 2-1 + 1.

This is justified because the problem the sequence is modeling says that we

double the number of grains each day, and then add 1. We can read the

recurrence relation right off the problem.
    The original question asked about 30. We could find this using the

recurrence relation, but we would first need to find 29, and to find that we
would need 28, which requires 27 first, and so on. While I'm sure we could
work all the way back to 4, which we already found, this sounds like a lot of
work.

    It would be so much nicer to have a closed formula. If we could solve the

recurrence relation and find that closed formula, we could just substitute 30 for
.

    Let's guess. It looks like the sequence is close to 2, 4, 8, 16, . . . which has
closed formula 2. That sequence has terms one greater than the terms in our

sequence, so we might guess that

                             = 2 - 1.

To be clear, we have no good reason to believe this guess is correct, but maybe
later in this chapter we will. However, if it is correct, then we are golden (and
incredibly sick of rice):

                              30 = 230 - 1 = 1, 073, 741, 823.

    This is not to say that recursive definitions aren't useful in finding . You can
always calculate  given a recursive definition; it might just take a while.

Example 4.1.7

Find 6 in the sequence defined by  = 2-1 - -2 with 0 = 3 and 1 = 4.

Solution.         We know that 6 = 25 - 4. So to find 6 we need to find 5 and
4. Well                    5 = 24 - 3 and 4 = 23 - 2,
                        4.1. Describing Sequences 317

so if we can only find 3 and 2, we would be set. Of course

                        3 = 22 - 1 and 2 = 21 - 0,

so we only need to find 1 and 0. But we are given these. Thus

                                       0 = 3
                                       1 = 4
                                       2 = 2 · 4 - 3 = 5
                                       3 = 2 · 5 - 4 = 6
                                       4 = 2 · 6 - 5 = 7
                                       5 = 2 · 7 - 6 = 8
                                       6 = 2 · 8 - 7 = 9.

    Note that now we can guess a closed formula for the th term of the
sequence:  =  + 3. To be sure this will always work, we could plug in this
formula into the recurrence relation:

                      2-1 - -2 = 2(( - 1) + 3) - (( - 2) + 3)
                                       = 2 + 4 -  - 1
                                       =  +3
                                       = .

    That is not quite enough though, since there can be multiple closed
formulas that satisfy the same recurrence relation; we must also check that our
closed formula agrees on the initial terms of the sequence. Since 0 = 0 + 3 = 3
and 1 = 1 + 3 = 4 are the correct initial conditions, we can now conclude that
we have the correct closed formula.

    Finding closed formulas, or even recursive definitions, for sequences is not trivial.
There is no one method for doing this. Just as in evaluating integrals or solving
differential equations, it is useful to have a bag of tricks you can apply, but sometimes
there is no easy answer.

    One useful method is to relate a given sequence to another sequence for which
we already know the closed formula. To do this, we need a few "known sequences"
to compare mystery sequences to. Here are a few that are good to know. We will
verify the formulas for these in the coming sections.

     Common Sequences.

1, 4, 9, 16, 25, . . .  The square numbers. The sequence ()1 has closed
                        formula  = 2
318 4. Sequences

1, 3, 6, 10, 15, 21, . . .   The triangular numbers. The sequence ()1 has
1, 2, 4, 8, 16, 32, . . .    closed formula  = 2 (+1) .
1, 1, 2, 3, 5, 8, 13, . . .  The powers of 2. The sequence ()0 with closed
                             formula  = 2.

                             The Fibonacci numbers (or Fibonacci sequence), de-
                             fined recursively by  = -1 + -2 with 1 = 2 = 1.

Example 4.1.8

 Use the formulas  = 2 (+1) and  = 2 to find closed formulas that agree
 with the following sequences. Assume each first term corresponds to  = 0.

     1. (): 1, 2, 4, 7, 11, 16, 22, . . ..

     2. (): 3, 5, 9, 17, 33, . . ..

     3. (): 0, 2, 6, 12, 20, 30, 42, . . ..

     4. (): 3, 6, 10, 15, 21, 28, . . ..

     5. ( ): 0, 1, 3, 7, 15, 31, . . ..

     6. () 3, 6, 12, 24, 48, . . ..

     7. (): 6, 10, 18, 34, 66, . . ..

     8. (): 15, 33, 57, 87, 123, . . ..

 Solution. We wish to compare these sequences to the triangular numbers
 (0, 1, 3, 6, 10, 15, 21, . . .), when we start with  = 0, and the powers of 2:
 (1, 2, 4, 8, 16, . . .).

     1. (1, 2, 4, 7, 11, 16, 22, . . .). Note that if we subtract 1 from each term, we
         get the sequence (). So we have  =  + 1. Therefore a closed
         formula is  = 2 (+1) + 1. A quick check of the first few  confirms we
         have it right.

     2. (3, 5, 9, 17, 33, . . .). Each term in this sequence is one more than a power
         of 2, so we might guess the closed formula is  =  + 1 = 2 + 1. If we
         try this though, we get 0 = 20 + 1 = 2 and 1 = 21 + 1 = 3. We are off
         because the indices are shifted. What we really want is  = +1 + 1
         giving  = 2+1 + 1.
                                                                                             4.1. Describing Sequences 319

        3. (0, 2, 6, 12, 20, 30, 42, . . .). Notice that all these terms are even. What
           happens if we factor out a 2? We get ()! More precisely, we find that
           /2 = , so this sequence has closed formula  = ( + 1).

        4. (3, 6, 10, 15, 21, 28, . . .). These are all triangular numbers. However, we
           are starting with 3 as our initial term instead of as our third term. So
           if we could plug in 2 instead of 0 into the formula for , we would be
           set. Therefore the closed formula is  = 2 (+2)(+3) (where  + 3 came
           from ( + 2) + 1). Thinking about sequences as functions, we are doing
           a horizontal shift by 2:  = +2 which would cause the graph to shift 2
           units to the left.

        5. (0, 1, 3, 7, 15, 31, . . .). Try adding 1 to each term, and we get powers of
           2. You might guess this because each term is a little more than twice
           the previous term (the powers of 2 are exactly twice the previous term).
           Closed formula:  = 2 - 1.

        6. (3, 6, 12, 24, 48, . . .). These numbers are also doubling each time, but are
           also all multiples of 3. Dividing each by 3 gives 1, 2, 4, 8, . . . . Aha. We
           get the closed formula  = 3 · 2.

        7. (6, 10, 18, 34, 66, . . .). To get from one term to the next, we almost double
           each term. So maybe we can relate this back to 2. Yes, each term is 2
           more than a power of 2. So we get  = 2+2 + 2 (the  + 2 is because
           the first term is 2 more than 22, not 20). Alternatively, we could have
           related this sequence to the second sequence in this example: Starting
           with 3, 5, 9, 17, . . . we see that this sequence is twice the terms from
           that sequence. That sequence had closed formula  = 2+1 + 1. Our
           sequence here would be twice this, so  = 2(2 + 1), which is the same
           as what we got before.

        8. (15, 33, 57, 87, 123, . . .). Try dividing each term by 3. That gives the se-
           quence 5, 11, 19, 29, 41, . . .. Now add 1 to each term: 6, 12, 20, 30, 42, . . .,
           which is () in this example, except starting with 6 instead of 0.
           So let's start with the formula  = ( + 1). To start with the 6,
           we shift: ( + 2)( + 3). But this is one too many, so subtract 1:
           ( + 2)( + 3) - 1. That gives us our sequence, but divided by 3.
           So we want  = 3(( + 2)( + 3) - 1).

                        4.1.3 Partial Sums and Differences

Some sequences naturally arise as the sum of terms of another sequence.
320 4. Sequences

Example 4.1.9

Sam keeps track of how many push-ups she does each day of her "do lots of
push-ups challenge." Let ()1 be the sequence that describes the number
of push-ups done on the th day of the challenge. The sequence starts

                            3, 5, 6, 10, 9, 0, 12, . . . .

Describe a sequence ()1 that gives the total number of push-ups done by
Sam after the th day.
Solution. We can find the terms of this sequence easily enough.

                  3, 8, 14, 24, 33, 33, 45, . . . .

Here 1 is just 1, but then

                            2 = 3 + 5 = 1 + 2,

                  3 = 3 + 5 + 6 = 1 + 2 + 3,

and so on.
    There are a few ways we might describe  in general. We could do so

recursively as,

                             = -1 + ,

since the total number of push-ups done after  days will be the number done
after  - 1 days, plus the number done on day .

    For something closer to a closed formula, we could write

                   = 1 + 2 + 3 + · · · + ,

or the same thing using summation notation:

                                                                      

                                            = .

                                                                     =1

However, note that these are not really closed formulas since even if we had
a formula for , we would still have an increasing number of computations
to do as  increases.

    Given any sequence (), we can always form a new sequence () by

                                      = 0 + 1 + 2 + · · · + .

Since the terms of () are the sums of the initial part of the sequence (), we call
() the sequence of partial sums of (). Soon we will see that it is sometimes
possible to find a closed formula for () from the closed formula for ().
                                      4.1. Describing Sequences 321

                                                                                                                                   

    To simplify writing out these sums, we will often use notation like . This

                                                                                                                                 =1

means add up the 's where  changes from 1 to .

Example 4.1.10

Use notation to rewrite the sums:

   1. 1 + 2 + 3 + 4 + · · · + 100
   2. 1 + 2 + 4 + 8 + · · · + 250
   3. 6 + 10 + 14 + · · · + (4 - 2).

Solution.             50                     

          100   2. 2                  3. (4 - 2)

   1.                =0                    =2

          =1

    It is also often useful to look at the sequence of difference of a sequence (). By
this we just mean the sequence () where

                                              = +1 - .

For example, if () = (1, 4, 9, 16, 25, . . .) (the square numbers, so  = 2), then the
sequence of differences is () = (3, 5, 7, 9, . . .) since 4 - 1 = 3, 9 - 4 = 5, and so on.
We could also find a closed formula for the sequence of differences here since we
have a closed formula for . We would have

 = +1 -  = ( + 1)2 - 2 = 2 + 2 + 1 - 2 = 2 + 1.

    In general, it is easy to go from a closed formula for a sequence to a closed
formula for the sequence of differences. It is not always easy to go the other way
around. In fact, what would it look like to start with a sequence of differences and
get the "original" sequence?

    Thinking about a recurrence relation is helpful here. Since

                 = +1 - ,

we have that

                +1 =  + .

This makes sense: to get from one term of a sequence to the next, you add the
difference between those terms. Ah! You add the differences. So the original
sequence is the sequence of partial sums of the sequence of differences!

    In upcoming sections we will see that understanding the sequence of differences
can tell us exactly where to look for a closed formula. The differences also suggest
how to create a recursive definition.
322 4. Sequences

  Example 4.1.11

    Find a recurrence relation and initial conditions that agree with the terms of
    this sequence: 1, 5, 17, 53, 161, 485 . . ..
    Solution. Finding the recurrence relation would be easier if we had some
    context for the problem (like the Tower of Hanoi, for example). Alas, we
    have only the sequence. Remember, the recurrence relation tells you how to
    get from previous terms to future terms. What is going on here? We could
    look at the differences between terms: 4, 12, 36, 108, . . .. Notice that these are
    growing by a factor of 3. Is the original sequence as well? 1 · 3 = 3, 5 · 3 = 15,
    17 · 3 = 51 and so on. It appears that we always end up with 2 less than the
    next term. Aha!

         So  = 3-1 + 2 is our recurrence relation and the initial condition is
    0 = 1.

                              4.1.4 Sequences in python

Checking that a closed formula agrees with the initial terms in a sequence is easy
with a calculator, or better yet, a programming language like python. One way you
can do this is to define a function that returns the th term of the sequence.

    Here is an example: Suppose you wanted to check whether a formula you found
for the sequence () = (1, 3, 7, 15, 31, . . .) is correct. Perhaps you guess that
 = 2 - 1. Try running the code below. (Note: In python, the ^ symbol means
something else, so to do exponentiation, we use **.)

     def a(n):
        return 2**n-1

     print(a(3))

    Looks promising, but we should be careful: Our sequence started with 0 = 1,
which makes 3 = 15. Now try modifying the definition of a(n) (by changing the
return value) to get the correct closed formula.

    Perhaps you want to print out the first 20 terms of the sequence? This is easy to
do with python, by putting the terms in a list:

     def a(n):
        return 2**(n+1) - 1

     sequence = []
     for n in range(20):

        sequence.append(a(n))
     print(sequence)

    Note that range(20) starts at 0 and stops at 19 (it is the list [0,1,2,...,19]).
    We can also use python to generate terms for a sequence given a recursive
definition. Suppose we wanted to explore the sequence  = 2-1 + 1 with initial
condition 0 = 1. In python, we could generate the sequence as follows.
                        4.1. Describing Sequences 323

     def a(n):
        if n == 0:
            return 1
        else:
            return 2*a(n-1)+1

     # just print out the first 10 terms
     for i in range(10):

        print(a(i))

    Do you see how to translate a recurrence relation into a recursive python function?
Try playing around with the code above to explore other sequences.

                               4.1.5 Reading Questions

1. For the formulas for sequences below, select all that are closed formulas (as
       opposed to recursive formulas).

          A.  = 3( - 1) + 2

          B.  = 2 + 2 + 3 4
          C.  = 3-1 + 2

          D.  = -1 + -2 + -3
2. Drag each sequence on the left to a recurrence relation that agrees with the

       sequence.

5, 5, 5, 5, 5, . . .     = -1 + 1
2, 3, 5, 9, 17, . . .    = 2-1 - -2
1, 2, 3, 4, 5, . . .     = 2-1 - 1
3, 4, 7, 11, 18, . . .   = -1 + -2

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                4.1.6 Practice Problems

1. For the sequence with closed formula  = 2 + 5 + 4, find the term 7.
2. Consider the sequence with recurrence relation  = -1 + 6 with initial term

       0 = 3. Find the term 4.
3. Consider the sequence with recurrence relation  = 7 · -1 with initial term

       0 = 9. Find the term 6.
4. Find the closed formula for each of the following sequences ()1 by relating

       them to a well known sequence. Assume the first term given is 1.

          a. -1, 2, 7, 14, 23, . . .
324 4. Sequences

               =

          b. 3, 5, 8, 12, 17, . . .
               =

           c. 11, 16, 22, 29, 37, . . .
               =

          d. 25, 121, 721, 5041, 40321, . . .
               =

5. For each sequence given below, find a closed formula for , the th term of the
       sequence (assume the first terms here are always 0) by relating it to another
       sequence for which you already know the formula.

          a. 0, 1, 3, 7, 15, 31, . . .
               =

          b. -1, 0, 7, 26, 63, 124, . . .
               =

           c. 0, 3, 12, 27, 48, 75, . . .
               =

          d. 1, 3, 8, 17, 32, 57, . . .
               =

                              4.1.7 Additional Exercises

1. Consider the sequence ()1 that starts 1, 3, 5, 7, 9, . . . (i.e., the odd numbers
       in order).

         (a) Give a recursive definition and closed formula for the sequence.

         (b) Write out the sequence ()2 of partial sums of (). Write down the
              recursive definition for () and guess at the closed formula.

2. The Fibonacci sequence is 0, 1, 1, 2, 3, 5, 8, 13, . . . (where 0 = 0).

(a) Write out the first few terms of the sequence of partial sums: 0, 0 + 1,
     0 + 1 + 1,. . .

(b) Guess a formula for the sequence of partial sums expressed in terms of a

single Fibonacci number. For example, you might say 0 + 1 + · · · +  =
32         ,
        +     although  that  is  definitely  not  correct.
    -1

3. Consider the three sequences below. For each, find a recursive definition. How

are these sequences related?
                                      4.1. Describing Sequences 325

         (a) 2, 4, 6, 10, 16, 26, 42, . . ..

         (b) 5, 6, 11, 17, 28, 45, 73, . . ..

         (c) 0, 0, 0, 0, 0, 0, 0, . . ..
4. Write out the first few terms of the sequence given by 1 = 3;  = 2-1 + 4.

       Then find a recursive definition for the sequence 10, 24, 52, 108, . . ..

5. Write out the first few terms of the sequence given by  = 2 - 3 + 1. Then
       find a closed formula for the sequence (starting with 1) 0, 2, 6, 12, 20, . . ..

6. Show that  = 3 · 2 + 7 · 5 is a solution to the recurrence relation  =
       7-1 - 10-2. What would the initial conditions need to be for this to be the
       closed formula for the sequence?

7. Show that  = 2 - 5 is also a solution to the recurrence relation  =
       7-1 - 10-2. What would the initial conditions need to be for this to be the
       closed formula for the sequence?

8. Find a closed formula for the sequence with recursive definition  = 2-1 -
       -2 with 1 = 1 and 2 = 2.

9. Give two different recursive definitions for the sequence with closed formula
        = 3 + 2. Prove you are correct. At least one of the recursive definitions
       should make use of two previous terms and no constants.

10. Use summation ( ) or product ( ) notation to rewrite the following.

(a) 2 + 4 + 6 + 8 + · · · + 2.        (d) 2 · 4 · 6 · · · · · 2.

(b) 1 + 5 + 9 + 13 + · · · + 425.

(c)  1+  1  +  1  +  1  +···+  150 .  (e) ( 12 )( 23 )( 34 ) · · · ( 100 101 ).
         2     3     4

11. Expand the following sums and products. That is, write them out the long way.

       100                                 100 2
                                      (d) = (2 - 2 1) .
(a) (3 + 4).

       =1

                                              

(b) 2.                                (e) (2 + 3).

       =0                                    =0

               50 1
         (c) = (2 - 2 1) .
12. Suppose you draw  lines in the plane so that every pair of lines cross (no lines

       are parallel) and no three lines cross at the same point. This will create some

       number of regions in the plane, including some unbounded regions. Call the
       number of regions . Find a recursive formula for the number of regions
       created by  lines, and justify why your recursion is correct.
326 4. Sequences

13. A ternary string is a sequence of 0's, 1's, and 2's. Just like a bit string, but with
       three symbols.
           Let's call a ternary string good provided it never contains a 2 followed
       immediately by a 0. Let  be the number of good strings of length . For
       example, 1 = 3, and 2 = 8 (since of the 9 ternary strings of length 2, only
       one is not good).
           Find, with justification, a recursive formula for , and use it to compute
       5.

14. Consider bit strings with length  and weight  (so strings of  0's and 1's,
       including  1's). We know how to count the number of these for a fixed  and
       . Now, we will count the number of strings for which the sum of the length
       and the weight is fixed. For example, let's count all the bit strings for which
        +  = 11.

         (a) Find examples of these strings of different lengths. What is the longest
              string possible? What is the shortest?

         (b) How many strings are there of each of these lengths. Use this to count
              the total number of strings (with sum 11).

         (c) The other approach: Let  =  +  vary. How many strings have sum
               = 1? How many have sum  = 2? And so on. Find and explain a
              recurrence relation for the sequence () that gives the number of strings
              with sum .

         (d) Describe what you have found above in terms of Pascal's triangle. What
              pattern have you discovered?

15. When bees play chess, they use a hexagonal board like the one shown below.
       The queen bee can move one space at a time either directly to the right or
       angled up-right or down-right (but can never move leftwards). How many
       different paths can the queen take from the top left hexagon to the bottom right
       hexagon? Explain your answer, and how this relates to the previous question.
       (As an example, there are three paths to get to the second hexagon on the
       bottom row.)

start

       3  stop

16. Let  denote the number of ways to tile a 2 ×  chessboard using 1 × 2 dominoes.
      Write out the first few terms of the sequence ()1, and then give a recursive

       definition. Explain why your recursive formula is correct.
                      4.2 Rate of Growth

  Objectives

After completing this section, you should be able to do the following.
   1. Identify a sequence as arithmetic or geometric based on its rate of
       growth.
   2. Give recursive definitions and closed formulas for arithmetic and
       geometric sequences.

                             4.2.1 Section Preview

  Investigate!

For each of the patterns of dots below, draw the next pattern in the sequence.
Describe the rate of growth of the number of dots in the patterns. Then
guess a recursive definition and a closed formula for the number of dots in
the th pattern.

=0      =1      =2

=0      =1      =2

=1  =2      =3  =4

Our goal is to find closed formulas for sequences. Our primary strategy will be
                                                327
328 4. Sequences

to first determine how the sequence is changing from term to term. This will lead to
a recurrence relation for the sequence, and from that recurrence relation, we will
find a closed formula. We start with two types of sequences that are particularly
common and useful: arithmetic and geometric sequences. Along the way, we will
explore some techniques for solving recurrence relations.

                                           Preview Activity
1. Explore the first sequence of dots from the Investigate! activity. We will let 

       represent the number of dots in figure . The sequence starts 1, 5, 9, . . .

         (a) How many dots would you expect in the next two figures in the sequence?

         (b) How is the sequence growing? How many dots do you add to or multiply
              by to get the next figure?

         (c) Let  be the number of dots in figure . Write a recursive definition for
              .

         (d) Guess a closed formula for the number of dots in the th figure.
2. Now look at the second sequence of dots from the Investigate! activity. We will

       let  represent the number of dots in figure . The sequence starts 2, 6, 18, . . .

         (a) How many dots would you expect in the next two figures in the sequence?

         (b) How is the sequence growing? How many dots do you add to or multiply
              by to get the next figure?

         (c) Let  be the number of dots in figure . Write a recursive definition for
              .

         (d) Guess a closed formula for the number of dots in the th figure.
3. Now look at the third sequence of dots from the Investigate! activity. We will let

        represent the number of dots in figure . The sequence starts 1, 3, 6, 10, . . .

         (a) How many dots would you expect in the next two figures in the sequence?

         (b) Let  be the number of dots in figure . Write a recursive definition for
              .

         (c) Guess a closed formula for the number of dots in the th figure.

                             4.2.2 Arithmetic Sequences

Suppose you start a business selling prints of mathematical art. In week zero, you
sell two prints. Each week after that, you sell four more prints than you did the
previous week. How many prints will you sell in the th week?
                                                                                                   4.2. Rate of Growth 329

    We can easily compute the first few terms of the sequence: 2, 6, 10, 14, . . .. How
do I know this is correct? From the problem, we see that to get from one term to the
next, we must add 4. It is clear then that the recurrence relation for the sequence is

                                               = -1 + 4.

The rate of growth for the sequence is the constant 4 since the difference between any
two terms is 4 (note, we could write the recurrence relation as  - -1 = 4).

    We call sequences with a constant rate of change arithmetic sequences.
    Now let's find a closed formula for our sequence. The first term is 0 = 2. To get
1, we add 4. The next term requires us to add 4 again, which means we have added
4 to our initial term twice. Then we add 4 again, for a total of three times for 3. In
fact, to get , we will have added 4 to 0 a total of  times. Thus, the closed formula
for the sequence is

                                                = 2 + 4.

    This works for any arithmetic sequence. That is, any sequence with a constant
difference will have a linear closed formula, where the "slope" of the linear function
is the common difference.

     Arithmetic Sequences.

         If the terms of a sequence differ by a constant, we say the sequence is
    arithmetic. If the initial term (0) of the sequence is  and the common
    difference is , then we have,

         Recursive definition:  = -1 +  with 0 = .
         Closed formula:  =  + .

    As we did for our example above, for the recursive definition, we need to specify
0. Then we need to express  in terms of -1. If we call the first term , then
0 = . For the recurrence relation, by the definition of an arithmetic sequence, the
difference between successive terms is some constant, say . So  - -1 = , or in
other words,

                                      0 =   = -1 + .

    Let's now argue why the closed formula is correct. One way we could do this
is by using a technique sometimes called telescoping (a name which hopefully we
become meaningful momentarily).

    We write the recurrence relation in its difference form,  - -1 =  for all terms
starting with 1 and going up to . This gives the following:

                                                  1 - 0 =
                                                  2 - 1 =
                                                  3 - 2 =

                                                             ..
                                                             .

                                             -1 - -2 =
330 4. Sequences

                                                - -1 =.

Now we add all  equations together.
    On the right-hand side, we have added  to itself  times, so the sum is  · .
    On the left-hand side, we get the sum:

(1 - 0) + (2 - 1) + (3 - 2) + · · · + (-1 - -2) + ( - -1).

But look what happens when we regroup and cancel like terms:

&&1 - 0 + &&2 - &&1 + &&3 - &&2 + · · · + $$-$1 - $$-$2 +  - $$-$1 =  - 0.

The sum telescopes down to be nice and compact for easy storage.
    Putting the two sides together gives us

                                      - 0 =  · 

which becomes

                                      = 0 +  · 

as we claimed.
    The telescoping we did above is useful in other contexts (see Exercise 4.2.7.6),

but now that we have established a general form of the closed formula, we can apply
it to any arithmetic sequence.

Example 4.2.1

Find recursive definitions and closed formulas for the arithmetic sequences
below. Assume the first term listed is 0.

   1. 2, 5, 8, 11, 14, . . ..

   2. 50, 43, 36, 29, . . ..

Solution. First we should check that these sequences really are arithmetic
by taking differences of successive terms. Doing so will reveal the common
difference .

   1. 5 - 2 = 3, 8 - 5 = 3, etc. To get from each term to the next, we add three,
       so  = 3. The recursive definition is therefore  = -1 + 3 with 0 = 2.
       The closed formula is  = 2 + 3.

   2. Here the common difference is -7, since we add -7 to 50 to get 43, and
       so on. Thus we have a recursive definition of  = -1 - 7 with 0 = 50.
       The closed formula is  = 50 - 7.

                              4.2.3 Geometric Sequences

What about sequences like 3, 6, 12, 24, 48, . . .? This is not arithmetic because the

difference between terms is not constant. However, the ratio between successive

terms is constant:  6  =  12  =  24  = ···  = 2 We call such sequences geometric.
                    3     6      12
                                                                                                   4.2. Rate of Growth 331

    Recognizing that the sequence is geometric lets us easily write down a recursive
definition.  = 2-1, with 0 = 3.

    A closed formula is also not difficult to reason out. How do we get the term 3
for example? We start with 3, then multiply by 2 to get 1, multiply by 2 again to get
2, and multiply by 2 a third time to get 3. So we multiplied 3 by 2 a total of three
times, or 3 = 3 · 23. It looks like  = 3 · 2.

    In general, the recursive definition for the geometric sequence with initial term 
and common ratio  will be

                                           = -1 · ; 0 = .
To get the next term we multiply the previous term by .

    For the general closed formula, we could try something like telescoping again,
although we would need to cancel fractions. Instead, let's illustrate another technique
for solving recurrence relations called iteration. The idea here is that we work our
way up to  and notice the pattern. Write

                                 0 = 
                                 1 = 0 · 
                                 2 = 1 ·  = 0 ·  ·  = 0 · 2
                                 3 = 2 ·  = 0 · 2 ·  = 0 · 3

                                    ..
                                    .
                                  = -1 ·  = 0 · -1 ·  = 0.
We must multiply the first term  by  a number of times,  times to be precise. We
get  =  · .

     Geometric Sequences.

         A sequence is called geometric if the ratio between successive terms is
    constant. Suppose the initial term 0 is  and the common ratio is . Then we
    have,

         Recursive definition:  =  -1 with 0 = .
         Closed formula:  =  · .

  Example 4.2.2

    Find the recursive and closed formula for the geometric sequences below.
    Again, the first term listed is 0.

        1. 3, 6, 12, 24, 48, . . .

        2. 27, 9, 3, 1, 1/3, . . .

    Solution. Start by checking that these sequences really are geometric by
332 4. Sequences

    dividing each term by its previous term. If this ratio really is constant, we
    will have found .

        1. 6/3 = 2, 12/6 = 2, 24/12 = 2, etc. Yes, to get from any term to the next,
           we multiply by  = 2. So the recursive definition is  = 2-1 with
            0 = 3. The closed formula is  = 3 · 2.

        2. The common ratio is  = 1/3. So the sequence has recursive definition
             = 31 -1 with 0 = 27 and closed formula  = 27 · 31 .

    Geometric sequences are those which have a growth rate that is proportional
to the sequence itself. Just like you might have seen in calculus, it is exactly the
exponential functions that have this property.

    In the examples and formulas above, we assumed that the initial term was 0. If
your sequence starts with 1, you can easily find the term that would have been 0
and use that in the formula. For example, if we want a formula for the sequence
2, 5, 8, . . . and insist that 2 = 1, then we can find 0 = -1 (since the sequence is
arithmetic with common difference 3, we have 0 + 3 = 1). Then the closed formula
will be  = -1 + 3.

    Remark 4.2.3 If you look at other sources, you might find that their closed
    formulas for arithmetic and geometric sequences differ from ours. Specifically,
    you might find the formulas  =  + ( - 1) (arithmetic) and  =  · -1
    (geometric). Which is correct? Both! In our case, we take  to be 0. If instead
    we had 1 as our initial term, we would get the (slightly more complicated)
    formulas you find elsewhere.

            4.2.4 Beyond Arithmetic and Geometric Sequences

Look at the sequence ()1 which starts 1, 3, 6, 10, 15, . . .. These are called the
triangular numbers since they represent the number of dots in an equilateral triangle
(think of how you arrange 10 bowling pins: a row of 4 plus a row of 3 plus a row of
2 and a row of 1).

1 = 1  2 = 3  3 = 6  4 = 10

    Is this sequence arithmetic? No, since 3 - 1 = 2 and 6 - 3 = 3  2, so there is no
common difference. Is the sequence geometric? No. 3/1 = 3 but 6/3 = 2, so there is

no common ratio. What to do?

    Notice that the differences between terms do form an arithmetic sequence:
2, 3, 4, 5, 6, . . .. In other words, the rate of change of this sequence is arithmetic:
                                                               4.2. Rate of Growth 333

 - -1 = , which immediately gives us the recurrence relation  = -1 + .
    Another way to think of this is that the th term of the sequence () is the sum of

the first  terms in the sequence 1, 2, 3, 4, 5, . . .. Thus () is the sequence of partial
sums of the sequence 1, 2, 3, . . . (partial sums because we are not taking the sum of
all infinitely many terms).

    This should become clearer if we expand the recurrence relation to write the
triangular numbers like this:

                                     1 = 1 = 1
                                     2 = 3 = 1 + 2
                                     3 = 6 = 1 + 2 + 3
                                    4 = 10 = 1 + 2 + 3 + 4

                                             .. ..
                                             ..

                                           = 1 + 2 + 3 + · · · + .

We are really using iteration here. We could also have seen this by using telescoping,
taking 0 = 0:

                          1 - 0 =1
                          2 - 1 =2
                          3 - 2 =3

                                    ..
                                    .

                        - -1 =.

Summing these equations, the right-hand side becomes 1 + 2 + 3 + · · · + ; the
left-hand side cancels to leave just  - 0 = .

If we know how to add up the terms of an arithmetic sequence, we can find a

closed formula for a sequence whose differences are the terms of that arithmetic

sequence. Consider how we could find the sum of the first 100 positive integers
(that is, 100). Instead of adding them in order, we regroup and add 1 + 100 = 101.

The next pair to combine is 2 + 99 = 101. Then 3 + 98 = 101. Keep going. This gives

50 pairs which each add up to 101, so 100 = 101 · 50 = 5050.1
In general, using this same sort of regrouping, we find that  = 2 (+1) . Inci-
                                       +1
dentally, this is exactly the same as   2  ,  which  makes  sense  if  you  think  of  the

triangular numbers as counting the number of handshakes that take place at a party

with  + 1 people: the first person shakes  hands, the next shakes an additional

 - 1 hands and so on.

The point of all of this is that some sequences, while not arithmetic or geometric,

can be interpreted as the sequence of partial sums of arithmetic and geometric

    1This insight is usually attributed to Carl Friedrich Gauss, one of the greatest mathematicians of all
time, who discovered it as a child when his unpleasant elementary teacher thought he would keep the
class busy by requiring them to compute the lengthy sum.
334 4. Sequences

sequences. Luckily there are methods we can use to compute these sums quickly,
which we will explore in the next two sections.

                  4.2.5 Reading Questions

1. Match each formula on the left with the type of formula described on the right.

                   = 3 · 2   Arithmetic; closed
                             Arithmetic; recursive
                   = 3-1     Geometric; closed
                   = -1 + 3  Geometric; recursive
                   = 2 + 3

2. How can you decide whether a sequence is the sequence of partial sums of
       an arithmetic or geometric sequence? Describe what you would do to check,
       using an example.

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                4.2.6 Practice Problems

1. Consider the recurrence relation  = -1 + 7.

         (a) Find the first five terms of the sequence defined by the recurrence relation
              and initial condition 0 = 17.

         (b) Find the closed formula for the sequence defined by the recurrence
              relation and initial condition 0 = 17.

         (c) Find the first five terms of another sequence, also defined by the same
              recurrence relation but this time with initial condition 0 = 1.

         (d) Find the closed formula for this second sequence.
2. Consider the recurrence relation  = 7-1.

         (a) Find the first five terms of the sequence defined by the recurrence relation
              and initial condition 0 = 10.

         (b) Find the closed formula for the sequence defined by the recurrence
              relation and initial condition 0 = 10.

         (c) Find the first five terms of another sequence, also defined by the same
              recurrence relation but this time with initial condition 0 = 17.

         (d) Find the closed formula for this second sequence.
3. Find a closed formula for the sequence that starts 3, 27, 243, 2187, 19683, . . . .

       Assume 0 = 3.
                                               4.2. Rate of Growth 335

4. Find a closed formula for the sequence that starts 16, 26, 36, 46, 56, . . . . Assume
       0 = 16.

5. Consider the sequence that starts 1, 7, 13, 19, 25, . . . where 0 = 1.

         (a) Which of the following could be a recursive definition for the sequence?

                     = 1 · 6
                     = 6 · -1; 0 = 1
                     = -1 + -2; 0 = 1
                     = -1 + 6; 0 = 1
                    None of the above

(b) Find the closed formula for the sequence.

(c) Is 3007 a term of the sequence?

6. Your summer job pays you $1000 per week, with a raise of $50 per week as a
       bonus for not being a quitter. How much will you make in the 10th week?

7. Your sister's summer job pays her $1000 per week, with a raise of 5% per week
       as a bonus for not being a quitter. How much will she make in the 10th week?

8. Find  and  such that 125, , , 1 is part of an arithmetic sequence.

=  ,=

Then find  and  so that the sequence is part of a geometric sequence.

=  ,=

(Warning:  and  might not be integers.)

9. Find  and  such that 4, , , 31 is part of an arithmetic sequence.

=  ,=

Then find  and  so that the sequence is part of a geometric sequence.

=  ,=

(Warning:  and  might not be integers.)

                              4.2.7 Additional Exercises

1. Suppose that the candy machine currently holds exactly 650 Skittles, and every
       time someone inserts a quarter, exactly 7 Skittles come out of the machine.

         (a) How many Skittles will be left in the machine after 20 quarters have been
              inserted?

         (b) Will there ever be exactly zero Skittles left in the machine? Explain.
2. Is there a pair of integers (, ) such that , 1, 1,  is part of an arithmetic

       sequence and , 2, 2,  is part of a geometric sequence with 1, 2, 1, 2 all
       integers?
336 4. Sequences

3. Are there any sequences that are both arithmetic and geometric? If so, how
       many can you find? If not, explain why not.

4. Starting with any rectangle, we can create a new, larger rectangle by attaching
       a square to the longer side. For example, if we start with a 2 × 5 rectangle, we
       would glue on a 5 × 5 square, forming a 5 × 7 rectangle:

5        5

   2  5     7

    The next rectangle would be formed by attaching a 7 × 7 square to the top
or bottom of the 5 × 7 rectangle.

(a) Create a sequence of rectangles using this rule starting with a 1 × 2
     rectangle. Then write out the sequence of perimeters for the rectangles
    (the first term of the sequence would be 6, since the perimeter of a 1 × 2
     rectangle is 6; the next term would be 10).

(b) Repeat the above part, this time starting with a 1 × 3 rectangle.

(c) Find recursive formulas for each of the sequences of perimeters you
    found in parts (a) and (b). Don't forget to give the initial conditions as
    well.

         (d) Are the sequences arithmetic? Geometric? If not, are they close to being
              either of these (i.e., are the differences or ratios almost constant)? Explain.

5. Prove that the closed formula for a geometric sequence with initial term   0
       and common ratio  is  = , using telescoping.

6. Telescoping to find a sum. Another context in which sequences arise is calculus
       when you study sequences and series (which is the word in calculus for what
       we call a sequence of partial sums). Some of the techniques we have developed
       here can be applied there as well. This is an example of a telescoping sum,
       similar to the telescoping technique we used.
           Consider the sequence ()1 that starts

                                       1, 1, 1, 1 , 1 ,....
                                       1 3 6 10 15
That is, each term is the reciprocal of the th triangular number. Find the sum
of the first  terms of this sequence:

                                        

                                 1 = 1 + 1 + 1 + 1 + · · · + 1  1 3 6 10  .

                                       =1
                                                                                                   4.2. Rate of Growth 337

7. A geometric sequence has a constant rate of growth in the sense that the ratio of
       consecutive terms is always the same. But what can we say about the difference
       of consecutive terms in an geometric sequence?

         (a) Consider the geometric sequence 1, 2, 4, 8, 16, . . .. Find the differences
              between consecutive terms. That is, find its sequence of differences.

         (b) Find a closed formula for the sequence of differences. Then use this
              closed formula to find a different recurrence relation for the original
              sequence (other than  = 2-1).

         (c) Repeat the two parts above for a different geometric sequence of your
              choice. Then explain what you found in general.

8. None of the following sequences are arithmetic or geometric:

                                                1, 3, 6, 10, 15, . . .

                                                3, 5, 8, 12, 17, . . .
                                                0, 2, 5, 9, 14, . . .

       Explain what these sequences have in common with each other and then use
       that to find a closed formula for each of them. How do their closed formulas
       relate to each other? What can you say in general?
                  4.3 Polynomial Sequences

  Objectives

After completing this section, you should be able to do the following.
   1. Identify a sequence as having a polynomial closed formula based on
       its sequence of differences, and determine the polynomial's degree.
   2. Fit an appropriate degree polynomial to a sequence of initial terms.
   3. Explain how recurrence relations for polynomial sequences relate to
       their closed formulas.

                             4.3.1 Section Preview

  Investigate!

A standard 8 × 8 chessboard contains 64 squares. Actually, this is just the
number of unit squares. How many squares of all sizes are there on a
chessboard? Start with smaller boards: 1 × 1, 2 × 2, 3 × 3, etc. Find a formula
for the total number of squares in an  ×  board.

    We have seen that arithmetic sequences grow at a constant rate, and so their
closed formulas are linear functions. What about sequences that grow faster? What
if their rate of change (really the differences between terms) is itself growing at a
constant rate?

    In Section 4.2 we claimed that the triangular numbers, the sum of the first 
positive integers, have closed formula

 = ( + 1) =  + . 2 
2       22

So this sequence, whose sequence of differences is arithmetic, is a degree 2 polynomial
(a quadratic function).

    Our goal in this section is to explore this phenomenon. We will verify that this
really is the closed formula for the triangular numbers, extend it to other sequences
with arithmetic differences, and then explore sequences that grow at even faster
rates.

   338
                                                                                            4.3. Polynomial Sequences 339

                                           Preview Activity
1. While wandering the halls of the math department, you find yourself staring

       at the captivating artwork shown below.

(a) How many dots are in the figure?

The dots form a  by  square, for a total of             dots.

(b) We can also compute the total number of dots by summing each "hook"
     region, from smallest to largest:

          +++++ .

(c) Yet another way to calculate the total number of dots is to group the
    terms of this sum.

1 + 11 = ; 3 + 9 = ; 5 + 7 = .

Since there are three pairs of sums, the total is 3· =  .

(d) If we generalize the diagram, so it has  hooks, how many dots will be in
     the largest hook?

     How many dots will be in the second largest hook?

(e) What will the sum of the smallest and largest hooks be?
    What will the sum of the second smallest and second largest hooks be?

(f) If we continue adding pairs of hooks (next smallest plus next largest),
    how many pairs will we have?

Multiplying then, the total number of dots will be:        .

Hint. Let's assume that  is even. If it wasn't, then there would be a

single "middle" hook that isn't added to anything, but this is counteracted
by the fact that /2 would count a half hook sum.
340 4. Sequences

         4.3.2 Summing Arithmetic Sequences: Reverse and Add

Let's find the sum of the first  positive integers carefully. Call that sum , and
write it down twice, once in the usual order and once in reverse order.

                    = 1 + 2 + 3 + · · · + 
              +  =  + ( - 1) + ( - 2) + · · · + 1

                  2 =  + 1 +  + 1 +  + 1 + · · · +  + 1

We then added the two equations together. The left-hand side is 2. On the

right-hand side, something great happens: All the terms of the sum are the same!

So instead of adding up a bunch of different numbers, we now just add a bunch of
the same number. That's a task that multiplication lives for! There are  terms in

the sum, so we get,

                        2 = ( + 1).

Solving for  gives us,   = ( + 1) ,
                                   2

as expected.

This technique will work for any arithmetic sum.

Example 4.3.1

Find the sum: 2 + 5 + 8 + 11 + 14 + · · · + 470.

Solution. The idea is to mimic how we found the formula for triangular
numbers. If we add the first and last terms, we get 472. The second term and
second-to-last term also add up to 472. To keep track of everything, we might
express this as follows. Call the sum . Then,

                  = 2 + 5 + 8 + · · · + 467 + 470
            +  = 470 + 467 + 464 + · · · + 5 + 2

               2 = 472 + 472 + 472 + · · · + 472 + 472

To find 2 then, we add 472 to itself a number of times. What number? We
need to decide how many terms (summands) are in the sum. Since the terms
form an arithmetic sequence, the th term in the sum (counting 2 as the 0th
term) can be expressed as 2 + 3. If 2 + 3 = 470 then  = 156. So  ranges
from 0 to 156, giving 157 terms in the sum. This is the number of 472's in the
sum for 2. Thus

                                   2 = 157 · 472 = 74104.

    It is now easy to find :

                                     = 74104/2 = 37052.
                                                                                           4.3. Polynomial Sequences 341

    This will work for the sum of any arithmetic sequence. Call the sum . Reverse
and add. This produces a single number added to itself many times. Find the
number of times. Multiply. Divide by 2. Done.

  Example 4.3.2

    Find a closed formula for 6 + 10 + 14 + · · · + (4 - 2).
    Solution. Again, we have a sum of an arithmetic sequence. How many
    terms are in the sequence? Clearly each term in the sequence has the form
    4 - 2 (as evidenced by the last term). For which values of  though? To get
    6,  = 2. To get 4 - 2 take  = . So to find the number of terms, we must
    count the number of integers in the range 2, 3, . . . , . This is  - 1. (There are
     numbers from 1 to , so one less if we start with 2.)

         Now reverse and add:
                     = 6 + 10 + · · · + 4 - 6 + 4 - 2

               +  = 4 - 2 + 4 - 6 + · · · + 10 + 6
                   2 = 4 + 4 + 4 + 4 + · · · + 4 + 4 + 4 + 4

    Since there are  - 1 terms, we get

                    2 = ( - 1)(4 + 4) so  = ( - 1)(4 + 4) .
                                                                              2

    Besides finding sums, we can use this technique to find closed formulas for
sequences we recognize as sequences of partial sums.

  Example 4.3.3

    Use partial sums to find a closed formula for ()0 which starts 2, 3, 7, 14, 24, 37, . . . . . ..
    Assume a recurrence relation for the sequence is  = -1 + 3 - 2.
    Solution. First, if you look at the differences between terms, you get a
    sequence of differences ()1: 1, 4, 7, 10, 13, . . ., which is an arithmetic
    sequence. Indeed, we notice that  = 3 - 2, which agrees with the
    recurrence relation. Written another way:

                               0 = 2
                               1 = 2 + 1 = 2 + 1
                               2 = 2 + 1 + 4 = 2 + 1 + 2
                               3 = 2 + 1 + 4 + 7 = 2 + 1 + 2 + 3

    and so on. We can write the general term of () in terms of the arithmetic
    sequence as follows:

                               = 2 + 1 + 4 + 7 + 10 + · · · + 3 - 2.
342 4. Sequences

    We can reverse and add, but the initial 2 does not fit our pattern. This just
means we need to keep the 2 out of the reverse part:

           = 2 +                1           +         4           + · · · + 3 - 2

      +  = 2 + 3 - 2 + 3( - 1) - 2 + · · · +                                      1

          2 = 4 + 2 + 3 - 3 + 2 + 3 - 3 + · · · + 2 + 3 - 3

Not counting the first term (the 4) there are  summands of 2 + 3 - 3 = 3 - 1
so the right-hand side becomes 4 + (3 - 1).

    Finally, solving for  we get

                                    = 4 + (3 - 1) .
                                                 2

Just  to  be  sure,  we  check  0  =  4  =  2,  1  =  4+2  =  3,  etc.  We  have  the  correct
                                      2                2

closed formula.

    Notice that the closed formula for a sequence that has an arithmetic (i.e., linear)
rate of change is a quadratic function. Interesting....

                         4.3.3 Higher Degree Polynomials

Since we know how to compute the sum of the first  terms of arithmetic sequences,
we can compute the closed formulas for sequences that have an arithmetic sequence
of differences between terms. But what if we consider a sequence that is the sum of
the first  terms of a sequence that is itself the sum of an arithmetic sequence?

    How many squares (of all sizes) are there on a chessboard? A chessboard consists
of 64 squares, but we also want to consider squares of longer side length. Even
though we are only considering an 8 × 8 board, there is already a lot to count. So
instead, let us build a sequence: the first term will be the number of squares on a
1 × 1 board, the second term will be the number of squares on a 2 × 2 board, and so
on. After a little thought, we arrive at the sequence

                                           1, 5, 14, 30, 55, . . . .

    This sequence is not arithmetic (or geometric for that matter), but perhaps its
sequence of differences is. For differences we get

                                             4, 9, 16, 25, . . . .

    Not a huge surprise: One way to count the number of squares in a 4×4 chessboard
is to notice that there are 16 squares with side length 1, 9 with side length 2, 4 with
side length 3 and 1 with side length 4. So the original sequence is just the sum of
squares. Now this sequence of differences is not arithmetic since its sequence of
differences (the differences of the differences of the original sequence) is not constant.
In fact, this sequence of second differences is

                                                5, 7, 9, . . . ,
                                                                                            4.3. Polynomial Sequences 343

which is an arithmetic sequence (with constant difference 2). Notice that our original
sequence had third differences (that is, differences of differences of differences of
the original) constant. We will call such a sequence 3-constant. The sequence
1, 4, 9, 16, . . . has second differences constant, so it will be a 2-constant sequence.
In general, we will say a sequence is a -constant sequence if the th differences
are constant.

  Example 4.3.4

    Which of the following sequences are -constant for some value of ?

        1. 2, 3, 7, 14, 24, 37, . . ..

        2. 1, 8, 27, 64, 125, 216, . . ..

        3. 1, 2, 4, 8, 16, 32, 64, . . ..

    Solution.

        1. This is the sequence from Example 4.3.3, in which we found a closed
            formula by recognizing the sequence as the sequence of partial sums
            of an arithmetic sequence. Indeed, the sequence of first differences
            is 1, 4, 7, 10, 13, . . ., which itself has differences 3, 3, 3, 3, . . .. Thus
            2, 3, 7, 14, 24, 37, . . . is a 2-constant sequence.

        2. These are the perfect cubes. The sequence of first differences is
           7, 19, 37, 61, 91, . . .; the sequence of second differences is 12, 18, 24, 30, . . .;
            the sequence of third differences is constant: 6, 6, 6, . . .. Thus the perfect
            cubes are a 3-constant sequence.

        3. If we take first differences, we get 1, 2, 4, 8, 16, . . .. Wait, what? That's
            the sequence we started with. So taking second differences will give us
            the same sequence again. No matter how many times we repeat this
           we will always have the same sequence, which in particular means no
            finite number of differences will be constant. Thus this sequence is not
            -constant for any .

    The 0-constant sequences are themselves constant, so a closed formula for
them is easy to compute (it's just the constant). The 1-constant sequences are
arithmetic, and we have a method for finding closed formulas for them as well.
Every 2-constant sequence is the sum of an arithmetic sequence, so we can find
formulas for these as well. But notice that the format of the closed formula for a
2-constant sequence is always quadratic. For example, the square numbers are
2-constant with closed formula  = 2. The triangular numbers (also 2-constant)
have closed formula  = 2 (+1) , which when multiplied out gives you an 2 term as
well. It appears that every time we increase the complexity of the sequence, that
is, increase the number of differences before we get constants, we also increase the
344 4. Sequences

degree of the polynomial used for the closed formula. We go from constant to linear
to quadratic. The sequence of differences between terms tells us something about
the rate of growth of the sequence. If a sequence is growing at a constant rate, then
the formula for the sequence will be linear. If the sequence is growing at a rate which
itself is growing at a constant rate, then the formula is quadratic. You might have
seen this elsewhere: If a function has a constant second derivative (rate of change),
then the function must be quadratic.

    This works in general:

     Theorem 4.3.5 Polynomial Fitting.

    The closed formula for a sequence will be a degree  polynomial if and only if the
    sequence is -constant (i.e., the th sequence of differences is constant).

    This tells us that the sequence of numbers of squares on a chessboard, 1, 5, 14, 30, 55, . . .,
which we saw to be 3-constant, will have a cubic (degree 3 polynomial) for its

closed formula.

    Now once we know what format the closed formula for a sequence will take, it is

much easier to actually find the closed formula. In the case that the closed formula
is a degree  polynomial, we just need  + 1 data points to "fit" the polynomial to

the data.

Example 4.3.6

Find a formula for the sequence 3, 7, 14, 24, . . .. Assume 1 = 3.

Solution. First, check to see if the formula has constant differences at some
level. The sequence of first differences is 4, 7, 10, . . . which is arithmetic, so
the sequence of second differences is constant. The sequence is 2-constant,
so the formula for  will be a degree 2 polynomial. That is, we know that for
some constants , , and ,

                                      = 2 +  + .

    Now to find , , and . First, it would be nice to know what 0 is, since
plugging in  = 0 simplifies the above formula greatly. In this case, 0 = 2
(work backward from the sequence of constant differences). Thus

                                0 = 2 =  · 02 +  · 0 + ,

so  = 2. Now plug in  = 1 and  = 2. We get

                                     1 = 3 =  +  + 2

                                2 = 7 = 4 + 2 + 2.

At this point, we have two (linear) equations and two unknowns, so we

can solve the system for  and  (using substitution or elimination or even

matrices).  We    find    =  3  and    =  -12 ,  so    =  3 2  -  1  +  2.
                             2
                                                          2       2
                                                            4.3. Polynomial Sequences 345

Example 4.3.7

Find a closed formula for the number of squares on an  ×  chessboard.
Solution. We have seen that the sequence 1, 5, 14, 30, 55, . . . is 3-constant,
so we are looking for a degree 3 polynomial. That is,

                          = 3 + 2 +  + .

    We can find  if we know what 0 is. Working backward from the third
differences, we find 0 = 0 (unsurprisingly, since there are no squares on a
0 × 0 chessboard). Thus  = 0. Now plug in  = 1,  = 2, and  = 3:

                                  1 = +  + 
                                  5 =8 + 4 + 2
                                 14 =27 + 9 + 3.

   If  we  solve   this  system  of  equations,  we  get    =   13 ,     =  1  and    =  16 .
                                                                            2
Therefore the number of squares on an ×                                  1 3+ 1 2+ 1 
                                                 chessboard is        =  3     2      6  =

1  (   +  1)(2  +  1).
6

    Note: Since the squares-on-a-chessboard problem is really asking for the sum of

                                                                            

squares, we now have a nice formula for 2.

                                                                           =1

  Example 4.3.8

    Find a closed formula for ()0 which starts 2, 3, 7, 14, 24, 37, . . .. Assume a
    recurrence relation for the sequence is  = -1 + 3 - 2
    Solution. Note that we have already done this in Example 4.3.3, but now
    we can solve this using polynomial fitting.

         The sequence of (first) differences is 1, 4, 7, 10, 13, . . . (which agrees with
    what is given in the recurrence relation). The sequence of second differences
    is 3, 3, 3, 3, . . . constant! So we expect that the closed formula for  will be a
    degree 2 polynomial. That is, we guess,

                                            = 2 +  + .

         Since 0 = 2, we know that  = 2 (as  · 02 +  · 02 +  = 2). Then, we can
    see what happens with  = 1 and  = 2:

                                       1 = 3 = · 12 +  · 1 + 2
                                       2 = 7 = · 22 +  · 2 + 2.
346 4. Sequences

Simplifying this, we must find  and  which satisfy the equations

                                           1 = + 
                                           5 =4 + 2.

Using a computer algebra system or substitution or elimination, we find that

  =  3  and       =  - 12 .  Therefore  the  closed  formula  is,
     2

                                         = 3 2 - 1  + 2.
                                               22

This is the same as we found in Example 4.3.3, once you multiply out that
solution.

    Not all sequences will have polynomials as their closed formula. We can use the
theory of finite differences to identify these.

  Example 4.3.9

    Determine whether the following sequences can be described by a polynomial,
    and if so, of what degree.

        1. 1, 2, 4, 8, 16, . . .

        2. 0, 7, 50, 183, 484, 1055, . . .

        3. 1, 1, 2, 3, 5, 8, 13, . . .

    Solution.

        1. As we saw in Example 4.3.4, this sequence is not -constant for any .
           Therefore the closed formula for the sequence is not a polynomial. In
           fact, we know the closed formula is  = 2, which grows faster than
           any polynomial (so is not a polynomial).

        2. The sequence of first differences is 7, 43, 133, 301, 571, . . .. The second
           differences are: 36, 90, 168, 270, . . .. Third differences: 54, 78, 102, . . ..
           Fourth differences: 24, 24, . . .. As far as we can tell, this sequence of
           differences is constant so the sequence is 4-constant, and as such the
           closed formula is a degree 4 polynomial.

        3. This is the Fibonacci sequence. The sequence of first differences is
           0, 1, 1, 2, 3, 5, 8, . . ., the second differences are 1, 0, 1, 1, 2, 3, 5 . . .. We
           notice that after the first few terms, we get the original sequence back.
           So there will never be constant differences, so the closed formula for the
           Fibonacci sequence is not a polynomial.
                                                                                            4.3. Polynomial Sequences 347

    Warning 4.3.10 A degree  polynomial is completely determined by its  + 1
    coefficients (the +1 is because of the constant term). Therefore we can always
    find a degree  polynomial when given  + 1 terms of a sequence.

         If we take the  + 1 terms, we can take differences of differences of
    differences of... until (after  steps) we are left with just a single number. As
    far as we can tell, this th difference is constant. This doesn't mean we have
    found the closed formula for the right sequence. This is why it is so important
    to work with sequences in a particular context.

           4.3.4 Solving Systems of Equations with Technology

The point of polynomial fitting is that if we can be sure that a sequence has a
polynomial as its closed formula, then we can find that formula. Since we know the
degree of the polynomial, all we need is to find its coefficients, and with enough
terms of the sequence, we can find a system of enough linear equations whose
solution will be those coefficients. However, this requires solving a system of linear
equations.

    For a degree 2 polynomial, we need to find three coefficients (the constant term,
the coefficient of , and the coefficient of 2). A system of three linear equations will
be enough to find these three unknowns. In fact, since 0 will be the constant term,
we can really get away with just two equations and two unknowns, and this is not
difficult to solve by hand.

    For higher degree polynomials, the number of equations is larger, and solving by
hand can be tedious. Luckily, it is easy for computers to solve these equations. Below
we demonstrate how to use the free computer algebra system SageMath, as well as
python, to solve these systems of equations. Besides these two choices, pretty much
any computer algebra system (including Wolfram Alpha) can solve these systems of
equations.

    Suppose we have the following system of three equations and three unknowns,
as in the chess board example above:

                                            1 = +  + 
                                            5 =8 + 4 + 2
                                           14 =27 + 9 + 3

    In SageMath, we can use the solve method to solve the system of equations. Here
is the code:

 var('abc')
 solve(

     [
        a+b+c==1,
        8*a+4*b+2*c==5,
         27*a+9*b+3*c==14

     ], a,b,c)
348 4. Sequences

 [[a == (1/3), b == (1/2), c == (1/6)]]

    This is easier than in python, but python might be more readily available. One
way you can solve the system in python is to use the numpy library. In this case,
you would create a matrix of coefficients and a vector of constants, and then use the
solve method. Here is the code:

     import numpy as np
     A = np.array([[1,1,1],[8,4,2],[27,9,3]])
     b = np.array([1,5,14])
     x = np.linalg.solve(A,b)
     print(x)

An explanation of what is going on here: We create a matrix A of coefficients of

the system of equations (not the coefficients of the closed formula we are looking

for),                                            1             1
                                                                
                                                         1
                                                         4 2
                                              =    8

                                                 27 9 3

and a vector b for the constants,                   1

                                                 =          .
                                                      5  
                                                    14

What numpy does is solve the matrix equation

                                                  = .

The vector  that satisfies this matrix equation will be the values of the unknowns in
the system (so the vector [, , ]).

    Of course, once you find the coefficients of the polynomial, you should still write

out the closed formula using those coefficients. It is always a good idea to check that
the formula appears to work by using an  that you did not use to get your system

of equations.

                  4.3.5 Reading Questions

1. Match each sequence on the left with the type of closed formula it might have,
       on the right.

                  3, 7, 11, 15, 19, . . .           Linear formula
                  3, 4, 7, 13, 23, . . .            Quadratic formula
                  3, 4, 7, 11, 18, 29, . . .        Cubic formula
                  3, 5, 8, 12, 17, . . .            Exponential (not a polynomial)

2. Suppose () is a sequence whose sequence of differences has a degree 2

       polynomial as its closed formula. What can you say about the sequence of
       partial sums of ()? Explain.
                                                     4.3. Polynomial Sequences 349

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                4.3.6 Practice Problems

1. Consider the sequence 10, 13, 16, 19, 22 . . . where 1 = 10.
         (a) What is the recursive definition for the sequence?
         (b) Give a closed formula for the th term of the sequence.

         (c) Is 1555 a term in the sequence?
         (d) How many terms does the finite sequence 10, 13, 16, . . . , 433 have?
         (e) Find the sum: 10 + 13 + 16 + . . . + 433.
          (f) Use what you found above to find , the th term of 3, 13, 26, 42, 61, . . .
2. Consider the sequence ()0 which starts 5, 10, 15, 20, . . . .

a. What is the next term in the sequence?

b. Find a formula for the th term of this sequence.
     =

c. Find the sum of the first 100 terms of the sequence:  99

                                                         =0  .

3. Consider the sum 9 + 14 + 19 + 24 + · · · + 229.

          a. How many terms (summands) are in the sum?

          b. Compute the sum using a technique discussed in this section.
4. Consider the sequence -18, -6, 6, 18, . . . , 12 + 6.

          a. How many terms are there in the sequence? Your answer will be in terms
              of .

          b. What is the second-to-last term?

           c. Find the sum of all the terms in the sequence, in terms of .

5. Find 2 + 8 + 14 + 20 + · · · + 1808 using a technique from this section.
6. Use polynomial fitting to find the formula for the th term of the sequence

       ()0 which starts,
           0, 9, 20, 33, 48, 65, . . .
            =
350 4. Sequences

7. Use polynomial fitting to find the formula for the th term of the sequence
       ()0 which starts,
           -1, 4, 11, 20, 31, 44, . . .
            =

8. Use polynomial fitting to find the formula for the th term of the sequence
       ()0 which starts,

                                           5, 5, 17, 53, 125, 245, . . .
            =

9. Use polynomial fitting to find the formula for the th term of the sequence
       ()1 which starts,
           9, 43, 117, 243, 433, . . . Note the first term above is 1, not 0.
            =

10. Suppose  = 22 + 3 + 2. Find a closed formula for the sequence of differences
       by computing  - -1. Simplify your answer as much as possible.

11. Use polynomial fitting to find the formula for the th term of the sequence
       ()1 which starts,
           7, 32, 87, 184, 335, . . . Note the first term above is 1, not 0.
            =

                              4.3.7 Additional Exercises

1. Your friendly neighborhood bodega has a candy machine that gives 7 Skittles
       to the first customer who puts in a quarter, 10 to the second, 13 to the third, 16
       to the fourth, etc. How many candies has the machine given out in total after
       20 quarters are put into the machine? After  quarters?

2. Not to be outdone, the mega-mart across the street has installed a candy
       machine that gives 4 Skittles to the first customer, 7 to the second, 12 to the
       third, 19 to the fourth, etc. How many Skittles has the machine given out in
       total after 20 quarters are put into the machine? After  quarters?

3. Make up sequences that have

         (a) 3, 3, 3, 3, . . . as its second differences.

         (b) 1, 2, 3, 4, 5, . . . as its third differences.

         (c) 1, 2, 4, 8, 16, . . . as its 100th differences.
4. Consider the sequence 1, 3, 7, 13, 21, . . .. Explain how you know the closed

       formula for the sequence will be quadratic. Then "guess" the correct formula
       by comparing this sequence to the squares 1, 4, 9, 16, . . . (do not use polynomial
       fitting).
                                                                                            4.3. Polynomial Sequences 351

5. Use a similar technique as in the previous exercise to find a closed formula for
       the sequence 2, 11, 34, 77, 146, 247, . . ..

6. Consider the sequence 2, 7, 15, 26, 40, 57, . . . (with 0 = 2). By looking at the
       differences between terms, express the sequence as a sequence of partial sums.
       Then find a closed formula for the sequence by computing the th partial sum.

7. If you have enough toothpicks, you can make a large triangular grid. Below, are
       the triangular grids of size 1 and of size 2. The size 1 grid requires 3 toothpicks,
       the size 2 grid requires 9 toothpicks.

         (a) Let  be the number of toothpicks required to make a size  triangular
              grid. Write out the first 5 terms of the sequence 1, 2, . . ..

         (b) Find a recursive definition for the sequence. Explain why you are correct.
         (c) Is the sequence arithmetic or geometric? If not, is it the sequence of

              partial sums of an arithmetic or geometric sequence? Explain why your
              answer is correct.
         (d) Use your results from part (c) to find a closed formula for the sequence.
              Show your work.
8. If you were to shade in an  ×  square on graph paper, you could do it the
       boring way (with sides parallel to the edge of the paper) or the interesting way,
       as illustrated below:

           The interesting thing here is that a 3 × 3 square now has area 13. Our goal
       is to find a formula for the area of an  ×  (diagonal) square.

         (a) Write out the first few terms of the sequence of areas (assume 1 = 1,
              2 = 5, etc). Is the sequence arithmetic or geometric? If not, is it the
              sequence of partial sums of an arithmetic or geometric sequence? Explain
              why your answer is correct, referring to the diagonal squares.
352 4. Sequences

         (b) Use your results from part (a) to find a closed formula for the sequence.
              Show your work. Note that while there are lots of ways to find a closed
              formula here, you should use partial sums specifically.

         (c) Find the closed formula in as many other interesting ways as you can.
9. Generalize Practice Problem 5: Find a closed formula for the sequence of

       differences of  = 2 +  + . That is, prove that every quadratic sequence
       has arithmetic differences.
10. Can you use polynomial fitting to find the formula for the th term of the
       sequence 4, 7, 11, 18, 29, 47, . . . ? Explain why or why not.
11. Will the th sequence of differences of 2, 6, 18, 54, 162, . . . ever be constant?
       Explain.
12. In their down time, ghost pirates enjoy stacking cannonballs in triangular based
       pyramids (aka, tetrahedrons), like those pictured here:

           Note: These are solid tetrahedrons, so there will be some cannonballs
       obscured from view (the picture on the right has one cannonball in the back
       not shown in the picture, for example).

           The pirates wonder how many cannonballs would be required to build a
       pyramid 15 layers high (thus breaking the world cannonball stacking record).
       Can you help?

         (a) Let () denote the number of cannonballs needed to create a pyramid 
              layers high. So (1) = 1, (2) = 4, and so on. Calculate (3), (4), and
              (5).

         (b) Use polynomial fitting to find a closed formula for (). Show your work.

         (c) Answer the pirate's question: How many cannonballs do they need to
              make a pyramid 15 layers high?

         (d) Bonus: Locate this sequence in Pascal's triangle. Why does that make
              sense?
                     4.4 Exponential Sequences

       Objectives

     After completing this section, you should be able to do the following.

         1. Identify a sequence as exponential based on its recurrence relation.

         2. Apply the characteristic root technique to solve appropriate recurrence
             relations.

                                  4.4.1 Section Preview

       Investigate!

     You have a large collection of 1 × 1 squares and 1 × 2 dominoes. You want
     to arrange these to make a 1 × 15 strip. How many ways can you do this?

          What if the squares come in three different colors and the dominos come
     in four different colors? And why is this second question easier than the
     first?
     Hint. Start by creating a recurrence relation. How are the different 1 × 3
     strips and 1 × 4 strips related to the 1 × 5 strips?

    In Section 4.3 we saw that if a sequence has some sequence of differences that is
constant, then the sequence has a polynomial closed formula. Are there sequences
that never have constant differences? And what would their closed formulas look
like?

    Consider the Fibonacci sequence:

                                 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, . . . .

If we look at the first differences, we get this sequence:

                                     1, 1, 2, 3, 5, 8, 13, 21, 34, . . . ,

which is the Fibonacci sequence itself. This is not surprising, since the Fibonacci
sequence is defined by the recurrence relation  = -1 + -2. That is saying
precisely that to get the next turn of the sequence, we take the current term and
add... a term in the sequence!

    Of course, if we take another difference, we will get the same sequence back, and
again and again, so no th differences will be constant.

    Another sequence that has this behavior is the powers of 2:

                               1, 2, 4, 8, 16, 32, 64, 128, 256, 512, . . .

                                                    353
354 4. Sequences

which has differences

                       1, 2, 4, 8, 16, 32, 64, 128, 256, . . . .

We can also see this from the recurrence relation, since
                                       = 2-1 = -1 + -1.

The rate of growth for this, and in fact any geometric sequence, is the sequence itself.
    If you have studied calculus, you may recall that the functions that have them-

selves (or close) as their rate of change (derivative, in the calculus context) are exactly
the exponential functions. Here too, geometric sequences, which have exponential
closed formulas, have themselves as their rate of change.

    In this section, we will explore sequences that are changing at a rate proportional
to the sequence itself, and see how these all have an exponential closed formula, or
some variation of that.

                                           Preview Activity

1. Consider the recurrence relation

                                               = 5-1 - 6-2.
           Since the th term is given as a combination of the two previous terms, we
       will need two initial terms to determine the sequence. Different initial terms
       will give different sequences.

         (a) What sequence do you get if the initial conditions are 0 = 1, 1 = 2? Give
              the first five terms (including 1 and 2).

         (b) Based on the first few terms, what is a closed formula for this sequence?

         (c) What sequence do you get if the initial conditions are 0 = 1, 1 = 3? Give
              the first five terms.

         (d) Based on the first few terms, what is a closed formula for this sequence?

         (e) What sequence do you get if the initial conditions are 0 = 2, 1 = 5? Give
              the first five terms.

         (f) Based on the first few terms, what is a closed formula for this sequence?

              Hint. How do the terms in this sequence relate to the terms in the
              previous two sequences?

 4.4.2 Summing Geometric Sequences: Multiply, Shift, and Subtract

Suppose a candy machine dispenses candy in a geometric sequence by first giving 1
candy, then 2 candies, then 4, then 8, and so on. How many candies will you have
received in total after 10 turns of the machine?
                                               4.4. Exponential Sequences 355

We can create the sequence of partials sum as 1, 1 + 2, 1 + 2 + 4, 1 + 2 + 4 + 8, . . .

that gives

                   1, 3, 7, 15, 31, 63, . . .

This is not a geometric sequence, but is almost. In fact, if we add 1 to each term, we
get what sure looks like the geometric sequence 2, 4, 8, 16, 32, 64, . . ., so we might
guess that the closed formula for the sequence of sums is 2+1 - 1. If this is correct,
then the answer to the candy question would be 211 - 1 = 2047.

    More intriguing though is the observation that the sequence of partial sums of a
geometric sequence is again geometric-ish. Let's consider how to find the sum of a
geometric sequence in general.

    We cannot just reverse and add as we did for the sum of an arithmetic sequence.
Do you see why? The reason we got the same term added to itself many times
is because there was a constant difference. So as we added that difference in one
direction, we subtracted the difference going the other way, leaving a constant total.
For geometric sums; we have a different technique.

Example 4.4.1

What is 3 + 6 + 12 + 24 + · · · + 12288?

Solution. Multiply each term by 2, the common ratio. We get 2 = 6 + 12 +
24 + · · · + 24576. Now subtract: 2 -  = -3 + 24576 = 24573. Since 2 -  = ,
we have our answer.

To better see what happened in the above example, we can write it this way:

                = 3 + 6 + 12 + 24 + · · · + 12288

            - 2 =  6 + 12 + 24 + · · · + 12288 +24576

               - = 3 + 0 + 0 + 0 + · · · + 0       -24576

Then divide both sides by -1 and we have the same result for . The idea is, by
multiplying the sum by the common ratio, each term becomes the next term. We
shift over the sum to get the subtraction to mostly cancel out, leaving just the first
term and the new last term.

Example 4.4.2

Find a closed formula for () = 2 + 10 + 50 + · · · + 2 · 5.
Solution. The common ratio is 5. So we have

                              = 2 + 10 + 50 + · · · + 2 · 5
                    - 5 = 10 + 50 + · · · + 2 · 5 + 2 · 5+1

                          -4 = 2 - 2 · 5+1

Thus  = 2 - 2 · 5+1
                  -4
356 4. Sequences

    Even though this might seem like a new technique, you have probably used it
before.

  Example 4.4.3

    Express 0.464646 . . . as a fraction.
    Solution. Let  = 0.46464646 . . .. Consider 0.01. We get:

                                                 = 0.4646464 . . .
                                  - 0.01 = 0.00464646 . . .

                                          0.99 = 0.46

    So  = 99 46 . What have we done? We viewed the repeating decimal 0.464646 . . .
    as a sum of the geometric sequence 0.46, 0.0046, 0.000046, . . . The common
    ratio is 0.01. The only real difference is that we are now computing an infinite
    geometric sum, we do not have the extra "last" term to consider. Really, this is
    the result of taking a limit as we would in calculus when we compute infinite
    geometric sums.

    To summarize, we now can find a closed formula for a sequence  that has a rate
of growth that is an exponential function:  - -1 = , where  is a geometric
sequence (i.e., an exponential function). What sort of closed formula do we get here?

It's another exponential function!

                  4.4.3 The Characteristic Root Technique

Suppose we want to solve a recurrence relation expressed as a combination of the
two previous terms, such as  = -1 + 6-2. In other words, we want to find a
function of  which satisfies  - -1 - 6-2 = 0. Think about how we build up
this sequence iteratively.

                           2 = 1 + 60
                           3 = 2 + 61 = 1 + 60 + 61
                           4 = 3 + 62 = 1 + 60 + 61 + 620 + 61

Let's stop there and agree this is getting very complicated. However, we do notice

that in each step, we would, among other things, multiply a previous iteration by 6.

So our closed formula would include 6 multiplied some number of times. Thus it is

reasonable to guess the solution will contain parts that look geometric. Perhaps the
solution will take the form  for some constant .

    The nice thing is, we know how to check whether a formula is actually a solution
to a recurrence relation: plug it in. What happens if we plug in  into the recursion

above? We get      - -1 - 6-2 = 0.

Now solve for :   -2(2 -  - 6) = 0,
                                     4.4. Exponential Sequences 357

so by factoring,  = -2 or  = 3 (or  = 0, although this does not help us). This
tells us that  = (-2) is a solution to the recurrence relation, as is  = 3. Which

one is correct? They both are, unless we specify initial conditions. Notice we
could also have  = (-2) + 3. Or  = 7(-2) + 4 · 3. In fact, for any  and ,
 = (-2) + 3 is a solution (try plugging this into the recurrence relation). To
find the values of  and , use the initial conditions.

    This points us in the direction of a more general technique for solving recurrence
relations. Notice we will always be able to factor out the -2 as we did above. So
we really only care about the other part. We call this other part the characteristic
equation for the recurrence relation. We are interested in finding the roots of the
characteristic equation, which are called (surprise) the characteristic roots.

 Characteristic Roots.

    Given a recurrence relation  + -1 + -2 = 0, the characteristic
polynomial is

                                           2 +  + 

giving the characteristic equation:

                 2 +  +  = 0.

If 1 and 2 are two distinct roots of the characteristic polynomial (i.e.,

solutions to the characteristic equation), then the solution to the recurrence

relation is                     2 ,

                   =     1  +

where  and  are constants determined by the initial conditions.

Example 4.4.4

Solve the recurrence relation  = 7-1 - 10-2 with 0 = 2 and 1 = 3.
Solution. Rewrite the recurrence relation  - 7-1 + 10-2 = 0. Now
form the characteristic equation:

                 2 - 7 + 10 = 0

and solve for :

                 ( - 2)( - 5) = 0,

so  = 2 and  = 5 are the characteristic roots. We therefore know that the

solution to the recurrence relation will have the form

                  = 2 + 5.

    To find  and , plug in  = 0 and  = 1 to get a system of two equations
with two unknowns:

                 2 = 20 + 50 =  + 
358 4. Sequences

                                  3 = 21 + 51 = 2 + 5.

       Solving this system gives            =  7  and       =   - 13 ,  so the solution to the
                                               3

recurrence relation is                  = 7 2 - 1 5.
                                              33

    Perhaps the most famous recurrence relation is  = -1 + -2, which together
with the initial conditions 0 = 0 and 1 = 1 defines the Fibonacci sequence. But

notice that this is precisely the type of recurrence relation on which we can use the

characteristic root technique. When we do, the only thing that changes is that the

characteristic equation does not factor, so we must use the quadratic formula to

find the characteristic roots. In fact, doing so gives the third most famous irrational

number, , the golden ratio.

Before leaving the characteristic root technique, we should think about what

might happen when solving the characteristic equation. We have an example above

in which the characteristic polynomial has two distinct roots. These roots can be

integers, or perhaps irrational numbers (requiring the quadratic formula to find

them). In these cases, we know what the solution to the recurrence relation looks

like.

However, it is possible for the characteristic polynomial to have only one root.

This can happen if the characteristic polynomial factors as ( - )2. It is still the case
that  would be a solution to the recurrence relation, but we won't be able to find
                                                                                      2 ,
solutions  for  all  initial  conditions  using  the  general   form      =        +       since  we
                                                                                1
can't  distinguish   between      and  2 .  We   are  in  luck  though:

                               1

       Characteristic Root Technique for Repeated Roots.

    Suppose the recurrence relation  = -1 + -2 has a characteristic
polynomial with only one root . Then the solution to the recurrence relation
is

                                         =  + 

where  and  are constants determined by the initial conditions.

    Notice the extra  in . This allows us to solve for the constants  and  from
the initial conditions.

Example 4.4.5

Solve the recurrence relation  = 6-1 - 9-2 with initial conditions 0 = 1
and 1 = 4.

Solution. The characteristic polynomial is 2 - 6 + 9. We solve the charac-

teristic equation

                                          2 - 6 + 9 = 0
                                                                    4.4. Exponential Sequences 359

by factoring:

                                        ( - 3)2 = 0,

so  = 3 is the only characteristic root. Therefore we know that the solution
to the recurrence relation has the form

                                         = 3 + 3

for some constants  and . Now use the initial conditions:

                             0 = 1 = 30 +  · 0 · 30 = 
                             1 = 4 =  · 3 +  · 1 · 3 = 3 + 3.

Since  = 1, we find that  = 13 . Therefore the solution to the recurrence

relation is                              = 3 + 1 3.
                                                     3

Although we will not consider examples more complicated than these, this

characteristic root technique can be applied to much more complicated recurrence
relations. For example,  = 2-1 + -2 - 3-3 has characteristic polynomial
3 - 22 -  + 3. Assuming we see how to factor such a degree 3 (or more) polynomial,

we can easily find the characteristic roots and as such solve the recurrence relation
                                                          
(the  solution  would  look  like    =        +        +        if  there  were  3  distinct  roots).  It  is
                                           1        2        3
also possible that the characteristic roots are complex numbers.

    However, the characteristic root technique is only useful for solving recurrence
relations in a particular form:  is given as a linear combination of some number

of previous terms. These recurrence relations are called linear homogeneous

recurrence relations with constant coefficients. The "homogeneous" refers to the

fact that there is no additional term in the recurrence relation other than a multiple
of  terms. For example,  = 2-1 + 1 is non-homogeneous because of the additional

constant 1. There are general methods of solving such things, but we will not

consider them here, other than through the use of telescoping or iteration described

above.

                               4.4.4 Reading Questions

1. Which of the following recurrence relations would be good candidates to try
       the characteristic root technique on? Select all that apply

        A.  = 3-1 + -2

        B.  = -1 + 2-2 + 3-3

        C.  = 1 · 2 + 2 (-1)
                3            3

        D.  = -1 + 3-2 + 5
360 4. Sequences

          E. 2 - 3 - 1 = 0
2. At what step do you need to refer to the initial conditions when completing

       the characteristic root technique? What would happen if you didn't use these?
       Explain.
3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about.

                                4.4.5 Practice Problems

1. Find 6 + 30 + 150 + · · · + 6 · 519.
2. Find 1 - 47 + 16 49 - · · · + (-1) 4 37 37 737 .
3. Solve the recurrence relation  = -1 + 2 with 0 = -2.

            =
4. Find the solution to the recurrence relation  = 2-1 + 24-2 with initial

       terms 0 = 2 and 1 = 2.
            =

5. Find the solution to the recurrence relation  = -1 + 2-2 with initial terms
       0 = 2 and 1 = 1.
            =
           Find the solution to the recurrence relation  = -1 + 2-2 with initial
       terms 0 = 9 and 1 = 14.
            =

6. Find the solution to the recurrence relation  = -1 + 2-2 with initial terms
       0 = 4 and 1 = 17.
            =

                              4.4.6 Additional Exercises

1. Find the next two terms in ()0 beginning 3, 5, 11, 21, 43, 85 . . .. Then give
       a recursive definition for the sequence. Finally, use the characteristic root
       technique to find a closed formula for the sequence.

2. Consider the sequences 2, 5, 12, 29, 70, 169, 408, . . . (with 0 = 2).

         (a) Describe the rate of growth of this sequence.

         (b) Find a recursive definition for the sequence.

         (c) Find a closed formula for the sequence.

         (d) If you look at the sequence of differences between terms, and then the
              sequence of second differences, the sequence of third differences, and so
              on, will you ever get a constant sequence? Explain how you know.

3. Show that 4 is a solution to the recurrence relation  = 3-1 + 4-2.
                                                                                           4.4. Exponential Sequences 361

4. Suppose that  and  are both solutions to a recurrence relation of the form
        = -1 + -2. Prove that  ·  +  ·  is also a solution to the recurrence
       relation, for any constants , .

5. Think back to the magical candy machine at your neighborhood grocery store.
       Suppose that the first time a quarter is put into the machine 1 Skittle comes
       out. The second time, 4 Skittles, the third time 16 Skittles, the fourth time 64
       Skittles, etc.

         (a) Find both a recursive and closed formula for how many Skittles the nth
              customer gets.

         (b) Check your solution for the closed formula by solving the recurrence
              relation using the characteristic root technique.

6. Let  be the number of 1 ×  tile designs you can make using 1 × 1 squares
       available in 4 colors and 1 × 2 dominoes available in 5 colors.

         (a) First, find a recurrence relation to describe the problem. Explain why the
              recurrence relation is correct (in the context of the problem).

         (b) Write out the first 6 terms of the sequence 1, 2, . . ..

         (c) Solve the recurrence relation. That is, find a closed formula for .
7. You have access to 1 × 1 tiles which come in 2 different colors and 1 × 2 tiles

       which come in 3 different colors. We want to figure out how many different
       1 ×  path designs we can make out of these tiles.

         (a) Find a recursive definition for the sequence  of paths of length .

         (b) Solve the recurrence relation using the characteristic root technique.
8. Solve the recurrence relation  = 2-1 - -2.

         (a) What is the solution if the initial terms are 0 = 1 and 1 = 2?

         (b) What do the initial terms need to be in order for 9 = 30?

         (c) For which  are there initial terms which make 9 = ?
9. Consider the recurrence relation  = 4-1 - 4-2.

         (a) Find the general solution to the recurrence relation (beware the repeated
              root).

         (b) Find the solution when 0 = 1 and 1 = 2.

         (c) Find the solution when 0 = 1 and 1 = 8.
10. Here is a surprising use of sequences to answer a counting question: How

       many license plates consist of 6 symbols, using only the three numerals 1, 2,
       and 3 and the four letters a, b, c, and d, so that no numeral appears after any
362 4. Sequences

       letter? For example, "31ddac", "123321", and "ababab" are each acceptable
       license plates, but "13ba2c" is not.

         (a) First answer this question by considering different cases: how many of
              the license plates contain no numerals? How many contain one numeral,
              etc.

         (b) Now use the techniques of this section to show why the answer is 47 - 37.
                        4.5 Proof by Induction

       Objectives

     After completing this section, you should be able to do the following.
         1. Identify the parts of a proof by mathematical induction and how they
             relate to the statement being proved.
         2. Prove statements using mathematical induction.
         3. Explain why a proof by mathematical induction is valid.

                                  4.5.1 Section Preview

       Investigate!

     What is the unit digit (the right-most digit) of 6? Does the answer depend
     on ?

    Mathematical induction is a powerful proof technique that can be used to prove
statements are true for a sequence of statements, as long as that sequence of statements
has some starting place. For example, if we are trying to say something about the
unit digit of 6, we are making that claim for  = 1, then  = 2, then  = 3, and so
on.

    Induction is closely related to recursive definitions; the main idea in a proof by
induction is to explain how you can get from one statement in the sequence to the
next.

                                           Preview Activity
1. Suppose that 6472 had a 2 for its unit digit. That is, suppose 6472 =

       19, 381, 6 . . . . . . 2. What would the unit digit of 6473 be?
       Hint. 6473 = 6 · 6472.
2. What is the unit digit of 62, of 63, and of 64?
3. Which of the following are true? Select all that apply.

          A. If the unit's digit of 6 is a 6, then the unit's digit of 6+1 is a 6.
          B. If the unit's digit of 6 is a 2, then the unit's digit of 6+1 is a 2.
          C. The unit's digit of 6472 is a 2.
          D. The unit's digit of 6472 is a 6.

                                                    363
364 4. Sequences

4. Explain your answer to the previous question.

                              4.5.2 Recursive Reasoning

We have seen that describing a sequence recursively can often be easier than
describing the sequence with a closed formula. We will now see how using similar
recursive reasoning can help us prove statements using a proof technique called
mathematical induction. This style of proof is especially useful when the different
instances of the statement (for different values of , say) are related recursively.

    For example, suppose we wanted to prove a fact about all the terms in a sequence
for which we have a recursive definition. Consider the sequence ()0 defined
recursively by  = 3-1 - 2 with 0 = 5. Could we prove that every term in this
sequence is odd?

    Let's start by writing out the first few terms of the sequence:

                                           5, 13, 37, 109, . . . .

So far, all these numbers look odd. Will the next number be odd? Of course, we
could just compute it using the recurrence relation. We would take 3 · 109 - 2. We
don't actually care which odd number this is, just that it is, in fact, odd. We know it
will be odd because the product of two odd numbers is odd, and subtracting 2 from
an odd number results in an odd number.

    Great, so 4 is odd. Will 5 be odd too? Yes, use the same argument as above:
5 = 34 - 2. We just convinced ourselves that 4 is odd (without finding its actual
value), so 34 is odd, and 2 less than it will be odd too.

    What about 6? Do the same thing. In fact, why are we using any particular
number as the index? If it is the same argument each time, we should be able to just
give this argument once and say it always works.

    Suppose we have found that  is odd (where  is some arbitrary natural number).
From this, we can find that +1 is odd, since +1 = 3 - 2, and 3 times the odd
number  will be odd, and subtracting 2 will result in an odd number. Yay. Let's
put this all together as a proof.
Proof. We claim that for any   0, the number  is odd, where  = 3-1 - 2
and 0 = 5.

    When  = 0, the claim is true, since 0 = 5 is an odd number.
    Further, we can prove that every larger  has  odd because as long as  is
odd, so is +1 (since +1 = 3 - 2, and 3 times an odd number minus 2 is always
odd).
    Therefore  is odd for all   0.
    Soon we will give a more rigid structure for proofs by induction, but the basic
idea is exactly what we have above.

                               4.5.3 Formalizing Proofs

Induction can prove many statements that hold for all natural numbers, not just
statements about sequences. In particular, induction should be used when there is
                                         4.5. Proof by Induction 365

some way to go from one case to the next - when you can see how to always "do

one more."

Thinking about how we write statements in logical symbols, we will use induction

to prove statements of the form

                                 (),

where the domain of discourse (the values of  we quantify over) has some least
element. Say that domain of discourse is the natural numbers. We are then proving
this sequence of statements:

            (0), (1), (2), (3), . . . .

 The way we do this with induction is to prove a base case, that (0) is true (or
() where  is the least element of our domain of discourse). Next, we prove the
inductive case, that ()  ( + 1) for all   0 (or   ).

    Together, these are enough to prove () is true for all . How do we know?
That is, why is this style of proof valid? Well, let's convince ourselves that (3) is
true. We know (0) is true. And because we know that (0)  (1), we then also
know that (1) is true. Because (1)  (2), we then get that (2) is true. Finally,
because (2)  (3), we have that (3). There is nothing special about 3 here. We
could have gone up as far as we like, to any  value!

    Think of a row of dominoes set up standing on their edges. We want to argue

that in a minute, all the dominoes will have fallen. For this to happen, you will

need to push the first domino. That is the base case. It will also have to be that the

dominoes are close enough together that when any particular domino falls, it will

cause the next domino to fall. That is the inductive case. If both of these conditions

are met - you push the first domino over, and each domino will cause the next to

fall - then all the dominoes will fall.

    Induction is powerful! Think how much easier it is to knock over dominoes

when you don't have to push over each domino yourself. You just start the chain

reaction and then rely on the relative nearness of the dominoes to take care of the

rest.

    When writing a proof by induction, we will follow a standard style. Writing in

this style allows us to keep our ideas organized and might even help us formulate

the proof.

    Here is the general structure of a proof by mathematical induction:

 Induction Proof Structure.

    Start by saying what the statement is that you want to prove: "Let () be
the statement. . . ." To prove that () is true for all   0, you must prove
two facts:

   1. Base case: Prove that (0) is true. You do this directly. This is often easy.

   2. Inductive case: Prove that ()  ( + 1) for all   0. That is, prove
       that for any   0 if () is true, then ( + 1) is true as well. This is
       the proof of an if . . . then . . . statement, so you can assume () is
366 4. Sequences

           true (() is called the inductive hypothesis). You must then explain why
            ( + 1) is also true, given that assumption.

         Assuming you are successful on both parts above, you can conclude,
   "Therefore by the principle of mathematical induction, the statement () is
    true for all   0."

    Sometimes the statement () will only be true for values of   4, for example,
or some other value. In such cases, replace all the 0's above with 4's (or the other
value).

    Before attempting to prove a statement by mathematical induction, first think
about why the statement is true using inductive reasoning. Explain why induction is
the right thing to do, and roughly why the inductive case will work. Then, sit down
and write out a careful, formal proof using the structure above.

                                       4.5.4 Examples

Here are some examples of proof by mathematical induction.

  Example 4.5.1

    Prove for each natural number   1 that 1 + 2 + 3 + · · · +  = 2 (+1) .
    Solution. First, let's think inductively about this equation. In fact, we know
    this is true for other reasons (reverse and add comes to mind). But why might
    induction be applicable? The left-hand side adds up the numbers from 1
    to . If we know how to do that, adding just one more term ( + 1) would
    not be that hard. For example, if  = 100, suppose we know that the sum of
    the first 100 numbers is 5050 (so 1 + 2 + 3 + · · · + 100 = 5050, which is true).
    Now to find the sum of the first 101 numbers, it makes more sense to just
    add 101 to 5050, instead of computing the entire sum again. We would have
    1 + 2 + 3 + · · · + 100 + 101 = 5050 + 101 = 5151. In fact, it would always be
    easy to add just one more term. This is why we should use induction.

         Now the formal proof:
    Proof. Let () be the statement 1 + 2 + 3 + · · · +  = 2 (+1) . We will show
    that () is true for all natural numbers   1.

         Base case: (1) is the statement 1 = 2 1(1+1) which is clearly true.
         Inductive case: Let   1 be a natural number. Assume (for induction) that
    () is true. That means 1 + 2 + 3 + · · · +  = 2 (+1) . We will prove that ( + 1)
    is true as well. That is, we must prove that 1 + 2 + 3 + · · · +  + ( + 1) = 2 (+1)(+2) .
    To prove this equation, start by adding  + 1 to both sides of the inductive
                                                  4.5. Proof by Induction 367

hypothesis:

             1 + 2 + 3 + · · · +  + ( + 1) = ( + 1) + ( + 1).
                                                        2

Now, simplifying the right side we get:

             ( + 1) +  + 1 = ( + 1) + 2( + 1)
             2                        2        2
                = ( + 1) + 2( + 1)
                                            2
                = ( + 2)( + 1) .
                                         2

Thus ( + 1) is true, so by the principle of mathematical induction, ()

is true for all natural numbers   1.                           

    Note that in the part of the proof where we proved ( + 1) from (), we
used the equation (). This was the inductive hypothesis. Seeing how to use the
inductive hypotheses is usually straightforward when proving a fact about a sum
like this. In other proofs, it can be less obvious where it fits in.

  Example 4.5.2

    Prove that for all   , 6 - 1 is a multiple of 5.

    Solution. Again, start by understanding the dynamics of the problem. What
    does increasing  do? Let's try with a few examples. If  = 1, then yes,
    61 - 1 = 5 is a multiple of 5. What does incrementing  to 2 look like? We
    get 62 - 1 = 35, which again is a multiple of 5. Next,  = 3: But instead of
    just finding 63 - 1, what did the increase in  do? We will still subtract 1,
    but now we are multiplying by another 6 first. Viewed another way, we are
    multiplying a number that is one more than a multiple of 5 by 6 (because
    62 - 1 is a multiple of 5, so 62 is one more than a multiple of 5). What do
    numbers that are one more than a multiple of 5 look like? They must have
    last digit 1 or 6. What happens when you multiply such a number by 6? It
    depends on the number, but in any case, the last digit of the new number
    must be a 6. And then if you subtract 1, you get last digit 5, so a multiple of 5.

         The point is, every time we multiply by just one more six, we still get a
    number with last digit 6, so subtracting 1 gives us a multiple of 5. Now the
    formal proof:
    Proof. Let () be the statement, "6 - 1 is a multiple of 5." We will prove
    that () is true for all   .

         Base case: (0) is true: 60 - 1 = 0, which is a multiple of 5.
         Inductive case: Let  be an arbitrary natural number. Assume, for
368 4. Sequences

induction, that () is true. That is, 6 - 1 is a multiple of 5. Then 6 - 1 = 5
for some integer . This means that 6 = 5 + 1. Multiply both sides by 6:

                                 6+1 = 6(5 + 1) = 30 + 6.
    But we want to know about 6+1 - 1, so subtract 1 from both sides:

                                      6+1 - 1 = 30 + 5.

    Of course 30 + 5 = 5(6 + 1), so is a multiple of 5.
    Therefore 6+1 - 1 is a multiple of 5, or in other words, ( + 1) is true.
Thus, by the principle of mathematical induction () is true for all   . 

    We had to be a little bit clever (i.e., use some algebra) to locate the 6 - 1 inside
of 6+1 - 1 before we could apply the inductive hypothesis. This is what can make

inductive proofs challenging.
    In the two examples above, we started with  = 1 or  = 0. We can start later if

we need to.

Example 4.5.3

Prove that 2 < 2 for all integers   5.

Solution. First, the idea of the argument. What happens when we increase
 by 1? On the left-hand side, we increase the base of the square and go to

the next square number. On the right-hand side, we increase the power of 2.

This means we double the number. So the question is, how does doubling

a number relate to increasing to the next square? Think about what the
difference of two consecutive squares looks like. We have ( + 1)2 - 2. This

factors:

                  ( + 1)2 - 2 = ( + 1 - )( + 1 + ) = 2 + 1.

    But doubling the right-hand side increases it by 2, since 2+1 = 2 + 2.
When  is large enough, 2 > 2 + 1.

    What we are saying here is that each time  increases, the left-hand side

grows by less than the right-hand side. So if the left-hand side starts smaller
(as it does when  = 5), it will never catch up. Now the formal proof:

Proof. Let () be the statement 2 < 2. We will prove () is true for all
integers   5.

    Base case: (5) is the statement 52 < 25. Since 52 = 25 and 25 = 32, we see
that (5) is indeed true.

    Inductive case: Let   5 be an arbitrary integer. Assume, for induction,
that () is true. That is, assume 2 < 2. We will prove that ( + 1) is true,
i.e., ( + 1)2 < 2+1. To prove such an inequality, start with the left-hand side
                                       4.5. Proof by Induction 369

and work towards the right-hand side:

( + 1)2 = 2 + 2 + 1      . . . by the inductive hypothesis.
          < 2 + 2 + 1     . . . since 2 + 1 < 2 for   5.
          < 2 + 2
          = 2+1.

Following the equalities and inequalities through, we get ( + 1)2 < 2+1,

in other words, ( + 1). Therefore by the principle of mathematical induction,

() is true for all   5.                                      

    The previous example might remind you of the racetrack principle from calculus,
which says that if  () < (), and  () < () for  > , then  () < () for
 > . Same idea: the larger function is increasing more than the smaller function,
so the larger function will stay larger. In discrete math, we don't have derivatives, so
we look at differences. Thus induction is the way to go.

A Warning. With great power, comes great responsibility. Induction isn't magic.
It seems very powerful to be able to assume () is true. After all, we are trying
to prove () is true, and the only difference is in the variable:  vs. . Are we
assuming that what we want to prove is true? Not really. We assume () is true
only for the sake of proving that ( + 1) is true.

    Still you might start to believe that you can prove anything with induction.
Consider this incorrect "proof" that every Canadian has the same eye color: Let
() be the statement that any  Canadians have the same eye color. (1) is true,
since everyone has the same eye color as themselves. Now assume () is true. That
is, assume that in any group of  Canadians, everyone has the same eye color. Now
consider an arbitrary group of  + 1 Canadians. The first  of these must all have the
same eye color, since () is true. Also, the last  of these must have the same eye
color, since () is true. So in fact, everyone in the group must have the same eye
color. Thus ( + 1) is true. So by the principle of mathematical induction, () is
true for all .

    Clearly something went wrong. The problem is that the proof that () implies
( + 1) assumes that   2. We have only shown (1) is true. In fact, (2) is false.
Try this: read through the previous paragraph again, substituting 1 for each . Can
you spot the error in that argument?

                               4.5.5 Reading Questions

1. Suppose you wanted to prove, using mathematical induction, that 1 + 3 + 5 +
       · · · + 2 - 1 = 2 for all values of   1. Which of the following would be an
       appropriate first line of the proof? Select all that apply.

          A. Let () be the statement "1 + 3 + 5 + · · · + 2 - 1 = 2."
370 4. Sequences

    B. For each   1, let () be the statement, "the sum of the first  odd
        numbers is 2."

    C. Assume 1 + 3 + · · · + 2 - 1 = 2 for all   1.

    D. Let () be the statement, "1 + 3 + · · · + 2 - 1 = 2 for all   1."

    E. Since (1) = 1 = 12, the base case is true.

2.  Suppose you wanted to prove that (, 3)            for all   4. Write the first
                                                   3

    line of a proof by induction.

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                4.5.6 Practice Problems

1. Suppose you are trying to prove, by mathematical induction, that a statement
       () is true for all   0. What would you attempt to prove in the induction
       step of the proof? (Select all that apply.)

          A. That assuming () is true for an arbitrary   0, we can prove that
              ( + 1) is true.

          B. That () implies ( + 1) for all   0.
          C. That assuming ( + 1) is true for an arbitrary   0, we can prove that

              () is true.
          D. That ( + 1) implies () for all   0.
          E. That () implies ( + 1) for at least one   0.
2. Suppose you wanted to prove the following statement:

                              2 + 4 + 6 + · · · + 2 = ( + 1) for all   1.

      What would the first line of a proof by induction be?

          A. Let () be the statement "2 + 4 + 6 + · · · + 2 = ( + 1)."
          B. Let () be the statement "2 + 4 + 6 + · · · + 2 = ( - 1) for all   1."
          C. Assume () is true for all   1.
          D. Let () = 2 + 4 + 6 + · · · + 2.
          E. Suppose () = ( + 1) for all   1.
3. Suppose you were proving the following statement by mathematical induction:

                              2 + 4 + 6 + · · · + 2 = ( + 1) for all   1.
                                                                                               4.5. Proof by Induction 371

      What would you need to show to establish the base case?

          A. Show that (1) is true. That is, show that 2 = 1(1 + 1).
          B. Show that (2) is true. That is, show that 2 + 4 = 2(2 + 1).
          C. Show that (1) and (2) are both true.
          D. Show that (1) implies (2).
          E. Nothing, since the sum already has more than  = 1 terms.
4. Suppose you were proving the following statement by mathematical induction:

                              2 + 4 + 6 + · · · + 2 = ( + 1) for all   1.

      What would the first line of the inductive case be?

          A. Assume () is true for some arbitrary   1, that is, assume 2 + 4 + 6 +
              · · · + 2 = ( + 1).

          B. Assume () is true for all   1, that is, assume 2+4+6+· · ·+2 = ( +1).
          C. Assume () implies ( + 1) for an arbitrary   1.
          D. Assume () is true for some large   1; say, assume 2 + 4 + 6 + · · · + 432 =

              216(217).
5. Arrange some of the statements below to create a correct proof by induction

       that the recurrence relation  = 5-1 + 4, with initial condition 0 = 0 has
       closed formula  = 5 - 1.

           · This simplifies to +1 = 5+1 - 5 + 4 = 5+1 - 1, so ( + 1) is true.
           · Therefore, by the principle of mathematical induction, () is true for all

                0.
           · Now assume that ( + 1) is true for an arbitrary integer   0.
           · Then +1 = 5 + 4, so ( + 1) is true.
           · Then  = 5 - 1.
           · Let () be the statement, " = 5 - 1".
           · By the recurrence relation, we have +1 = 5 + 4 = 5(5 - 1) + 4.
           · Note that 0 = 50 - 1 = 0, so (0) is true.
           · Now assume that () is true for an arbitrary integer   0.
372 4. Sequences

6. Arrange some of the statements below to create a correct proof by induction
       that for all   1, the number 14 - 1 is a multiple of 13.

           · Then 14 - 1 = 13 ·  for some integer .

           · Therefore, by the principle of mathematical induction, () is true for all
                1.

           · Note that 142 - 1 = (14 - 1)(14 + 1) by difference of squares, so this is a
              multiple of 13.

           · Now assume that () is true for all   1.
           · Thus 14 = 14 14+1-1 , which must also be a multiple of 13.
           · Since 14+1 - 1 = 14(14 - 1) + 14 - 1 = 14(13 · ) + 13, we see that 14+1 - 1

              is a multiple of 13.
           · Let () be the statement, "14 - 1 is a multiple of 13."

           · Thus ( + 1) is true.

           · Note that 141 - 1 = 13, so this is definitely a multiple of 13.

           · Now assume that () is true for an arbitrary integers   1.
7. Arrange some of the statements below to create a correct proof by induction

       that for all   1, 1 + 1 + 2 + 3 + 5 + · · · +  = +2 - 1, where  is the th
       Fibonacci number.

           · By the definition of Fibonacci numbers, +1 + +2 = +3, so the right-
              hand side simplifies to +3 - 1.

           · Then by the inductive hypothesis, 1 + 1 + 2 + 3 + · · · + +1 = +2 - 1.
           · That is, assume 1 + 1 + 2 + 3 + 5 +  = +2 - 1.
           · For the base case, note that 1 + 1 + 2 = 4 = 5 - 1.
           · Let () be the statement, "1 + 1 + 2 + 3 + 5 + · · · +  = +2 - 1."
           · Thus ( + 1) is true, and therefore by the principle of mathematical

              induction, () is true for all   1.
           · Then adding +1 to both sides, we get 1 + 1 + 2 + 3 + 5 + · · · +  + +1 =

              +1 + +2 - 1.
           · For the base case, note that (1) and (2) are true, because 1 = 2 - 1 and

              1 + 1 = 3 - 1.
           · Now assume that () is true for an arbitrary integer   2.
           · Subtracting +1 from both sides gives us (), which we also assumed

              to be true.
                                                                                               4.5. Proof by Induction 373

                              4.5.7 Additional Exercises

1. On the way to the market, you exchange your cow for some magic dark
       chocolate espresso beans. These beans have the property that every night at
       midnight, each bean splits into two, effectively doubling your collection. You
       decide to take advantage of this, and each morning (around 8 am) you eat 5
       beans.

         (a) Explain why it is true that if at noon on day  you have a number of beans
              ending in a 5, then at noon on day  + 1 you will still have a number of
              beans ending in a 5.

         (b) Why is the previous fact not enough to conclude that you will always
              have a number of beans ending in a 5? What additional fact would you
              need?

         (c) Assuming you have the additional fact in part (b), and have successfully
              proved the fact in part (a), how do you know that you will always have a
              number of beans ending in a 5? Illustrate what is going on by carefully
              explaining how the two facts above prove that you will have a number
              of beans ending in a 5 on day 4 specifically. In other words, explain why
              induction works in this context.

                                                                                      

2. Use induction to prove for all    that 2 = 2+1 - 1.

                                                                                    =0

3. Prove that 7 - 1 is a multiple of 6 for all   .

4. Prove that 1 + 3 + 5 + · · · + (2 - 1) = 2 for all   1.
5. Prove that 0 + 2 + 4 + · · · + 2 = 2+1 - 1 where  is the th Fibonacci

       number.
6. Prove that 2 < ! for all   4. (Recall, ! = 1 · 2 · 3 · · · · · .)
7. Prove, by mathematical induction, that 0 + 1 + 2 + · · · +  = +2 - 1, where

        is the th Fibonacci number (0 = 0, 1 = 1 and  = -1 + -2).
8. Zombie Euler and Zombie Cauchy, two famous zombie mathematicians, have

       just signed up for Myspace accounts. After one day, Zombie Cauchy has
       more followers than Zombie Euler. Each day after that, the number of new
       followers of Zombie Cauchy is exactly the same as the number of new followers
       of Zombie Euler (and neither lose any followers). Explain how a proof by
       mathematical induction can show that on every day after the first day, Zombie
       Cauchy will have more followers than Zombie Euler. That is, explain what the
       base case and inductive case are, and why they together prove that Zombie
       Cauchy will have more followers on the 4th day.

9. Find the largest number of points that it is impossible for a football team to
       get exactly, using just 3-point field goals and 7-point touchdowns (ignore the
       possibilities of safeties, missed extra points, and two-point conversions). Prove
374 4. Sequences

       your answer is correct by mathematical induction.

10. Prove that the sum of  squares can be found as follows

                               12 + 22 + 32 + · · · + 2 = ( + 1)(2 + 1) .
                                                                         6

11. Prove that the sum of the interior angles of a convex -gon is ( - 2) · 180. (A
       convex -gon is a polygon with  sides for which each interior angle is less
       than 180.)

12. What is wrong with the following "proof" of the "fact" that  + 3 =  + 7 for
       all values of  (besides of course that the thing it is claiming to prove is false)?

       Proof. Let () be the statement that  + 3 =  + 7. We will prove that
      () is true for all   . Assume, for induction, that () is true. That is,
        + 3 =  + 7. We must show that ( + 1) is true. Now since  + 3 =  + 7, add 1
       to both sides. This gives  +3+1 =  +7+1. Regrouping ( +1)+3 = ( +1)+7.
       But this is simply ( + 1). Thus by the principle of mathematical induction
      () is true for all   .

13. The proof in the previous problem does not work. But if we modify the "fact,"
      we can get a working proof. Prove that  + 3 <  + 7 for all values of   .
       You can do this proof with algebra (without induction), but the goal of this
       exercise is to write out a valid induction proof.

14. Find the flaw in the following "proof" of the "fact" that  < 100 for every
        .

       Proof. Let () be the statement  < 100. We will prove () is true for all
        . First we establish the base case: when  = 0, () is true, because
       0 < 100. Now for the inductive step, assume () is true. That is,  < 100.
       Now if  < 100, then  is some number, like 80. Of course 80 + 1 = 81 which
       is still less than 100. So  + 1 < 100 as well. But this is what ( + 1) claims, so
      we have shown that ()  ( + 1). Thus by the principle of mathematical
      induction, () is true for all   .

15. While the above proof does not work (it better not since the statement it is
       trying to prove is false!) we can prove something similar. Prove that there is a
       strictly increasing sequence 1, 2, 3, . . . of numbers (not necessarily integers)
      such that  < 100 for all   . (By strictly increasing we mean  < +1 for
       all . So each term must be larger than the last.)

16. What is wrong with the following "proof" of the "fact" that for all   , the
       number 2 +  is odd?
                                                           4.5. Proof by Induction 375

     Proof. Let () be the statement "2 +  is odd." We will prove that ()
     is true for all   . Suppose, for induction, that () is true, that is, that
     2 +  is odd. Now consider the statement ( + 1). Now ( + 1)2 + ( + 1) =
     2 + 2 + 1 +  + 1 = 2 +  + 2 + 2. By the inductive hypothesis, 2 +  is
     odd, and of course 2 + 2 is even. An odd plus an even is always odd, so
     therefore ( + 1)2 + ( + 1) is odd. Therefore by the principle of mathematical
     induction, () is true for all   .

17. Now give a valid proof (by induction, even though you might be able to do so
      without using induction) of the statement, "For all   , the number 2 +  is

       even."
18. Prove that there is a sequence of positive real numbers 0, 1, 2, . . . such that

      the partial sum 0 + 1 + 2 + · · · +  is strictly less than 2 for all   . Hint:
       Think about how you could define what +1 is to make the induction argument
       work.
19. Use induction to prove that if  people all shake hands with each other, that
       the total number of handshakes is 2 (-1) .
 20. Use induction to prove that  = 2. That is, the sum of the th row of

                                                    

                                                              =0

       Pascal's triangle is 2.

21.  Use induction to prove  4  +   5  +  6  +···+  4+  =  5+  .  (This is an example
                             0      1     2                 

     of the hockey stick theorem.)

22. Use the product rule for logarithms (log() = log() + log()) to prove, by
       induction on , that log() =  log(), for all natural numbers   2.

23. Let 1, 2, . . . ,  be differentiable functions. Prove, using induction, that

                                 ( 1 + 2 + · · · + ) = 1 + 2 + · · · + .

           You may assume (  + ) =   +  for any differentiable functions  and .
24. Suppose 1, 2, . . . ,  are differentiable functions. Use mathematical induction

       to prove the generalized product rule:

     ( 1 2 3 · · · ) = 1 2 3 · · ·  + 1 2 3 · · ·  + 1 2 3 · · ·  + · · · + 1 2 3 · · · .

           You may assume the product rule for two functions is true.
25. In Exercises 1.3.8 we proved that the following is a valid deduction rule:

                                            
                                            
                                        

     Now use mathematical induction to prove you can chain together any number
     of statements like this. That is, prove for any  that the following is a valid

     deduction rule:
376 4. Sequences

                         1  2
                         2  3

                              ..
                              .

                       -1  
                   1  .
                         4.6 Strong Induction

       Objectives

     After completing this section, you should be able to do the following.

         1. Explain the difference between proof by induction and proof by strong
             induction.

         2. Use strong induction to prove statements.

                                  4.6.1 Section Preview

       Investigate!

     Start with a square piece of paper. You want to cut this square into smaller
     squares, leaving no waste (every piece of paper you end up with must be a
     square). Obviously it is possible to cut the square into 4 squares. You can
     also cut it into 9 squares. It turns out you can cut the square into 7 squares
     (although not all the same size). What other numbers of squares could you
     end up with?

    Sometimes, to prove that ( + 1) is true, it would be helpful to know that
() and ( - 1) and ( - 2) are all true. This is certainly the case when proving
something about a recurrence relation that is given as a combination of two previous
terms.

  Example 4.6.1
    Prove that 2 is a solution to the recurrence relation  = 5-1 - 6-2 with
    initial conditions 0 = 1 and 1 = 2.
    Solution.
    Proof. Let () be the statement, " = 2." We will show this is true for all
      0.
         Base cases: 0 = 20 = 1 and 1 = 21 = 2 both agree with the initial
    conditions.
         Inductive case: Let   2 be arbitrary. Assume () and ( - 1) are both
    true. That is, assume  = 2 and -1 = 2-1. We will show that ( + 1) is
    true. Consider +1. We have
                                       +1 =5 - 6-1
                                             =5 · 2 - 6 · 2-1

                                                    377
378 4. Sequences

                                  =10 · 2-1 - 6 · 2-1
                                  =4 · 2-1
                                  =2+1.

Therefore, by the principle of mathematical induction, () is true for all

  0.                                                             

    Well, almost the principle of mathematical induction. Is what we did
okay?

    There are also times when we might want to go even farther back to use an
assumption that () is true for  much smaller than  + 1. This is the idea behind

strong induction and the topic of this short section.

                                  Preview Activity

1. Consider the following puzzle:
           You have a rectangular chocolate bar, made up of  identical squares of

       chocolate. You can take such a bar and break it along any row or column. How
       many times will you have to break the bar to reduce it to  single chocolate
       squares?

           At first, this question might seem impossible. Perhaps we meant to ask for
       the smallest number of breaks needed. Let's investigate.

         (a) Suppose you started with a 1 × 3 bar. How many breaks would you need
              to reduce it to single squares?

(b) If you had a 1 × 4 bar, how many breaks are required?

      If you had 4 squares arranged in a 2 × 2 square, your first break would

      require you to break the chocolate into two 1 × 2 bars. Then each of these

      would require               more break(s), for a total of  breaks to go from

      the 2 × 2 to single squares.

(c) A 6-square bar could either be a 1 × 6 bar, requiring        breaks, or a
    2 × 3 bar.

    There are two ways to proceed now.

      a. Break the bar into two 1 × 3 bars, each requiring       more breaks,

                  for a total of  breaks.

      b. Break the bar into a 1 × 2 bar and a 2 × 2 bar. The 1 × 2 bar takes

                    more break(s) and the 2 × 2 bar takes        more break(s), for

                  a total of      breaks.

(d) Based on the above data, what should our conjecture be for the number
     of breaks to reduce an -square bar to single squares, in terms of ?

      It will take                breaks to reduce an -square bar to single squares.
                4.6. Strong Induction 379

(e) Do we believe this? Suppose you used one break to reduce the bar into
     two smaller bars, with  and  squares respectively. If the conjecture is
     correct, how many more breaks will it take to reduce the size  bar?

How many more breaks will it take to reduce the size  bar?

How many breaks is this all together, in terms of  and , including the

initial break?

But what is  + ? We got  and  by breaking the  squares in two pieces,

so  +  =        . This gives us a total number of breaks as  .

                              4.6.2 Divide and Conquer

Think of recursive definitions as instructions for building a ladder. You can build
the ladder as tall as you like because you have instructions for building the next
rung, as long as you are standing on the rung before it.

    Induction is the corresponding proof technique. To prove that you can climb the
ladder as high as you like, you prove that you can step onto the ladder (the base
case) and then prove that, from any rung, you can get to the next rung (the inductive
step).

    More specifically, suppose you were trying to prove that you can get to rung 4 on
the ladder. You have successfully proved that you can get to rung 1, and that from
any rung, you can get to the next. So you can get to rung 1, and from 1 you can get to
2. From 2 you can get to 3, and from 3 you can get to 4. Therefore, you can get to 4.

    But notice that along the way, you know you have visited rungs 1 through 3. We
might as well assume that we have visited all the rungs below the next one we are
trying to reach. This is the idea behind strong induction.

    A better ladder metaphor for strong induction is to think of ladders as things we
can stack on top of each other. We want to argue that it is possible to climb 20 rungs
of a ladder. Let's divide that into two smaller ladders, say a 12-rung ladder and an
8-rung ladder. We can assume that we can climb both of these since 20 is the least
size we are not yet convinced of. Well, put those two ladders together, and you get
12 + 8 = 20 rungs.

    We better climb down from our shaky metaphor before we hurt ourselves. Let's
look at a formal definition of strong induction.

     Strong Induction Proof Structure.

         Start by saying what we want to prove: "Let () be the statement. . . ."
    Then establish two facts:

        1. Base case: Prove that (0) is true. (Perhaps also prove other needed
            base cases.)

        2. Inductive case: Assume () is true for all   . Prove that ( + 1) is
            true.

    Conclude, "Therefore, by strong induction, () is true for all  > 0."
380 4. Sequences

    Of course, it is acceptable to replace 0 with a larger base case if needed.2
    To illustrate strong induction, let's return to the chocolate bar problem.

     Proposition 4.6.2

    Given an -square rectangular chocolate bar, it always takes  - 1 breaks to reduce
    the bar to single squares.

Proof. Let () be the statement, "It takes  - 1 breaks to reduce a -square
chocolate bar to single squares."

    Base case: Consider (2). The squares must be arranged into a 1 × 2 rectangle,
and we require 2 - 1 = 1 breaks to reduce this to single squares.

    Inductive case: Fix an arbitrary   2 and assume () is true for all   .
Consider a ( + 1)-square rectangular chocolate bar. Break the bar once along any
row or column. This results in two chocolate bars, say of sizes  and  . That is, we
have an -square rectangular chocolate bar, a -square rectangular chocolate bar,
and  +  =  + 1.

    We also know that    and   , so by our inductive hypothesis, () and
() are true. To reduce the -square bar to single squares takes  - 1 breaks; to
reduce the -square bar to single squares takes  - 1 breaks. Doing this results in
our original bar being reduced to single squares. All together it took the initial
break, plus the  - 1 and  - 1 breaks, for a total of

                         1+-1+-1=+-1= +1-1= 

breaks. Thus ( + 1) is true.
    Therefore, by strong induction, () is true for all   2.
    Here is a more mathematically relevant example:

  Example 4.6.3

    Prove that any natural number greater than 1 is either prime or can be written
    as the product of primes.
    Solution. First, the idea: If we take some number , maybe it is prime. If so,
    we are done. If not, then it is composite, so it is the product of two smaller
    numbers. Each of these factors is smaller than  (but at least 2), so we can
    repeat the argument with these numbers. We have reduced to a smaller case.

         Now the formal proof:
    Proof. Let () be the statement, " is either prime or can be written as the
    product of primes." We will prove () is true for all   2.

    2Technically, strong induction does not require you to prove a separate base case. This is because
when proving the inductive case, you must show that (0) is true, assuming () is true for all  < 0.
But this is not any help so you end up proving (0) anyway. To be on the safe side, we will always
include the base case separately.
                                                   4.6. Strong Induction 381

Base case: (2) is true because 2 is indeed prime.

Inductive case: assume () is true for all   . We want to show that

( + 1) is true. That is, we want to show that  + 1 is either prime or is the

product of primes. If  + 1 is prime, we are done. If not, then  + 1 has more

than 2 divisors, so we can write  + 1 = 1 · 2, with 1 and 2 less than
 + 1 (and greater than 1). By the inductive hypothesis, 1 and 2 are each

either prime or can be written as the product of primes. In either case, we

have that 1 · 2 =  + 1 can be written as the product of primes.
Thus by strong induction, () is true for all   2.
                                                                 

    Whether you use regular induction or strong induction depends on the statement
you want to prove. If you wanted to be safe, you could always use strong induction.
It really is stronger, so can accomplish everything "weak" induction can. That said,
using regular induction is often easier since there is only one place you can use the
induction hypothesis. There is also something to be said for elegance in proofs. If
you can prove a statement using simpler tools, it is nice to do so.

                               4.6.3 Reading Questions

1. True or false: To prove the inductive case of a proof by strong induction, you
       should assume ( + 1) is true and prove that () is true for all   .

2. Which of the following claims about the relationship between proof by induction
       and proof by strong induction are true?

          A. Any proof by induction can be written as a proof by strong induction.

          B. Any proof by strong induction can be written as a proof by induction.

          C. Strong induction is "stronger" because the base case is stronger.

          D. Strong induction is "stronger" because the inductive hypothesis is
              stronger.

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                4.6.4 Practice Problems

1. Suppose you are trying to prove, by strong induction, that a statement () is
       true for all   0. What would you attempt to prove in the induction step of the
       proof? (Select all that apply.)

          A. That assuming () is true for all   , for an arbitrary   0, we can
              prove that ( + 1) is true.

          B. That ((0)  (1)  · · ·  ()) implies ( + 1) for all   0.
382 4. Sequences

          C. That assuming ( + 1) is true for an arbitrary   0, we can prove that
              () is true for all   .

          D. That ( + 1) implies () for all   .

          E. That ( - 2) implies ( + 1) for at least one   0.
2. A simpler version of the chocolate bar problem is as follows: Suppose you have

       a chocolate bar that is  squares long. You can break the chocolate bar into
       two pieces by making a single straight break across the bar. No matter where
       you make the breaks, you will break the chocolate bar into  pieces by making
        - 1 breaks.

           Arrange some of the following statements in the correct order to form a
       proof of this claim by strong induction.

           · Assume that () is true for all    for an arbitrary   1.

           · Therefore, by the principle of strong induction, () is true for all   1.

           · (1) is true because a chocolate bar that is 1 square long is already in one
              piece.

           · Consider a chocolate bar that is  + 1 squares long.

           · Let () be the statement that a chocolate bar that is  squares long can
              be broken into  pieces by making  - 1 breaks.

           · Anywhere you break this bar will result in two smaller bars, say of length
               and .

           · The total number of breaks is therefore  - 1 +  - 1 + 1 =  +  - 1, which
              is  + 1 - 1 = .

           · Since  and  are no more than , it will be possible to break these smaller
              bars into single squares using  - 1 and  - 1 breaks, respectively.

                              4.6.5 Additional Exercises

1. Suppose a football team only scores 3-point field goals and 7-point touchdowns
       (ignore the possibilities of safeties, missed extra points, and two-point conver-
       sions). Prove, using strong induction, that the team can get any number of
       points, 12 points or greater.

2. Prove using strong induction that the sum of the interior angles of a convex
       -gon is ( - 2) · 180. (A convex -gon is a polygon with  sides for which
       each interior angle is less than 180.)

3. Prove that every positive integer is either a power of 2 or can be written as the
       sum of distinct powers of 2.
                                                                         4.6. Strong Induction 383

4. Prove, using strong induction, that every natural number is either a Fibonacci
       number or can be written as the sum of distinct Fibonacci numbers.

5. We have previously proved that for any tree, the number of edges is always
       one less than the number of vertices. That is, a tree with  vertices and  edges
       satisfies  =  + 1.
           Give an alternate proof of this fact using strong induction on the number of
       vertices. Do so by taking a non-leaf vertex and "splitting" it into two vertices,
       each belonging to a separate tree.

6.  Suppose  that  a  particular  real  number        has  the  property  that    +  1  is  an  integer.
                                                                                     
                 
    Prove  that    +  1  is  an  integer  for  all  natural  numbers      .
                      

7. Here is an example of a more complicated induction technique called double

    induction.

    You    will  prove   that  the  Fibonacci   numbers         satisfy  the  identity  2   +   2     =

                                                                                                  +1

    2+1. One way to do this is to prove the more general identity,

                                    + +1+1 = ++1,

    and realize that when  =  we get our desired result.
        Note that we now have two variables, so we want to prove this for all   0

    and all   0 at the same time. For each such pair (, ), let (, ) be the
    statement   + +1+1 = ++1

    (a) First fix  = 0, and give a proof by mathematical induction that (0, )
         holds for all   0. Note that this proof will be very easy.

    (b) Now fix an arbitrary , and give a proof by strong mathematical induction
         that (, ) holds for all   0.

         (c) You can now conclude that (, ) holds for all ,   0. Do you believe
              that? Explain why this sort of induction is valid. For example, why do
              your proofs above guarantee that (2, 3) is true?

8. Given a square, you can cut the square into smaller squares by cutting along
       lines parallel to the sides of the original square (these lines do not need to travel
       the entire side length of the original square). For example, by cutting along the
       lines below, you will divide a square into 6 smaller squares:
384 4. Sequences

           Prove, using strong induction, that it is possible to cut a square into 
       smaller squares for any   6.
                         4.7 Chapter Summary

       Investigate!

     Each day your supply of magic chocolate-covered espresso beans doubles
     (each one splits in half), but then you eat 5 of them. You have 10 at the start
     of day 0.

         1. Write out the first few terms of the sequence. Then give a recursive
             definition for the sequence, and explain how you know it is correct.

         2. Prove, using induction, that the last digit of the number of beans you
             have on the th day is always a 5 for all   1.

         3. Find a closed formula for the th term of the sequence, and prove it is
             correct by induction.

    In this chapter, we explored sequences and mathematical induction. At first,
these might not seem entirely related, but there is a link: recursive reasoning. When
we have many cases (maybe infinitely many), it is often easier to describe a particular
case by saying how it relates to other cases, instead of describing it from scratch. For
sequences, we can describe the th term in the sequence by saying how it is related
to the previous term. When showing a statement involving the variable  is true for
all values of , we can describe why the case for  =  is true based on why the case
for  =  - 1 is true.

    While thinking of problems recursively is often easier than thinking of them
absolutely (at least after you get used to thinking in this way), our ultimate goal is
to move beyond this recursive description. For sequences, we want to find closed
formulas for the th term of the sequence. For proofs, we want to know that the
statement is true for a particular  (not only under the assumption that the statement
is true for the previous value of ). In this chapter, we saw some methods for moving
from recursive descriptions to absolute descriptions.

    · If the terms of a sequence increase by a constant difference or constant ratio
       (these are both recursive descriptions), then the sequence is arithmetic or
       geometric, respectively, and we have closed formulas for each of these based
       on the initial terms and common difference or ratio.

    · If the terms of a sequence increase at a polynomial rate (that is, if the differences
       between terms form a sequence with a polynomial closed formula), then the
       sequence is given by a polynomial closed formula (of degree one more than
       the sequence of differences).

    · If the terms of a sequence increase at an exponential rate, then we expect the
       closed formula for the sequence to be exponential. These sequences often have

                                                    385
386 4. Sequences

       relatively nice recursive formulas, and the characteristic root technique allows us
       to find the closed formula for these sequences.

    · If we want to prove that a statement is true for all values of  (greater than
       some first small value), and we can describe why the statement for  = 
       implies the statement for  =  + 1, then the principle of mathematical induction
       gives us that the statement is true for all values of  (greater than the base
       case).

    Throughout the chapter we tried to understand why these facts listed above are
true. In part, that is what proofs, by induction or not, attempt to accomplish: They
explain why mathematical truths are, in fact, truths. As we develop our ability to
reason about mathematics, it is a good idea to make sure that the methods of our
reasoning are sound. The branch of mathematics that deals with deciding whether
reasoning is good or not is mathematical logic, the subject of the next chapter.

                                      Chapter Review

1. Find 7 + 13 + 19 + · · · + 1243.
2. Consider the sequence 28, 38, 48, 58, . . . , 10 - 2.

          a. How many terms are there in the sequence?
          b. What is the second-to-last term?
           c. Find the sum of all the terms in the sequence.
3. Consider the sequence given by  = 6 · 5-1.

a. Find the first 4 terms of the sequence.
   1 = , 2 = , 3 = , 4 = ,...
   What sort of sequence is this?

( arithmetic  geometric  neither)

b. Find the sum of the first 22 terms. That is, compute       22

                                                              =1  .

4. Consider the sequence 5, 11, 19, 29, 41, 55, . . .. Assume 1 = 5.

(a) Find a closed formula for , the th term of the sequence, by writing
     each term as a sum of a sequence. Hint: first find 0, but ignore it when

     collapsing the sum.

(b) Find a closed formula again, this time using either polynomial fitting or
     the characteristic root technique (whichever is appropriate). Show your
     work.

(c) Find a closed formula once again, this time by recognizing the sequence
    as a modification of some well-known sequence(s). Explain.
                                                                                                 4.7. Chapter Summary 387

5. Use polynomial fitting to find the formula for the th term of the sequence
       ()1 which starts,

                                             11, 22, 35, 50, 67, . . .
       Note the first term above is 1, not 0.

            =

6. Suppose the closed formula for a particular sequence is a degree 3 polynomial.
      What can you say about the closed formula for:

         (a) The sequence of partial sums?

         (b) The sequence of second differences?
7. Consider the sequence given recursively by 1 = 4, 2 = 6, and  = -1 + -2.

         (a) Write out the first 6 terms of the sequence.

         (b) Could the closed formula for  be a polynomial? Explain.
8. The sequence ()1 starts -1, 0, 2, 5, 9, 14 . . . and has closed formula

                                              = ( + 1)( - 2) .
                                                            2

           Use this fact to find a closed formula for the sequence ()1 which starts
       4, 10, 18, 28, 40, . . . .
9. In the song The Twelve Days of Christmas, my true love gave to me first 1 gift;
       then 2 gifts and 1 gift; then 3 gifts, 2 gifts, and 1 gift; and so on. How many
       gifts did my true love give me all together during the twelve days?
10. Consider the recurrence relation  = -1 + 20-2 with first two terms 0 = 4
       and 1 = 9.

          a. Write out the first 5 terms of the sequence defined by this recurrence
              relation.
              2 = , 3 = , 4 = , ...

          b. Solve the recurrence relation. That is, find a closed formula for .

            =
11. Consider the recurrence relation  = 3-1 + 18-2 with first two terms 0 = 5

       and 1 = 7.
          a. Find the next two terms of the sequence (2 and 3):
              2 =
              3 =
          b. Solve the recurrence relation. That is, find a closed formula for .
               =
388 4. Sequences

12. Your magic chocolate bunnies reproduce like rabbits: every large bunny
       produces 2 new mini bunnies each day, and each day every mini bunny born
       the previous day grows into a large bunny. Assume you start with 2 mini
       bunnies and no bunny ever dies (or gets eaten).

(a) Write out the first few terms of the sequence.

(b) Give a recursive definition of the sequence, and explain why it is correct.

(c) Find a closed formula for the th term of the sequence.

13. Consider the sequence of partial sums of squares of Fibonacci numbers: 21,
2       22 ,  2       2       2,   .  .  ..                         1,  2,  6,  15,  40,  .  .  .
     +             +       +                 The  sequence  starts
  1             1       2       3

(a) Guess a formula for the th partial sum, in terms of Fibonacci numbers.
     Hint: Write each term as a product.

(b) Prove your formula is correct by mathematical induction.

(c) Explain what this problem has to do with the following picture:

14. Prove the following statements by mathematical induction:

         (a) ! <  for   2
         (b) 1 1 · 2 + 1 2 · 3 + 1 3 · 4 + · · · + 1  · ( + 1) =   + 1 for all   +.
         (c) 4 - 1 is a multiple of 3 for all   .

         (d) The greatest amount of postage you cannot make exactly using 4 and 9
              cent stamps is 23 cents.

         (e) Every even number squared is divisible by 4.
15. Prove 13 + 23 + 33 + · · · + 3 = 2 (+1) holds for all 2   1, by mathematical

       induction.
16. Suppose 0 = 1, 1 = 1 and  = 3-1 - 2-2. Prove, using strong induction,

       that  = 1 for all .
17. Prove using induction that every set containing  elements has 2 different

       subsets for any   1.
                                          Chapter 5

       Discrete Structures Revisited

Throughout the previous chapters, we have seen many examples of discrete structures
and their properties and uses. The following sections are self-contained overviews
of each of the main structures we have explored. These can either be studied prior
to other material in the book or as a review and reference after the fact.

                                   5.1 Sets

Note that this section contains a lot of detail on what we can say about sets. If you
have never seen anything about unions or Venn diagrams, it is worth reading this
carefully.

    The most fundamental objects we will use in our studies (and really in all of
math) are sets. Much of what follows might be review, but it is very important that
you are fluent in the language of set theory. Most of the notation we use below is
standard, although some might be a little different than what you have seen before.

    For us, a set will simply be an unordered collection of objects. Two examples:
We could consider the set of all actors who have played The Doctor on Doctor Who, or
the set of natural numbers between 1 and 10 inclusive. In the first case, Tom Baker is
an element (or member) of the set, while Idris Elba, among many others, is not an
element of the set. Also, the two examples are of different sets. Two sets are equal
exactly if they contain the exact same elements. For example, the set containing all
of the vowels in the Declaration of Independence is precisely the same set as the set
of vowels in the word "questionably" (namely, all of them); we do not care about
order or repetitions, just whether the element is in the set or not.

                                      5.1.1 Notation

We need some notation to make talking about sets easier. Consider,

                                               = {1, 2, 3}.

    This is read, " is the set containing the elements 1, 2, and 3." We use curly
braces "{, }" to enclose elements of a set. Some more notation:

                                                 {, , }.

    The symbol "" is read "is in" or "is an element of." Thus the above means that
 is an element of the set containing the letters , , and . Note that this is a true
statement. It would also be true to say that  is not in that set:

                                                 {, , }.

                                                    389
390 5. Discrete Structures Revisited

    Be warned: We write "  " when we wish to express that one of the elements
of the set  is . For example, consider the set,

                                         = {1, , {, , }, }.

    This is a strange set, to be sure. It contains four elements: the number 1, the
letter b, the set {, , }, and the empty set  = {}, the set containing no elements.
Is  in ? The answer is no. None of the four elements in  are the letter , so we
must conclude that   . Similarly, consider the set  = {1, }. Even though the
elements of  are elements of , we cannot say that the set  is one of the elements
of . Therefore   . (Soon we will see that  is a subset of , but this is different
from being an element of .)

We have described the sets above by listing their elements. Sometimes this is

hard to do, especially when there are a lot of elements in the set (perhaps infinitely
many). For instance, if we want  to be the set of all even natural numbers, would

could write,

                                       = {0, 2, 4, 6, . . .},

but this is a little imprecise. A better way would be

               = {   : there exists    such that  = 2}.

Let's look at this carefully. First, there are some new symbols to digest: "" is

the symbol usually used to denote the natural numbers, which we will take to be
the set {0, 1, 2, 3, . . .}. Next, the colon, ":", is read such that; it separates the elements

that are in the set from the condition that the elements in the set must satisfy. So
putting this all together, we would read the set as, "the set of all  in the natural
numbers, such that there exists some  in the natural numbers for which  is twice
." In other words, the set of all natural numbers that are even. Here is another way

to write the same set.

                                       = {   :  is even}.

    Note: Sometimes mathematicians use | or  for the "such that" symbol instead of
the colon. Also, there is a fairly even split between mathematicians about whether 0
is an element of the natural numbers, so be careful there.

    This notation is usually called set builder notation. It tells us how to build a set
by telling us precisely the condition elements must meet to gain access (the condition
is the logical statement after the ":" symbol). Reading and comprehending sets
written in this way takes practice. Here are some more examples:

Example 5.1.1

Describe each of the following sets both in words and by listing out enough
elements to see the pattern.

   1. { :  + 3  }.
   2. {   :  + 3  }.
                                                                                                                  5.1. Sets 391

       3. { :    or -   }.
       4. { :    and -   }.

    Solution.

        1. This is the set of all numbers that are 3 less than a natural number (i.e.,
           that if you add 3 to them, you get a natural number). The set could also
           be written as {-3, -2, -1, 0, 1, 2, . . .} (note that 0 is a natural number, so
           -3 is in this set because -3 + 3 = 0).

        2. This is the set of all natural numbers that are 3 less than a natural
           number. So here we just have {0, 1, 2, 3 . . .}.

        3. This is the set of all integers (positive and negative whole numbers,
           written ). In other words, {. . . , -2, -1, 0, 1, 2, . . .}.

        4. Here we want all numbers  such that  and - are natural numbers.
           There is only one: 0. So we have the set {0}.

    There is also a subtle variation on set builder notation. While the condition is
generally given after the "such that", sometimes it is hidden in the first part. Here is
an example.

  Example 5.1.2

    List a few elements in the sets below and describe them in words. The set 
    is the set of integers; positive and negative whole numbers.

       1.  = {   : 2  }
       2.  = {2 :   }

    Solution.

        1. The set of integers that pass the condition that their square is a natural
           number. Well, every integer, when you square it, gives you a non-
           negative integer, so a natural number. Thus  =  = {. . . , -2, -1, 0, 1, 2, 3, . . .}.

        2. Here we are looking for the set of all 2s where  is a natural number.
           So this set is simply the set of perfect squares.  = {0, 1, 4, 9, 16, . . .}.
           Another way we could have written this set, using more strict set builder
           notation, would be as  = {   :  = 2 for some   }.

    We already have a lot of notation, and there is more yet. Below is a handy chart
of symbols. Some of these will be discussed in greater detail as we move forward.
392 5. Discrete Structures Revisited

   Special sets.

      The empty set is the set that contains no elements.
      The set of natural numbers. That is,  = {0, 1, 2, 3 . . .}.
      The set of integers. That is,  = {. . . , -2, -1, 0, 1, 2, 3, . . .}.

      The set of rational numbers.
      The set of real numbers.
 ()   The power set of any set  is the set of all subsets of .

   Set Theory Notation.

{, }  We use these braces to enclose the elements of a set. So {1, 2, 3} is

      the set containing 1, 2, and 3.

:     { :  > 2} is the set of all  such that  is greater than 2.

      2  {1, 2, 3} asserts that 2 is an element of the set {1, 2, 3}.

      4  {1, 2, 3} because 4 is not an element of the set {1, 2, 3}.

         asserts that  is a subset of : Every element of  is also

      an element of .

         asserts that  is a proper subset of : Every element of 

      is also an element of , but   .

       is the intersection of  and : the set containing all elements

      that are elements of both  and .

         is the union of  and : the set containing all elements that

      are elements of  or  or both.

×      ×  is the Cartesian product of  and : the set of all ordered

      pairs (, ) with    and   .

\      \  is set difference between  and : the set containing all

      elements of  that are not elements of .

      The complement of  is the set of everything that is not an element

      of .

||    The cardinality (or size) of  is the number of elements in .

   Investigate!

    1. Find the cardinality of each set below.
                                                                                                      5.1. Sets 393

     (a)  = {3, 4, . . . , 15}.
    (b)  = {   : 2 <   200}.
     (c)  = {  100 :    and for some   , ( = 2 + 1)}.
2. Find two sets  and  for which || = 5, || = 6, and |  | = 9.
   What is |  |?
3. Find sets  and  with || = || such that |  | = 7 and |  | = 3.
   What is ||?
4. Let  = {1, 2, . . . , 10}. Define 2 = {   : || = 2}. Find |2|.
5. For any sets  and , define  = { :    and   }. If  = {1, 2}
   and  = {2, 3, 4}, what is ||? What is | × |?

                          5.1.2 Relationships between Sets

We have already said what it means for two sets to be equal: They have exactly the
same elements. Thus, for example,

                                          {1, 2, 3} = {2, 1, 3}.

    (Remember, the order the elements are written down in does not matter.) Also,

                {1, 2, 3} = {1, 1 + 1, 1 + 1 + 1} = {, , } = {1, 2, 3, 1 + 2}

since these are all ways to write the set containing the first three positive integers
(how we write them doesn't matter, just what they are).

    What about the sets  = {1, 2, 3} and  = {1, 2, 3, 4}? Clearly   , but notice
that every element of  is also an element of . Because of this we say that  is a
subset of , or in symbols,    or   . Both symbols are read "is a subset of."
The difference is that sometimes we want to say that  is either equal to or is a subset
of , in which case we use . This is analogous to the difference between < and .

Example 5.1.3

Let  = {1, 2, 3, 4, 5, 6},  = {2, 4, 6},  = {1, 2, 3}, and  = {7, 8, 9}. Deter-
mine which of the following are true, false, or meaningless.

1.   .         4.   .   7. 3  .

2.   .         5.   .   8. 3  .

3.   .         6.  < .  9. {3}  .

Solution.
394 5. Discrete Structures Revisited

        1. False. For example, 1   but 1  .

        2. True. Every element in  is an element in .

        3. False. The elements in  are 1, 2, and 3. The set  is not equal to 1, 2, or
            3.

        4. False.  has exactly 6 elements, and none of them are the empty set.

        5. True. Everything in the empty set (nothing) is also an element of .
            Notice that the empty set is a subset of every set.

        6. Meaningless. A set cannot be less than another set.

        7. True. 3 is one of the elements of the set .

        8. Meaningless. 3 is not a set, so it cannot be a subset of another set.

        9. True. 3 is the only element of the set {3}, and is an element of , so
            every element in {3} is an element of .

    In the example above,  is a subset of . You might wonder what other sets are
subsets of . If you collect all these subsets of  into a new set, we get a set of sets.
We call the set of all subsets of  the power set of , and write it ().

  Example 5.1.4

    Let  = {1, 2, 3}. Find ().
    Solution. () is a set of sets, all of which are subsets of . So

                   () = {, {1}, {2}, {3}, {1, 2}, {1, 3}, {2, 3}, {1, 2, 3}}.

         Notice that while 2  , it is wrong to write 2  () since none of the
    elements in () are numbers! On the other hand, we do have {2}  ()
    because {2}  .

        What does a subset of () look like? Notice that {2}  () because not
    everything in {2} is in (). But we do have {{2}}  (). The only element
    of {{2}} is the set {2}, which is also an element of (). We could take the
    collection of all subsets of () and call that (()). Or even the power set
    of that set of sets of sets.

    Another way to compare sets is by their size. Notice that in the example above, 
has 6 elements, and , , and  all have 3 elements. The size of a set is called the
set's cardinality. We would write || = 6, || = 3, and so on. For sets that have a
finite number of elements, the cardinality of the set is simply the number of elements
in the set. Note that the cardinality of {1, 2, 3, 2, 1} is 3. We do not count repeats
(in fact, {1, 2, 3, 2, 1} is exactly the same set as {1, 2, 3}). There are sets with infinite
                                                                                                                  5.1. Sets 395

cardinality, such as , the set of rational numbers (written ), the set of even natural
numbers, and the set of real numbers (). It is possible to distinguish between
different infinite cardinalities, but that is beyond the scope of this text. For us, a set
will either be infinite or finite; if it is finite, then we can determine its cardinality by
counting elements.

   Example 5.1.5

        1. Find the cardinality of  = {23, 24, . . . , 37, 38}.

        2. Find the cardinality of  = {1, {2, 3, 4}, }.

        3. If  = {1, 2, 3}, what is the cardinality of ()?

    Solution.

        1. Since 38 - 23 = 15, we can conclude that the cardinality of the set is
            || = 16 (you need to add one since 23 is included).

        2. Here || = 3. The three elements are the number 1, the set {2, 3, 4}, and
            the empty set.

        3. We wrote out the elements of the power set () above, and there are 8
            elements (each of which is a set). So |()| = 8. (You might wonder if
            there is a relationship between || and |()| for all sets . This is a
            good question that we explore in Chapter 3.)

                                5.1.3 Operations on Sets

Is it possible to add two sets? Not really, however there is something similar. If we
want to combine two sets to get the collection of objects that are in either set, then
we can take the union of the two sets. Symbolically,

                                                 =   ,

read, " is the union of  and ," means that the elements of  are exactly the
elements that are either an element of  or an element of  (or an element of both).
For example, if  = {1, 2, 3} and  = {2, 3, 4}, then    = {1, 2, 3, 4}.

     The other common operation on sets is intersection. We write,

                                                 =

and say, " is the intersection of  and ," when the elements in  are precisely
those both in  and in . So if  = {1, 2, 3} and  = {2, 3, 4}, then    = {2, 3}.

     Often when dealing with sets, we will have some understanding as to what
"everything" is. Perhaps we are only concerned with natural numbers. In this case
we would say that our universe is . Sometimes we denote this universe by  .
396 5. Discrete Structures Revisited

Given this context, we might wish to speak of all the elements that are not in a
particular set. We say  is the complement of , and write,

                                      =

when  contains every element not contained in . So, if our universe is {1, 2, . . . , 9, 10},

and  = {2, 3, 5, 7}, then  = {1, 4, 6, 8, 9, 10}.

Of course we can perform more than one operation at a time. For example,

consider

                                        .

    This is the set of all elements that are both elements of  and not elements of
. What have we done? We've started with  and removed all of the elements that
were in . Another way to write this is the set difference:

                                         =  \ .

    It is important to remember that these operations (union, intersection, comple-

ment, and difference) on sets produce other sets. Don't confuse these with the
symbols from the previous section (element of and subset of).    is a set, while
   is true or false. This is the same difference as between 3 + 2 (which is a

number) and 3  2 (which is false).

Example 5.1.6

Let  = {1, 2, 3, 4, 5, 6},  = {2, 4, 6},  = {1, 2, 3}, and  = {7, 8, 9}. If the
universe is  = {1, 2, . . . , 10}, find:

1.   .                                     6.  \ .
2.   .                                     7. (  )    .
3.   .                                     8.   .
4.   .                                     9.   .
5.   .

Solution.
   1.    = {1, 2, 3, 4, 5, 6} =  since everything in  is already in .
   2.    = {2, 4, 6} =  since everything in  is in .
   3.    = {2} as the only element of both  and  is 2.
   4.    =  since  and  have no common elements.
   5.    = {5, 7, 8, 9, 10}. First we find that    = {1, 2, 3, 4, 6}, and then
       we take everything not in that set.
                                                                                                                  5.1. Sets 397

        6.  \  = {1, 3, 5} since the elements 1, 3, and 5 are in  but not in . This
            is the same as   .

        7. (  )     = {1, 3, 5, 7, 8, 9, 10}. The set contains all elements that
            are either in  but not in  (i.e., {7, 8, 9}), or not in both  and  (i.e.,
            {1, 3, 5, 7, 8, 9, 10}).

        8.    =  since nothing is added by the empty set.

        9.    =  since nothing can be both in a set and in the empty set.

    Having notation like this is useful. We will often want to add or remove elements
from sets, and our notation allows us to do so precisely.

  Example 5.1.7

    If  = {1, 2, 3}, then we can describe the set we get by adding the number 4
    as   {4}. If we want to express the set we get by removing the number 2
    from , we can do so by writing  \ {2}.

         Careful though. If you add an element to the set, you get a new set! So
    you would have  =   {4} and then correctly say that  contains 4, but 
    does not.

    There is one more way to combine sets that will be useful for us: the Cartesian
product,  × . This sounds fancy but is nothing you haven't seen before. When
you graph a function in calculus, you graph it in the Cartesian plane. This is the set
of all ordered pairs of real numbers (, ). We can do this for any pair of sets, not
just the real numbers with themselves.

    Put another way,  ×  = {(, ) :    and   }. The first coordinate comes
from the first set, and the second coordinate comes from the second set. Sometimes
we will want to take the Cartesian product of a set with itself, and this is fine:
 ×  = {(, ) : ,   } (we might also write 2 for this set). Notice that in  × ,
we still want all ordered pairs, not just the ones where the first and second coordinate
are the same. We can also take products of 3 or more sets, getting ordered triples, or
quadruples, and so on.

  Example 5.1.8

    Let  = {1, 2} and  = {3, 4, 5}. Find  ×  and  × . How many elements
    do you expect to be in  × ?
    Solution.  ×  = {(1, 3), (1, 4), (1, 5), (2, 3), (2, 4), (2, 5)}.

          ×  = 2 = {(1, 1), (1, 2), (2, 1), (2, 2)}.
         | × | = 9. There will be 3 pairs with first coordinate 3, three more with
    first coordinate 4, and a final three with first coordinate 5.
398 5. Discrete Structures Revisited

                                  5.1.4 Venn Diagrams

There is a very nice visual tool we can use to represent operations on sets. A Venn
diagram displays sets as intersecting circles. We can shade the region we are talking
about when we carry out an operation. We can also represent the cardinality of a
particular set by putting the number in the corresponding region.

                                                          

                                                       

    Each circle represents a set. The rectangle containing the circles represents the
universe. To represent combinations of these sets, we shade the corresponding
region. For example, we could draw    as:

                                            

Here is a representation of   , or equivalently  \ :

                                            

A more complicated example is (  )  (  ), as seen below.

                                          

                                                

Notice that the shaded regions above could also be arrived at in another way.
                                                                                                                  5.1. Sets 399

We could have started with all of  and then excluded the region where  and 
overlap outside of . That region is (  )  . So the above Venn diagram also
represents   (  )   . So using just the picture, we have determined that

                             (  )  (  ) =   (  )   .

                                       5.1.5 Exercises

1.  = {2, 4, 5, 6, 7} and  = {2, 4, 5, 6, 8} Find each of the following sets.
           Your answers should include the curly braces

          a.   .
          b.   .
           c.  \ .
          d.  \ .
2. Find the least element of the following sets, if there is one.
          a. {   : 2 - 3  4}
          b. {   : 2 - 7  }
          c. {2 + 4 :   }
          d. {   :  = 2 + 4 for some   }
3. Find the following cardinalities.
          a. || when  = {4, 5, 6, 7, . . . , 33}.
          b. || when  = {   : -7    91"}.
          c. |  | when  = {   :   27} and  = {   :  is prime }.
4. Let  = {8, 10, 11, 12, 13} and  = {8, 16, 17, 24, 32}. Find a set of largest
       possible size that is a subset of both  and .
5. Find a set of smallest possible size that has both {4,6,7,9} and {5,6,7,9,10} as
       subsets.
6. Let  = {   : 39   < 55} and  = {   : 16 <   44}. Suppose  is a
       set such that    and   . What is the largest possible cardinality of ?
7. Let  = {1, 4, 7, 12, 14} and  = {1, 4, 14}. How many sets  have the property
       that    and   .
8. Let  = {2, 3, 4, 5, 6},  = {4, 5, 6, 7, 8}, and  = {3, 6, 8}.

          a. Find   .
400 5. Discrete Structures Revisited

          b. Find   .

           c. Find  \ .

          d. Find   (  ).
9. Let  = {   : 2   < 14} and  = {   :  is even}.

          a. Find   .

          b. Find  \ .
10. Let  = {   : 3    13},  = {   :  is even}, and  = {   :

        is odd}.

         (a) Find   .

         (b) Find   .

         (c) Find   .

         (d) Find   .
11. Find an example of sets  and  such that    = {3, 5} and    =

       {2, 3, 5, 7, 8}.
12. Find an example of sets  and  such that    and   .
13. Recall  = {. . . , -2, -1, 0, 1, 2, . . .} (the integers). Let + = {1, 2, 3, . . .} be the

      positive integers. Let 2 be the even integers, 3 be the multiples of 3, and so
       on.

         (a) Is +  2? Explain.

         (b) Is 2  +? Explain.

         (c) Find 2  3. Describe the set in words, and using set notation.

        (d) Express {   :   ( = 2   = 3)} as a union or intersection of
              two sets already described in this problem.

14. Let 2 be the set of all multiples of 2 except for 2. Let 3 be the set of all
       multiples of 3 except for 3. And so on, so that  is the set of all multiples of 
       except for , for any   2. Describe (in words) the set 2  3  4  · · ·.

15. Draw a Venn diagram to represent each of the following:
         (a)   

         (b) (  )
         (c)   (  )
         (d) (  )  
         (e)     
    5.1. Sets 401

          (f) (  ) \ 
16. Describe a set in terms of  and  (using set notation) which has the following

       Venn diagram:

  

17. Let  = {, , , }. Find ().
18. Let  = {1, 2, . . . , 9}. How many subsets of  contain exactly one element (i.e.,

       how many singleton subsets are there)?
           How many doubleton subsets (containing exactly two elements) are there?

19. Let  = {1, 2, 3, 4, 5, 6}. Find all sets   () which have the property
       {2, 3, 5}  .

20. Find an example of sets  and  such that || = 4, || = 5, and |  | = 9.
21. Find an example of sets  and  such that || = 3, || = 4, and |  | = 5.
22. Are there sets  and  such that || = ||, |  | = 10, and |  | = 5?

       Explain.
23. Let  = {2, 4, 6, 8}. Suppose  is a set with || = 5.

          a. What are the smallest and largest possible values of |  |? Explain.

          b. What are the smallest and largest possible values of |  |? Explain.

           c. What are the smallest and largest possible values of | × |? Explain.
24. Let  = {   : 10   < 20}. Find examples of sets with the properties

       below and very briefly explain why your examples work.

         (a) A set    with || = 10 such that  \  = {10, 12, 14}.

         (b) A set   () with || = 5.

         (c) A set   () with || = 5.

         (d) A set    ×  with || = 5

         (e) A set    such that ||  .
25. Let , , and  be sets.

         (a) Suppose that    and   . Does this mean that   ? Prove your
              answer. Hint: To prove that   , you must prove the implication, "For
              all , if   , then   ."

         (b) Suppose that    and   . Does this mean that   ? Give an
              example to prove that this does NOT always happen (and explain why
402 5. Discrete Structures Revisited

              your example works). You should be able to give an example where
              || = || = || = 2.
26. In a regular deck of playing cards there are 26 red cards and 12 face cards.
       Explain, using sets and what you have learned about cardinalities, why there
       are only 32 cards which are either red or a face card.
27. Find an example of a set  with || = 3 which contains only other sets and has
       the following property: For all sets   , we also have   . Explain why
       your example works. (FYI: Sets that have this property are called transitive.)
28. Consider the sets  and , where  = {3, ||} and  = {1, ||, ||}. What are
       the sets?
29. Explain why there is no set  which satisfies  = {2, ||}.
30. Find all sets , , and  which satisfy the following.

                                               ={1, || , ||}
                                                ={2, || , ||}
                                               ={1, 2, || , ||}

       .
                               5.2 Functions

This section contains many details about functions, much of which should be
familiar from non-discrete contexts. As you read, consider how the way we talk
about functions here might be different from what you know from other areas of
mathematics.

    A function is a rule that assigns each input exactly one output. We call the
output the image of the input. The set of all inputs for a function is called the
domain. The set of all allowable outputs is called the codomain. We would write
 :    to describe a function with name  , domain , and codomain . This
does not tell us which function  is though. To define the function, we must describe
the rule. This is often done by giving a formula to compute the output for any input
(although this is certainly not the only way to describe the rule).

    For example, consider the function  :    defined by  () = 2 + 3. Here the
domain and codomain are the same set (the natural numbers). The rule: Take your
input, multiply it by itself, and add 3. This works because we can apply this rule
to every natural number (every element of the domain) and the result is always a
natural number (an element of the codomain). Notice though that not every natural
number is actually an output (there is no way to get 0, 1, 2, 5, etc.). The set of natural
numbers that are outputs is called the range of the function (in this case, the range is
{3, 4, 7, 12, 19, 28, . . .}, all the natural numbers that are 3 more than a perfect square).

    The key thing that makes a rule a function is that there is exactly one output for
each input. That is, it is important that the rule be a good rule. What output do we
assign to the input 7? There can only be one answer for any particular function.

  Example 5.2.1

    The following are all examples of functions:

       1.  :    defined by  () = 3. The domain and codomain are both
            the set of integers. However, the range is only the set of integer multiples
            of 3.

        2.  : {1, 2, 3}  {, , } defined by (1) = , (2) = , and (3) = . The
            domain is the set {1, 2, 3}, the codomain is the set {, , } and the range
            is the set {, }. Note that (2) and (3) are the same element of the
            codomain. This is okay since each element in the domain still has only
            one output.

       3.  : {1, 2, 3, 4}   defined by the table:

                                                1234
                                             () 3 6 9 12

            Here the domain is the finite set {1, 2, 3, 4}, and the codomain is the set
           of natural numbers, . At first you might think this function is the same

                                                    403
404 5. Discrete Structures Revisited

as  defined above. It absolutely is not. Even though the rule is the
same, the domain and codomain are different, so these are two different
functions.

Example 5.2.2

Just because you can describe a rule in the same way you would write a
function does not mean that the rule is a function. The following are NOT
functions.

1.  :    defined by  () = 2 . The reason this is not a function is
   because not every input has an output. Where does  send 3? The rule

says  that      (3)  =  32 ,  but     3  is  not  an  element  of  the  codomain.
                                      2

2. Consider the rule that matches each person to their phone number.
   If you think of the set of people as the domain and the set of phone
   numbers as the codomain, then this is not a function, since some people
   have two phone numbers. Switching the domain and codomain sets
   doesn't help either, since some phone numbers belong to multiple
   people (assuming some households still have landlines when you are
   reading this).

                              5.2.1 Describing Functions

It is worth making a distinction between a function and its description. The function
is the abstract mathematical object that in some way exists whether or not anyone
ever talks about it. But when we do want to talk about the function, we need a way
to describe it. A particular function can be described in multiple ways.

    Some calculus textbooks talk about the Rule of Four, that every function can be
described in four ways: algebraically (a formula), numerically (a table), graphically,
or in words. In discrete math, we can still use any of these to describe functions, but
we can also be more specific since we are primarily concerned with functions that
have  or a finite subset of  as their domain.

    Describing a function graphically usually means drawing the graph of the
function: plotting the points on the plane. We can do this and might get a graph
like the following for a function  : {1, 2, 3}  {1, 2, 3}.
                                         5.2. Functions 405

    It would be absolutely WRONG to connect the dots or try to fit them to some
curve. There are only three elements in the domain. A curve would mean that the
domain contains an entire interval of real numbers.

    Here is another way to represent that same function:

                                         123

                123

This shows that the function  sends 1 to 2, 2 to 1, and 3 to 3: Just follow the

arrows.

The arrow diagram used to define the function above can be very helpful in

visualizing functions. We will often be working with functions with finite domains,

so this kind of picture is often more useful than a traditional graph of a function.

Note that for finite domains, finding an algebraic formula that gives the output

for any input is often impossible. Of course we could use a piecewise-defined

function, like           + 1
                        
                 () =  - 1    if  = 1
                              if  = 2 .
                              if  = 3

This describes exactly the same function as above, but we can all agree is a ridiculous
way of doing so.

    Since we will so often use functions with small domains and codomains, let's
adopt some notation to describe them. All we need is some clear way of denoting
the image of each element in the domain. In fact, writing a table of values would
work perfectly:

                  01234
                 () 3 3 2 4 1

We simplify this further by writing this as a "matrix" with each input directly over
its output:

                                         = 0 1 2 3 4 .
                                               33241
406 5. Discrete Structures Revisited

Note this is just notation and not the same sort of matrix you would find in a linear
algebra class (it does not make sense to do operations with these matrices, or row
reduce them, for example).

    One advantage of the two-line notation over the arrow diagrams is that it is
harder to accidentally define a rule that is not a function using two-line notation.

Example 5.2.3

Which of the following diagrams represent a function? Let  = {1, 2, 3, 4}
and  = {, , , }.

     :                                     :        : 
1234                                  1234     1234

                                               

Solution.  is a function. So is . There is no problem with an element of

the codomain not being the image of any input, and there is no problem with
 from the codomain being the image of both 2 and 3 from the domain. We

could use our two-line notation to write these as

                = 1 2 3 4              = 1 2 3 4    

.
    However,  is NOT a function. In fact, it fails for two reasons. First, the

element 1 from the domain has not been mapped to any element from the

codomain. Second, the element 2 from the domain has been mapped to more
than one element from the codomain ( and ). Note that either one of these

problems is enough to make a rule not a function. In general, neither of the

following mappings are functions:

    It might also be helpful to think about how you would write the two-line
notation for . We would have something like:

                                     = 1 2 3 4 , ?   .

There is nothing under 1 (bad), and we needed to put more than one thing
under 2 (very bad). With a rule that is actually a function, the two-line
notation will always "work."
                                                  5.2. Functions 407

    We will also be interested in functions with domain . Here two-line notation is
no good, but describing the function algebraically is often possible. Even tables are
a little awkward since they do not describe the function completely. For example,
consider the function  :    given by the table below.

                                   0 1 2 3 4 5 ...
                                  () 0 1 4 9 16 25 . . .

Have I given you enough entries for you to be able to determine  (6)? You might
guess that  (6) = 36, but there is no way for you to know this for sure. Maybe I am
being a jerk and intended  (6) = 42. In fact, for every natural number , there is a
function that agrees with the table above, but for which  (6) = .

    Okay, suppose I really did mean for  (6) = 36, and in fact, for the rule that you
think is governing the function to actually be the rule. Then I should say what that
rule is.  () = 2. Now there is no confusion possible.

    Giving an explicit formula that calculates the image of any element in the domain
is a great way to describe a function. We will say that these explicit rules are closed
formulas for the function.

    There is another very useful way to describe functions whose domain is , that
rely specifically on the structure of the natural numbers. We can define a function
recursively!

Example 5.2.4

Consider the function  :    given by  (0) = 0 and  ( +1) =  ()+2 +1.
Find  (6).

Solution. The rule says that  (6) =  (5) + 11 (we are using 6 =  + 1 so  = 5).
We don't know what  (5) is though. Well, we know that  (5) =  (4) + 9. So
we need to compute  (4), which will require knowing  (3), which will require
knowing  (2),. . . will it ever end?

    Yes! This process will always end because we have  as our domain, so
there is a least element. And we gave the value of  (0) explicitly, so we are
good. We might decide to work up to  (6) instead of working down from
 (6):

                (1) =  (0) + 1 =       0+1=1
                (2) =  (1) + 3 =       1+3=4
                (3) =  (2) + 5 =       4+5=9
                (4) =  (3) + 7 =      9 + 7 = 16
                (5) =  (4) + 9 =    16 + 9 = 25
                (6) =  (5) + 11 =  25 + 11 = 36

    It looks like this recursively defined function is the same as the explicitly
defined function  () = 2. Is it? Later we will prove that it is.
408 5. Discrete Structures Revisited

    Recursively defined functions are often easier to create from a "real-world"
problem, because they describe how the values of the functions are changing.
However, this comes with a price. It is harder to calculate the image of a single input,
since you need to know the images of other (previous) elements in the domain.

     Recursively Defined Functions.

        For a function  :   , a recursive definition consists of an initial
    condition together with a recurrence relation. The initial condition is the
    explicitly given value of  (0). The recurrence relation is a formula for  ( + 1)
    in terms of  () (and possibly  itself).

  Example 5.2.5

    Give recursive definitions for the functions described below.
       1.  :    gives the number of snails in your terrarium  years after
           you built it, assuming you started with 3 snails and the number of snails
           doubles each year.

       2.  :    gives the number of push-ups you do  days after you
           started your push-ups challenge, assuming you could do 7 push-ups on
           day 0 and you can do 2 more push-ups each day.

       3.  :    defined by () = !. Recall that ! = 1 · 2 · 3 · · · · · ( - 1) · 
           is the product of all numbers from 1 through . We also define 0! = 1.

    Solution.
        1. The initial condition is  (0) = 3. To get  ( + 1), we would double the
           number of snails in the terrarium the previous year, which is given by
             (). Thus  ( + 1) = 2  (). The full recursive definition contains both
           of these and would be written,

                                          (0) = 3;  ( + 1) = 2  ().

        2. We are told that on day 0 you can do 7 push-ups, so (0) = 7. The
           number of push-ups you can do on day  + 1 is 2 more than the number
           you can do on day , which is given by (). Thus

                                       (0) = 7; ( + 1) = () + 2.

        3. Here (0) = 1. To get the recurrence relation, think about how you can
           get ( + 1) = ( + 1)! from () = !. If you write out both of these as
           products, you see that ( + 1)! is just like ! except that you have one
           more term in the product, an extra  + 1. So we have,

                                    (0) = 1; ( + 1) = ( + 1) · ().
                                                                                                          5.2. Functions 409

                 5.2.2 Surjections, Injections, and Bijections

We now turn to investigating special properties functions might or might not possess.
    In the examples above, you may have noticed that sometimes there are elements

of the codomain that are not in the range. When this sort of thing does not happen
(that is, when everything in the codomain is in the range), we say the function is
onto or that the function maps the domain onto the codomain. This terminology
should make sense: The function puts the domain (entirely) on top of the codomain.
The fancy math term for an onto function is a surjection, and we say that an onto
function is a surjective function.

    In pictures:

           Surjective                                    Not surjective

Example 5.2.6

 Which functions are surjective (i.e., onto)?
     1.  :    defined by  () = 3.
     2.  : {1, 2, 3}  {, , } defined by  = 1 2 3    .
     3.  : {1, 2, 3}  {1, 2, 3} defined as follows:
                                                123

                                       123

Solution.

1.  is not surjective. There are elements in the codomain that are not in
   the range. For example, no    gets mapped to the number 1 (the

rule       would  say  that  1  would  be  sent  to  1,  but  1  is  not  in  the  domain).  In
                             3                                3
fact, the range of the function is 3 (the integer multiples of 3), which is

not equal to .

2.  is not surjective. There is no   {1, 2, 3} (the domain) for which
   () = , so , which is in the codomain, is not in the range. Notice that

   there is an element from the codomain "missing" from the bottom row

   of the matrix.
410 5. Discrete Structures Revisited

        3.  is surjective. Every element of the codomain is also in the range.
           Nothing in the codomain is missed.

    To be a function, a rule cannot assign a single element of the domain to two or
more different elements of the codomain. However, we have seen that the reverse is
permissible: A function might assign the same element of the codomain to two or
more different elements of the domain. When this does not occur (that is, when each
element of the codomain is the image of at most one element of the domain), then we
say the function is one-to-one. Again, this terminology makes sense: We are sending
at most one element from the domain to one element from the codomain. One input
to one output. The fancy math term for a one-to-one function is an injection. We
call one-to-one functions injective functions.

    In pictures:

Injective  Not injective

Example 5.2.7
 Which functions are injective (i.e., one-to-one)?

     1.  :    defined by  () = 3.
     2.  : {1, 2, 3}  {, , } defined by  = 1 2 3    .
     3.  : {1, 2, 3}  {1, 2, 3} defined as follows:

                                                123

                                              123

Solution.

   1.  is injective. Each element in the codomain is assigned to at most
       one element from the domain. If  is a multiple of three, then only
       /3 is mapped to . If  is not a multiple of 3, then there is no input
       corresponding to the output .
                                                                                                          5.2. Functions 411

        2.  is not injective. Both inputs 2 and 3 are assigned the output . Notice
            that there is an element from the codomain that appears more than once
            on the bottom row of the matrix.

        3.  is injective. Each output is only an output once.

    Be careful: "surjective" and "injective" are NOT opposites. You can see in the
two examples above that there are functions that are surjective but not injective,
injective but not surjective, both, or neither. In the case when a function is both
one-to-one and onto (an injection and surjection), we say the function is a bection,
or that the function is a bective function.

    To illustrate the contrast between these two properties, consider a more formal
definition of each, side by side.

     Injective vs. Surjective.

         A function is injective provided every element of the codomain is the
    image of at most one element from the domain.

         A function is surjective provided every element of the codomain is the
    image of at least one element from the domain.

    Notice both properties are determined by what happens to elements of the
codomain: They could be repeated as images, or they could be "missed" (not
be images). Injective functions do not have repeats but might or might not miss
elements. Surjective functions do not miss elements, but might or might not have
repeats. The bective functions are those that do not have repeats and do not miss
elements.

                            5.2.3 Image and Inverse Image

When discussing functions, we have notation for talking about an element of the
domain (say ) and its corresponding element in the codomain (we write  (), which
is the image of ). Sometimes we will want to talk about all the elements that are
images of some subset of the domain. It would also be nice to start with some
element of the codomain (say ) and talk about which element or elements (if any)
from the domain it is the image of. We could write "those  in the domain such that
 () = ," but this is a lot of writing. Here is some notation to make our lives easier.

    To address the first situation, what we are after is a way to describe the set of
images of elements in some subset of the domain. Suppose  :    is a function
and that    is some subset of the domain (possibly all of it). We will use the
notation  () to denote the image of  under  , namely the set of elements in 
that are the image of elements from . That is,  () = {  ()   :   }.

    We can do this in the other direction as well. We might ask which elements of
the domain get mapped to a particular set in the codomain. Let  :    be a
function and suppose    is a subset of the codomain. Then we will write  -1()
412 5. Discrete Structures Revisited

for the inverse image of  under  , namely the set of elements in  whose image
are elements in . In other words,  -1() = {   :  ()  } .

    Often we are interested in the element(s) whose image is a particular element 
of in the codomain. The notation above works:  -1({}) is the set of all elements in
the domain that  sends to . It makes sense to think of this as a set: there might
not be anything sent to  (if  is not in the range), in which case  -1({}) = . Or 
might send multiple elements to  (if  is not injective). As a notational convenience,
we usually drop the set braces around the  and write  -1() instead for this set.

    WARNING:  -1() is not an inverse function! Inverse functions only exist for
bections, but  -1() is defined for any function  . The point:  -1() is a set, not an
element of the domain. This is just sloppy notation for  -1({}). To help make this
distinction, we would call  -1() the complete inverse image of  under  . It is not
the image of  under  -1 (since the function  -1 might not exist).

  Example 5.2.8

    Consider the function  : {1, 2, 3, 4, 5, 6}  {, , , } given by

                                       = 1 2 3 4 5 6       .

    Find  ({1, 2, 3}),  -1({, }), and  -1().
    Solution.  ({1, 2, 3}) = {, } since  and  are the elements in the codomain
    to which  sends 1, 2, and 3.

          -1({, }) = {1, 2, 3, 4, 5} since these are exactly the elements that  sends
    to  and .

          -1() =  since  is not in the range of  .

  Example 5.2.9

    Consider the function  :    defined by () = 2 + 1. Find (1) and
    ({1}). Then find -1(1), -1(2), and -1(3).
    Solution. Note that (1)  ({1}). The first is an element: (1) = 2. The
    second is a set: ({1}) = {2} .

         To find -1(1), we need to find all integers  such that 2 + 1 = 1. Clearly
    only 0 works, so -1(1) = {0} (note that even though there is only one element,
    we still write it as a set with one element in it).

         To find -1(2), we need to find all  such that 2 + 1 = 2. We see
    -1(2) = {-1, 1}.

         Finally, if 2 + 1 = 3, then we are looking for an  such that 2 = 2. There
    are no such integers so -1(3) = .

    Since  -1() is a set, it makes sense to ask for  -1() , the number of elements in
the domain that map to .
                                                                                                          5.2. Functions 413

  Example 5.2.10

    Find a function  : {1, 2, 3, 4, 5}   such that  -1(7) = 5.
    Solution. There is only one such function. We need five elements of the
    domain to map to the number 7  . Since there are only five elements in the
    domain, all of them must map to 7. So

                                         = 1 2 3 4 5
                                                77777

    .

Function Definitions. Here is a summary of all the main concepts and definitions
we use when working with functions.

    · A function is a rule that assigns each element of a set, called the domain, to
       exactly one element of a second set, called the codomain.

    · Notation:  :    is our way of saying that the function is called  , the
       domain is the set , and the codomain is the set .

    · To specify the rule for a function with small domain, use two-line notation by
       writing a matrix with each output directly below its corresponding input, as
       in:
                                               = 1 2 3 4
                                                      2131
       .

    ·  () =  means the element  of the domain (input) is assigned to the element
        of the codomain. We say  is an output. Alternatively, we call  the image
       of  under  .

    · The range is a subset of the codomain. It is the set of all elements that are
       assigned to at least one element of the domain by the function. That is, the
       range is the set of all outputs.

    · A function is injective (an injection or one-to-one) if every element of the
       codomain is the image of at most one element from the domain.

    · A function is surjective (a surjection or onto) if every element of the codomain
       is the image of at least one element from the domain.

    · A bection is a function that is both an injection and surjection. In other
       words, if every element of the codomain is the image of exactly one element
       from the domain.

    · The image of an element  in the domain is the element  in the codomain
       that  is mapped to. That is, the image of  under  is  ().
414 5. Discrete Structures Revisited

· The complete inverse image of an element  in the codomain, written  -1(),
   is the set of all elements in the domain that are assigned to  by the function.

· The image of a subset  of the domain is the set  () = {  ()   :   }.

· The inverse image of a subset  of the codomain is the set  -1() = {   :
    ()  }.

                                         Reading Questions

1. Explain, in your own words, the relationship between the codomain of a
       function and the range of a function.

2. If a function has domain and codomain of equal sizes, must the function be
       surjective? Must it be injective? Could it be only one of these? Briefly explain
       your thinking.

3. What questions do you have? Write at least one question about the content of
       this section that you or a classmate might be curious about after reading this
       section.

                                       5.2.4 Exercises

1. Consider the function  : {1, 2, 3, 4, 5}  {1, 2, 3, 4, 5} given by
            = 1 2 3 4 5 .
                  11425

          a. Find  (4).
          b. Find a  in the domain such that  () = 4.
           c. Find an element  of the domain such that  () = .

          d. Find an element of the codomain that is not in the range.
2. The following functions all have {1, 2, 3, 4, 5} as both their domain and

       codomain. For each, determine whether it is (only) injective, (only) surjective,
       bective, or neither injective nor surjective.

(a)  = 1 2 3 4 5
            12341

                  if  < 3
(b)  () =  - 2    if   3

(c)  = 1 2 3 4 5
           13254
                           5.2. Functions 415

(d)  () = 3 -     if  < 3
                  if   3

3. Consider the following functions  : {1, 2, 3, 4, 5}  {1, 2, 3}. For each,
       determine whether it is (only) injective, (only) surjective, bective, or neither
       injective nor surjective.

(a)  = 1 2 3 4 5
            33211

                  if  < 4
(b) 6 -  () =     if   4

         (c)  = 1 2 3 4 5
                     23231

4. Consider the following functions  : {1, 2, 3, 4}  {1, 2, 3, 4, 5}. For each,
       determine whether it is (only) injective, (only) surjective, bective, or neither
       injective nor surjective.

         (a)  () = 6 - 

         (b)  = 1 2 3 4
                     1234

         (c)  = 1 2 3 4
                     1325

5. Write out all functions  : {1, 2, 3, 4}  {, } (using two-line notation).
           How many functions are there?
           How many are surjective?
           How many are injective?
           How many are bective?

6. Write out all function  : {1, 2}  {, , , } (in two-line notation).
           How many functions are there?
           How many are surjective?
           How many are injective?
           How many are bective?

7. Consider the function  : {1, 2, 3, 4, 5}  {1, 2, 3, 4} given by the table below:

                                              12345
                                             () 3 2 4 1 2

         (a) Is  injective? Explain.

         (b) Is  surjective? Explain.
416 5. Discrete Structures Revisited

         (c) Write the function using two-line notation.
8. Consider the function  : {1, 2, 3, 4}  {1, 2, 3, 4} given by the graph below.

                                             ()
                                                4

                                                3

                                                2

                                                1

                                                          1 2 3 4

         (a) Is  injective? Explain.
         (b) Is  surjective? Explain.

         (c) Write the function using two-line notation.
9. Consider the function  :    given recursively by

                                       (0) = 1 and  ( + 1) = 3 ·  ().
           Find  (12).
10. Suppose  :    satisfies the recurrence

                                       ( + 1) =  () + 6.

    Note that this is not enough information to define the function, since we

don't have an initial condition. For each of the initial conditions below, find the
value of  (7).

a. If  (0) = 1.

b.  (0) = 7.

c.  (0) = 17.

          d.  (0) = 155.
11. Suppose  :    satisfies the recurrence relation

                  ( + 1) =             ()        if  () is even
                                                 if  () is odd .
                                        2

                                      3  () + 1

Note that with the initial condition  (0) = 1, the values of the function are:
 (1) = 4 ,  (2) = 2,  (3) = 1,  (4) = 4, and so on, the images cycling through
those three numbers. Thus  is NOT injective (and also certainly not surjective).

Might it be under other initial conditions?1
                                                                  5.2. Functions 417

(a) If  satisfies the initial condition  (0) = 5, is  injective? Explain why or
     give a specific example of two elements from the domain with the same
     image.

(b) If  satisfies the initial condition  (0) = 3, is  injective? Explain why or
     give a specific example of two elements from the domain with the same
     image.

(c) If  satisfies the initial condition  (0) = 27, then it turns out that  (105) =
     10 and no two numbers less than 105 have the same image. Could  be
     injective? Explain.

         (d) Prove that no matter what initial condition you choose, the function
              cannot be surjective.

12. For each function given below, determine whether or not the function is injective
       and whether or not the function is surjective.

         (a)  :    given by  () =  + 4.

         (b)  :    given by  () =  + 4.

         (c)  :    given by  () = 5 - 8.

(d)  :    given by  () = /2                          if  is even
                                           ( + 1)/2  if  is odd.

13. Let  = {1, 2, 3, . . . , 10}. Consider the function  : ()   given by
        () = ||. That is,  takes a subset of  as an input and outputs the cardinality

       of that set.

(a) Is  injective? Prove your answer.

(b) Is  surjective? Prove your answer.

(c) Find  -1(1).

(d) Find  -1(0).

         (e) Find  -1(12).

14. Let  = {   : 0    999} be the set of all numbers with three or fewer
      digits. Define the function  :    by  () =  +  + , where , , and 
       are the digits of the number in  (write numbers less than 100 with leading 0's
       to make them three digits). In other words,  returns the sum of the digits of
       its input. For example,  (253) = 2 + 5 + 3 = 10.

         (a) Let  = {   : 306    323}. Find  ().

    1It turns out this is a really hard question to answer in general. The Collatz conjecture is that no
matter what the initial condition is, the function will eventually produce 1 as an output. This is an
open problem in mathematics: nobody knows the answer.
418 5. Discrete Structures Revisited

         (b) Find  -1({1, 3}).
         (c) Find  -1(2).
         (d) Find  -1(139).
15. Consider the set 2 =  × , the set of all ordered pairs (, ) where  and  are
      natural numbers. Consider a function  : 2   given by  ((, )) =  +  .

         (a) Let  = {(, )  2 : ,   10}. Find  ().
         (b) Find  -1(3) and  -1({0, 1, 2, 3}).
         (c) Give geometric descriptions of  -1() and  -1({0, 1, . . . , }) for any   1.
         (d) Find  -1(8) and  -1({0, 1, . . . , 8}) .
16. Let  :    be some function. Suppose 3  . What can you say about
        -1(3) if you know,

         (a)  is injective? Explain.

         (b)  is surjective? Explain.

         (c)  is bective? Explain.
17. Find a set  and a function  :    so that  -1(0)   -1(1) = .
18. What can you deduce about the sets  and  if you know,

         (a) there is an injective function  :   ? Explain.

         (b) there is a surjective function  :   ? Explain.

         (c) there is a bective function  :   ? Explain.
19. Suppose  :    is a function. Which of the following are possible? Explain.

         (a)  is injective but not surjective.

         (b)  is surjective but not injective.

         (c) || = || and  is injective but not surjective.

         (d) || = || and  is surjective but not injective.

         (e) || = ||,  and  are finite, and  is injective but not surjective.

          (f) || = ||,  and  are finite, and  is surjective but not injective.
20. Let  :    and  :    be functions. We can define the composition of

        and  to be the function    :    for which the image of each    is
       (  ()). That is, plug  into  , then plug the result into  (just like composition
       in algebra and calculus).
                                                                                                          5.2. Functions 419

         (a) If  and  are both injective, must    be injective? Explain.

         (b) If  and  are both surjective, must    be surjective? Explain.

         (c) Suppose    is injective. What, if anything, can you say about  and ?
              Explain.

         (d) Suppose    is surjective. What, if anything, can you say about  and
              ? Explain.

21. Consider the function  :    given by  () =  + 1 if  is even
                                                                            - 3 if  is odd.

         (a) Is  injective? Prove your answer.

         (b) Is  surjective? Prove your answer.

22. At the end of the semester a teacher assigns letter grades to each of her students.
       Is this a function? If so, what sets make up the domain and codomain, and is
       the function injective, surjective, bective, or neither?

23. In the game of Hearts, four players are each dealt 13 cards from a deck of 52. Is
       this a function? If so, what sets make up the domain and codomain, and is the
       function injective, surjective, bective, or neither?

24. Seven players are playing 5-card stud. Each player initially receives 5 cards
       from a deck of 52. Is this a function? If so, what sets make up the domain and
       codomain, and is the function injective, surjective, bective, or neither?

25. Consider the function  :    that gives the number of handshakes that take
       place in a room of  people assuming everyone shakes hands with everyone
       else. Give a recursive definition for this function.

26. Let  :    be a function and    be a finite subset of the domain. What
       can you say about the relationship between || and  () ? Consider both the
       general case and what happens when you know  is injective, surjective, or
       bective.

27. Let  :    be a function and    be a finite subset of the codomain. What
       can you say about the relationship between || and  -1() ? Consider both
       the general case and what happens when you know  is injective, surjective, or
       bective.

28. Let  :    be a function,    and   .

         (a) Is  -1  () = ? Always, sometimes, never? Explain.

         (b) Is   -1() = ? Always, sometimes, never? Explain.

         (c) If one or both of the above do not always hold, is there something else
              you can say? Will equality always hold for particular types of functions?
              Is there some other relationship other than equality that would always
              hold? Explore.
420 5. Discrete Structures Revisited

29. Let  :    be a function and ,    be subsets of the domain.
         (a) Is  (  ) =  ()   ()? Always, sometimes, or never? Explain.
         (b) Is  (  ) =  ()   ()? Always, sometimes, or never? Explain.

30. Let  :    be a function and ,    be subsets of the codomain.
         (a) Is  -1(  ) =  -1()   -1()? Always, sometimes, or never? Explain.
         (b) Is  -1(  ) =  -1()   -1()? Always, sometimes, or never? Explain.
                                   Chapter 6

                    Additional Topics

                      6.1 Generating Functions

There is an extremely powerful tool in discrete mathematics used to manipulate
sequences called the generating function. The idea is this: instead of an infinite
sequence (for example: 2, 3, 5, 8, 12, . . .) we look at a single function which encodes
the sequence. But not a function that gives the th term as output. Instead, a function
whose power series (like from calculus) "displays" the terms of the sequence. So for
example, we would look at the power series 2 + 3 + 52 + 83 + 124 + · · · which
displays the sequence 2, 3, 5, 8, 12, . . . as coefficients.

    An infinite power series is simply an infinite sum of terms of the form   were
 is some constant. So we might write a power series like this:

                                                                     

                                                      .

                                                                    =0

or expanded like this

                           0 + 1 + 22 + 33 + 44 + 55 + · · · .

    When viewed in the context of generating functions, we call such a power series
a generating series. The generating series generates the sequence

                                        0, 1, 2, 3, 4, 5, . . . .

    In other words, the sequence generated by a generating series is simply the
sequence of coefficients of the infinite polynomial.

Example 6.1.1

What  sequence  is  represented  by  the  generating  series  3  +  82  +  3  +  5  +
                                                                                 7
1006 + · · ·?

Solution. We just read off the coefficients of each  term. So 0 = 3 since
the coefficient of 0 is 3 (0 = 1 so this is the constant term). What is 1? It
is NOT 8, since 8 is the coefficient of 2, so 8 is the term 2 of the sequence.
To find 1 we need to look for the coefficient of 1 which in this case is 0. So
1 = 0. Continuing, we have 2 = 8, 3 = 1, 4 = 0, and 5 = 17 . So we have the
sequence

                    3, 0, 8, 1, 0, 1 , 100, . . . .
                                  7

Note that when discussing generating functions, we always start our

                                     421
422 6. Additional Topics

         sequence with 0.

         Now you might very naturally ask why we would do such a thing. One

reason is that encoding a sequence with a power series helps us keep track of

which term is which in the sequence. For example, if we write the sequence
1, 3, 4, 6, 9, . . . , 24, 41, . . . it is impossible to determine which term 24 is (even if we
agreed that the first term was supposed to be 0). However, if we wrote the generating
series instead, we would have 1 + 3 + 42 + 63 + 94 + · · · + 2417 + 4118 + · · ·. Now
it is clear that 24 is the 17th term of the sequence (that is, 17 = 24). Of course to get

this benefit we could have displayed our sequence in any number of ways, perhaps

1 0 3 1 4 2 6 3 9 4 · · · 24 17 41 18 · · ·, but we do not do this. The reason is that the
generating series looks like an ordinary power series (although we are interpreting

it differently) so we can do things with it that we ordinarily do with power series

such as write down what it converges to.

         For example, from calculus we know that the power series 1 +  + 22 + 63 + 244 +
                                                         .                    
·  ·  ·  +  !  +  ·  ·  ·  converges  to  the  function     So  we  can  use    as  a  way  of  talking  about

the sequence of coefficients of the power series for . When we write down a nice

compact function which has an infinite power series that we view as a generating

series, then we call that function a generating function. In this example, we would say

                           1, 1, 12 , 16 , 124 , . . . , 1! , . . . has generating function .

                      6.1.1 Building Generating Functions

The  example is very specific. We have a rather odd sequence, and the only reason
we know its generating function is because we happen to know the Taylor series
for . Our goal now is to gather some tools to build the generating function of a
particular given sequence.

    Let's see what the generating functions are for some very simple sequences. The
simplest of all: 1, 1, 1, 1, 1, . . . . What does the generating series look like? It is simply
1 +  + 2 + 3 + 4 + · · ·. Now, can we find a closed formula for this power series?
Yes! This particular series is really just a geometric series with common ratio . So if
we use our "multiply, shift and subtract" technique from Section 4.4, we have

                                          = 1 +  + 2 + 3 + · · ·

                               -  =  + 2 + 3 + 4 + · · ·

                                (1 - ) = 1

         Therefore we see that

                                          1 +  + 2 + 3 · · · = 1 1 -  .
                                                        6.1. Generating Functions 423

    You might remember from calculus that this is only true on the interval of
convergence for the power series, in this case when || < 1. That is true for us, but
we don't care. We are never going to plug anything in for , so as long as there is
some value of  for which the generating function and generating series agree, we
are happy. And in this case we are happy.

     1, 1, 1, . . ..

         The generating function for 1, 1, 1, 1, 1, 1, . . . is 1 1 - 

    Let's use this basic generating function to find generating functions for more
sequences. What if we replace  by -. We get

         1 1 +  = 1 -  + 2 - 3 + · · · which generates 1, -1, 1, -1, . . . .
If we replace  by 3 we get

    1 1 - 3 = 1 + 3 + 92 + 273 + · · · which generates 1, 3, 9, 27, . . . .

By  replacing  the    in   1  we  can  get  generating  functions  for  a     variety  of
                          1-
sequences, but not all. For example, you cannot plug in anything for  to get the

generating function for 2, 2, 2, 2, . . .. However, we are not lost yet. Notice that

each term of 2, 2, 2, 2, . . . is the result of multiplying the terms of 1, 1, 1, 1, . . . by the

constant 2. So multiply the generating function by 2 as well.

              2 1 -  = 2 + 2 + 22 + 23 + · · · which generates 2, 2, 2, 2, . . . .

    Similarly, to find the generating function for the sequence 3, 9, 27, 81, . . ., we note
that this sequence is the result of multiplying each term of 1, 3, 9, 27, . . . by 3. Since
we have the generating function for 1, 3, 9, 27, . . . we can say

   3 1 - 3 = 3 · 1 + 3 · 3 + 3 · 92 + 3 · 273 + · · · which generates 3, 9, 27, 81, . . . .

    What about the sequence 2, 4, 10, 28, 82, . . .? Here the terms are always 1 more
than powers of 3. That is, we have added the sequences 1, 1, 1, 1, . . . and 1, 3, 9, 27, . . .
term by term. Therefore we can get a generating function by adding the respective
generating functions:

2 + 4 + 102 + 283 + · · · = (1 + 1) + (1 + 3) + (1 + 9)2 + (1 + 27)3 + · · ·
                                  = 1 +  + 2 + 3 + · · · + 1 + 3 + 92 + 273 + · · ·
                                  =1+ 1
                                     1 -  1 - 3
424 6. Additional Topics

    The fun does not stop there: if we replace  in our original generating function
by 2 we get

             1 1 - 2 = 1 + 2 + 4 + 6 · · · which generates 1, 0, 1, 0, 1, 0, . . . .

    How could we get 0, 1, 0, 1, 0, 1, . . .? Start with the previous sequence and shift

it over by 1. But how do you do this? To see how shifting works, let's first try

to get the generating function for the sequence 0, 1, 3, 9, 27, . . .. We know that

  1   =  1 + 3    + 92    + 273        + · · ·.  To  get  the  zero  out  front,  we      need          the  generating
1-3
series to look like  + 32 + 93 + 274 + · · · (so there is no constant term). Multiplying
                                                                                                          
by    has  this  effect.      So  the  generating    function   for   0,  1,  3,  9,  27,  .  .  .  is         This  will
                                                                                                        1-3 .
also work to get the generating function for 0, 1, 0, 1, 0, 1, . . .:

             1 - 2  =  + 3 + 5 + · · · which generates 0, 1, 0, 1, 0, 1 . . . .

    What if we add the sequences 1, 0, 1, 0, 1, 0, . . . and 0, 1, 0, 1, 0, 1, . . . term by
term? We should get 1, 1, 1, 1, 1, 1 . . .. What happens when we add the generating

functions? It works (try it)!

                                           1 - 2 1 + 1 - 2  = 1 1 -  .

    Here's a sneaky one:            what happens if you take the derivative of                           1     We get

   1                                                                                                    1- ?

(1-)2 .  On  the       other  hand,    if  we    differentiate  term  by  term        in  the       power    series,  we

get (1 +  + 2 + 3 + · · · ) = 1 + 2 + 32 + 43 + · · · which is the generating series

for 1, 2, 3, 4, . . .. This says

      1, 2, 3, . . ..

         The generating function for 1, 2, 3, 4, 5, . . . is (1 - )2 1 .

    Take a second derivative:                      2 3 = 2 + 6 + 122 + 203 + · · ·.                          So 3 1 =

                                                 (1-)                                                              (1-)

1 + 3 + 62 + 103 + · · · is a generating function for the triangular numbers,

1, 3, 6, 10 . . . (although here we have 0 = 1 while 0 = 0 usually).

                                           6.1.2 Differencing

We  have   seen   how  to     find  generating       functions  from       1      using    multiplication      (by    a
                                                                          1-
constant or by ), substitution, addition, and differentiation. To use each of these,

you must notice a way to transform the sequence 1, 1, 1, 1, 1 . . . into your desired

sequence. This is not always easy. It is also not really the way we have analyzed

sequences. One thing we have considered often is the sequence of differences

between terms of a sequence. This will turn out to be helpful in finding generating

functions as well. The sequence of differences is often simpler than the original
                                                                   6.1. Generating Functions 425

sequence. So if we know a generating function for the differences, we would like to
use this to find a generating function for the original sequence.

    For example, consider the sequence 2, 4, 10, 28, 82, . . .. How could we move
to the sequence of first differences: 2, 6, 18, 54, . . .? We want to subtract 2 from
the 4, 4 from the 10, 10 from the 28, and so on. So if we subtract (term by
term) the sequence 0, 2, 4, 10, 28, . . . from 2, 4, 10, 28 . . ., we will be set. We can
get the generating function for 0, 2, 4, 10, 28, . . . from the generating function for
2, 4, 10, 28 . . . by multiplying by . Use  to represent the generating function for
2, 4, 10, 28, 82, . . . Then:

                                = 2 + 4 + 102 + 283 + 824 + · · ·

                     -  = 0 + 2 + 42 + 103 + 284 + 825 + · · ·

                      (1 - ) = 2 + 2 + 62 + 183 + 544 + · · ·

    While we don't get exactly the sequence of differences, we do get something close.
In this particular case, we already know the generating function  (we found it in
the previous section) but most of the time we will use this differencing technique to
find : if we have the generating function for the sequence of differences, we can
then solve for .

Example 6.1.2

Find a generating function for 1, 3, 5, 7, 9, . . ..

Solution. Notice that the sequence of differences is constant. We know how
to find the generating function for any constant sequence. So denote the
generating function for 1, 3, 5, 7, 9, . . . by . We have

                           = 1 + 3 + 52 + 73 + 94 + · · ·
                 -  = 0 +  + 32 + 53 + 74 + 95 + · · ·
                  (1 - ) = 1 + 2 + 22 + 23 + 24 + · · ·

     We know that 2 + 22 + 23 + 24 + · · · = 2 1 -  . Thus
                                     (1 - ) = 1 + 2 1 -  .

     Now solve for :
                              = 1 1 -  + (1 - )2 2 = (1 - )2 1 +  .

     Does this make sense? Before we simplified the two fractions into one,

we were adding the generating function for the sequence 1, 1, 1, 1, . . . to

the  generating  function  for  the  sequence  0,  2,  4,  6,  8,  10,  .  .  .  (remember     1
                                                                                            (1-)2
generates 1, 2, 3, 4, 5, . . ., multiplying by 2 shifts it over, putting the zero

out front, and doubles each term). If we add these term by term, we get the
correct sequence 1, 3, 5, 7, 9, . . ..
426 6. Additional Topics

    Now that we have a generating function for the odd numbers, we can use that to
find the generating function for the squares:

  Example 6.1.3

    Find the generating function for 1, 4, 9, 16, . . .. Note we take 1 = 0.
    Solution. Again we call the generating function for the sequence . Using
    differencing:

                                      = 1 + 4 + 92 + 163 + · · ·
                           -  = 0 +  + 42 + 93 + 164 + · · ·
                            (1 - ) = 1 + 3 + 52 + 73 + · · ·

         Since 1 + 3 + 52 + 73 + · · · = (1 - )2 1 +  we have  = (1 - )3 1 +  .

    In each of the examples above, we found the difference between consecutive
terms which gave us a sequence of differences for which we knew a generating
function. We can generalize this to more complicated relationships between terms
of the sequence. For example, if we know that the sequence satisfies the recurrence
relation  = 3-1 - 2-2? In other words, if we take a term of the sequence and
subtract 3 times the previous term and then add 2 times the term before that, we get
0 (since  - 3-1 + 2-2 = 0). That will hold for all but the first two terms of the
sequence. So after the first two terms, the sequence of results of these calculations
would be a sequence of 0's, for which we definitely know a generating function.

  Example 6.1.4

    The sequence 1, 3, 7, 15, 31, 63, . . . satisfies the recurrence relation  = 3-1 -
    2-2. Find the generating function for the sequence.
    Solution. Call the generating function for the sequence . We have

                               = 1 + 3 + 72 + 153 + 314 + · · · +   + · · ·
                        -3 = 0 - 3 - 92 - 213 - 454 - · · · - 3-1 - · · ·
                   + 22 = 0 + 0 + 22 + 63 + 144 + · · · + 2-2 + · · ·
           (1 - 3 + 22) = 1

         We multiplied  by -3 which shifts every term over one spot and
    multiplies them by -3. On the third line, we multiplied  by 22, which
    shifted every term over two spots and multiplied them by 2. When we add
    up the corresponding terms, we are taking each term, subtracting 3 times the
    previous term, and adding 2 times the term before that. This will happen for
    each term after 1 because  - 3-1 + 2-2 = 0. In general, we might have
                                                                                               6.1. Generating Functions 427

    two terms from the beginning of the generating series, although in this case
    the second term happens to be 0 as well.

        Now we just need to solve for :

                                           = 1 - 3 + 22 1 .

                     6.1.3 Multiplication and Partial Sums

What happens to the sequences when you multiply two generating functions? Let's
see:  = 0 + 1 + 22 + · · · and  = 0 + 1 + 22 + · · ·. To multiply  and ,
we need to do a lot of distributing (infinite FOIL?) but keep in mind we will group
like terms and only need to write down the first few terms to see the pattern. The
constant term is 00. The coefficient of  is 01 + 10. And so on. We get:

 = 00 +(01 + 10) +(02 + 11 + 20)2 +(03 + 12 + 21 + 30)3 +· · · .

Example 6.1.5

    "Multiply" the sequence 1, 2, 3, 4, . . . by the sequence 1, 2, 4, 8, 16, . . ..

    Solution. The new constant term is just 1·1. The next term will be 1·2+2·1 = 4.
    The next term: 1 · 4 + 2 · 2 + 3 · 1 = 11. One more: 1 · 8 + 2 · 4 + 3 · 2 + 4 · 1 = 26.
    The resulting sequence is

                                                         1, 4, 11, 26, 57, . . . .

         Since   the  generating               function           for  1, 2, 3, 4, . . .  is     1   and  the    generating
                                                                                              (1-)2

    function     for  1,   2,    4,  8,  16,   .  .  .  is    1    we  have   that        the  generating        function  for

    1,  4,  11,  26,  57,  .  .  .              1           1-2 ,
                                        (1-)2(1-2)
                                    is

    Consider the special case when you multiply a sequence by 1, 1, 1, . . .. For
example, multiply 1, 1, 1, . . . by 1, 2, 3, 4, 5 . . .. The first term is 1 · 1 = 1. Then

1 · 2 + 1 · 1 = 3. Then 1 · 3 + 1 · 2 + 1 · 1 = 6. The next term will be 10. We are

getting the triangular numbers. More precisely, we get the sequence of partial

sums     of  1, 2, 3, 4, 5, . . ..      In  terms           of  generating    functions,           we  take     1    (generating
                                                                                                               1-
1, 1, 1, 1, 1 . . .)                                           1                          1, 2, 3, 4, 5, . . .)
                      and     multiply            it    by  (1-)2      (generating                               and  this    gives

   1     This    should          not    be  a  surprise         as  we  found    the      same     generating        function   for

(1-)3 .

the triangular numbers earlier.

    The point is, if you need to find a generating function for the sum of the first

 terms of a particular sequence, and you know the generating function for that

sequence,    you      can     multiply         it    by      1    To   go  back  from         the  sequence      of  partial  sums

                                                            1- .

to the original sequence, you look at the sequence of differences. When you get the

sequence of differences you end up multiplying by 1 - , or equivalently, dividing

by   1      Multiplying             by   1     gives        partial    sums,  dividing         by   1  gives     differences.
                                        1-                                                         1-
    1- .
428 6. Additional Topics

   6.1.4 Solving Recurrence Relations with Generating Functions

We conclude with an example of one of the many reasons studying generating
functions is helpful. We can use generating functions to solve recurrence relations.

Example 6.1.6

Solve the recurrence relation  = 3-1 - 2-2 with initial conditions 0 = 1
and 1 = 3.

Solution. We saw in an example above that this recurrence relation gives
the sequence 1, 3, 7, 15, 31, 63, . . . which has generating function 1 - 3 + 22 1 .
We did this by calling the generating function  and then computing  -
3 + 22 which was just 1, since every other term canceled out.

    But how does knowing the generating function help us? First, break up
the generating function into two simpler ones. For this, we can use partial
fraction decomposition. Start by factoring the denominator:

                                  1=                   1.
                          1 - 3 + 22 (1 - )(1 - 2)

    Partial fraction decomposition tells us that we can write this faction as the
sum of two fractions (we decompose the given fraction):

         1 (1 - )(1 - 2) =  1 -  +  1 - 2 for some constants  and .

    To find  and  we add the two decomposed fractions using a common
denominator. This gives

                          1 (1 - )(1 - 2) = (1 - 2) + (1 - ) (1 - )(1 - 2) .

so
                                  1 = (1 - 2) + (1 - ).

      This must be true for all values of . If  = 1, then the equation becomes

1  =  -  so    =  -1.     When    =  1  we  get  1  =  /2  so    =  2.  This  tells  us  that  we
                                     2

can decompose the fraction like this:

                          1 (1 - )(1 - 2) = -1 1 -  + 2 1 - 2 .

    This completes the partial fraction decomposition. Notice that these two
fractions are generating functions we know. In fact, we should be able to
expand each of them.

-1 1 -  = -1 -  - 2 - 3 - 4 - · · · which generates - 1, -1, -1, -1, -1, . . . .
                                                                                            6.1. Generating Functions 429

     2 1 - 2 = 2 + 4 + 82 + 163 + 324 + · · · which generates 2, 4, 8, 16, 32, . . . .
         We can give a closed formula for the th term of each of these sequences.

    The first is just  = -1. The second is  = 2+1. The sequence we are
    interested in is just the sum of these, so the solution to the recurrence relation
    is

                                               = 2+1 - 1.

    We can now add generating functions to our list of methods for solving recurrence
relations.

                                       6.1.5 Exercises

1. Find the generating function for each of the following sequences by relating
       them back to a sequence with known generating function.
         (a) 4, 4, 4, 4, 4, . . ..
         (b) 2, 4, 6, 8, 10, . . ..
         (c) 0, 0, 0, 2, 4, 6, 8, 10, . . ..
         (d) 1, 5, 25, 125, . . ..
         (e) 1, -3, 9, -27, 81, . . ..
          (f) 1, 0, 5, 0, 25, 0, 125, 0, . . ..
         (g) 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, . . ..

2. Find the sequence generated by the following generating functions:
         (a) 4 1 -  .
         (b) 1 1 - 4 .
                 
         (c) 1 +  .
                  3
         (d) (1 + )2 .
               1 +  + 2
         (e) (1 - )2 (Hint: multiplication).

3. Show how you can get the generating function for the triangular numbers in
       three different ways:
         (a) Take two derivatives of the generating function for 1, 1, 1, 1, 1, . . .
430 6. Additional Topics

         (b) Use differencing.

         (c) Multiply two known generating functions.
4. Use differencing to find the generating function for 4, 5, 7, 10, 14, 19, 25, . . ..
5. Find a generating function for the sequence with recurrence relation  =

       3-1 - -2 with initial terms 0 = 1 and 1 = 5.
6. Use the recurrence relation for the Fibonacci numbers to find the generating

       function for the Fibonacci sequence.
7. Use multiplication to find the generating function for the sequence of partial

       sums of Fibonacci numbers, 0, 1, 2, . . . where 0 = 0, 1 = 0 + 1, 2 =
       0 + 1 + 2, 3 = 0 + 1 + 2 + 3 and so on.
8. Find the generating function for the sequence with closed formula  =
       2(5) + 7(-3).
9. Find a closed formula for the th term of the sequence with generating function
       3 1 - 4 + 1 1 -  .
10. Find 7 for the sequence with generating function (1 - )2 2 · 1 -  - 2  .
11. Explain how we know that (1 - )2 1 is the generating function for 1, 2, 3, 4, . . ..
12. Starting with the generating function for 1, 2, 3, 4, . . ., find a generating function
       for each of the following sequences.

         (a) 1, 0, 2, 0, 3, 0, 4, . . ..

         (b) 1, -2, 3, -4, 5, -6, . . ..

         (c) 0, 3, 6, 9, 12, 15, 18, . . ..

         (d) 0, 3, 9, 18, 30, 45, 63, . . .. (Hint: relate this sequence to the previous one.)
13. You may assume that 1, 1, 2, 3, 5, 8, . . . has generating function 1 -  - 2 1

       (because it does). Use this fact to find the sequence generated by each of the
       following generating functions.

                        2

         (a) 1--2 .
         (b) 1- - 12 4 .
         (c) 2 1 .

                    1-3-9

                             1

         (d) (1--2)(1-) .
14. Find the generating function for the sequence 1, -2, 4, -8, 16, . . ..
15. Find the generating function for the sequence 1, 1, 1, 2, 3, 4, 5, 6, . . ..
                                                                                            6.1. Generating Functions 431

16. Suppose  is the generating function for the sequence 3, 5, 9, 15, 23, 33, . . ..
         (a) Find a generating function (in terms of ) for the sequence of differences
              between terms.

         (b) Write the sequence of differences between terms and find a generating
              function for it (without referencing ).

         (c) Use your answers to parts (a) and (b) to find the generating function for
              the original sequence.
              6.2 Introduction to Number Theory

We have used the natural numbers to solve problems. This was the right set of
numbers to work with in discrete mathematics because we always dealt with a whole
number of things. The natural numbers have been a tool. Let's take a moment now
to inspect that tool. What mathematical discoveries can we make about the natural
numbers themselves?

    This is the main question of number theory: a huge, ancient, complex, and above
all, beautiful branch of mathematics. Historically, number theory was known as the
Queen of Mathematics and was very much a branch of pure mathematics, studied for
its own sake instead of as a means to understanding real-world applications. This
has changed in recent years however, as applications of number theory have been
unearthed. Probably the most well-known example of this is RSA cryptography, one
of the methods used to encrypt data on the internet. It is number theory that makes
this possible.

    What sorts of questions belong to the realm of number theory? Here is a
motivating example. Recall in our study of induction, we asked:

       Which amounts of postage can be made exactly using just 5-cent and
       8-cent stamps?

We were able to prove that any amount greater than 27 cents could be made. You
might wonder what would happen if we changed the denomination of the stamps.
What if we instead had 4- and 9-cent stamps? Would there be some amount after
which all amounts would be possible? Well, again, we could replace two 4-cent
stamps with a 9-cent stamp, or three 9-cent stamps with seven 4-cent stamps. In each
case we can create one more cent of postage. Using this as the inductive case would
allow us to prove that any amount of postage greater than 23 cents can be made.

    What if we had 2-cent and 4-cent stamps. Here it looks less promising. If we
take some number of 2-cent stamps and some number of 4-cent stamps, what can
we say about the total? Could it ever be odd? Doesn't look like it.

    Why does 5 and 8 work, 4 and 9 work, but 2 and 4 not work? What is it about
these numbers? If I gave you a pair of numbers, could you tell me right away if
they would work or not? We will answer these questions, and more, after first
investigating some simpler properties of numbers themselves.

                                     6.2.1 Divisibility

It is easy to add and multiply natural numbers. If we extend our focus to all integers,
then subtraction is also easy (we need the negative numbers, so we can subtract
any number from any other number, even larger from smaller). Division is the first
operation that presents a challenge. If we wanted to extend our set of numbers so
any division would be possible (maybe excluding division by 0), we would need to
look at the rational numbers (the set of all numbers that can be written as fractions).
This would be going too far, so we will refuse this option.

                                                    432
                      6.2. Introduction to Number Theory 433

    In fact, it is a good thing that not every number can be divided by other numbers.
This helps us understand the structure of the natural numbers and opens the door
to many interesting questions and applications.

    If given numbers  and , it is possible that  ÷  gives a whole number. In this
case, we say that  divides ; in symbols, we write  | . If this holds, then  is a
divisor or factor of , and  is a multiple of . In other words, if  | , then  =   for
some integer  (this is saying  is some multiple of ).

     The Divisibility Relation.

         Given integers  and , we say " divides " and write

                                                   |

    provided  ÷  is an integer. Thus the following assertions mean the same
    thing:

        1.  | .

        2.  =  for some integer .

        3.  is a factor (or divisor) of .

        4.  is a multiple of .

    Notice that  |  is a statement. It is either true or false. On the other hand,
 ÷  or / is some number. If we want to claim that / is not an integer, so 
does not divide , then we can write   .

  Example 6.2.1

Decide whether each of the statements below are true or false.

1. 4 | 20  4. 5 | 0   7. -3 | 12
2. 20 | 4  5. 7 | 7   8. 8 | 12
3. 0 | 5   6. 1 | 37  9. 1642 | 136299

Solution.

   1. True. 4 "goes into" 20 five times without remainder. In other words,
       20 ÷ 4 = 5, an integer. We could also justify this by saying that 20 is a
       multiple of 4: 20 = 4 · 5.

   2. False. While 20 is a multiple of 4, it is false that 4 is a multiple of 20.

   3. False. 5 ÷ 0 is not even defined, let alone an integer.
434 6. Additional Topics

        4. True. In fact,  | 0 is true for all . This is because 0 is a multiple of
           every number: 0 =  · 0.

        5. True. In fact,  |  is true for all .

        6. True. 1 divides every number (other than 0).

        7. True. Negative numbers work just fine for the divisibility relation. Here
           12 = -3 · 4. It is also true that 3 | -12 and that -3 | -12.

        8. False. Both 8 and 12 are divisible by 4, but this does not mean that 12 is
           divisible by 8.

        9. False. See below.

    This last example raises a question: How might one decide whether  | ? Of
course, if you had a trusted calculator, you could ask it for the value of  ÷ . If it
spits out anything other than an integer, you know   . This seems a little like
cheating though: We don't have division, so should we really use division to check
divisibility?

    While we don't really know how to divide, we do know how to multiply. We
might try multiplying  by larger and larger numbers until we get close to . How
close? Well, we want to be sure that if we multiply  by the next larger integer, we
go over .

    For example, let's try this to decide whether 1642 | 136299. Start finding multiples
of 1642:

              1642 · 2 = 3284 1642 · 3 = 4926 1642 · 4 = 6568 · · · .

    All of these are well less than 136299. I suppose we can jump ahead a bit:

             1642 · 50 = 82100 1642 · 80 = 131360 1642 · 85 = 139570.

    Ah, so we need to look somewhere between 80 and 85. Try 83:

                                          1642 · 83 = 136286.

    Is this the best we can do? How far are we from our desired 136299? If we
subtract, we get 136299 - 136286 = 13. So we know we cannot go up to 84; that will
be too much. In other words, we have found that

                                       136299 = 83 · 1642 + 13.

    Since 13 < 1642, we can now safely say that 1642  136299.
    It turns out that the process we went through above can be repeated for any pair of
numbers. We can always write the number  as some multiple of the number  plus
some remainder. We know this because we know about division with remainder
from elementary school. This is just a way of saying it using multiplication. Due
to the procedural nature that can be used to find the remainder, this fact is usually
called the division algorithm:
               6.2. Introduction to Number Theory 435

 The Division Algorithm.
    Given any two integers  and , we can always find an integer  such that
                                             =  + 

where  is an integer satisfying 0   < ||

    The idea is that we can always take a large enough multiple of  so that the
remainder  is as small as possible. We do allow the possibility of  = 0, in which
case we have  | .

                                6.2.2 Remainder Classes

The division algorithm tells us that there are only  possible remainders when
dividing by . If we fix this divisor, we can group integers by the remainder. Each
group is called a remainder class modulo  (or sometimes residue class).

Example 6.2.2

Describe the remainder classes modulo 5.

Solution. We want to classify numbers by what their remainder would be
when divided by 5. From the division algorithm, we know there will be
exactly 5 remainder classes, because there are only 5 choices for what  could
be (0   < 5).

    First consider  = 0. Here we are looking for all the numbers divisible by
5 since  = 5 + 0. In other words, the multiples of 5. We get the infinite set

                         {. . . , -15, -10, -5, 0, 5, 10, 15, 20, . . .}.

    Notice we also include negative integers.
    Next consider  = 1. Which integers, when divided by 5, have remainder
1? Well, certainly 1 does, as does 6, and 11. Negatives? Here we must be
careful: -6 does NOT have remainder 1. We can write -6 = -2 · 5 + 4 or
-6 = -1 · 5 - 1, but only one of these is a "correct" instance of the division
algorithm:  = 4 since we need  to be non-negative. So in fact, to get  = 1,
we would have -4, or -9, etc. Thus we get the remainder class

                          {. . . , -14, -9, -4, 1, 6, 11, 16, 21, . . .}.

There are three more to go. The remainder classes for 2, 3, and 4 are,

respectively

               {. . . , -13, -8, -3, 2, 7, 12, 17, 22, . . .}

               {. . . , -12, -7, -2, 3, 8, 13, 18, 23, . . .}

               {. . . , -11, -6, -1, 4, 9, 14, 19, 24, . . .}.
436 6. Additional Topics

    Note that in the example above, every integer is in exactly one remainder class.
The technical way to say this is that the remainder classes modulo  form a partition
of the integers.1 The most important fact about partitions is that it is possible to
define an equivalence relation from a partition: This is a relationship between pairs
of numbers which acts in all the important ways like the "equals" relationship.2

    All fun technical language aside, the idea is really simple. If two numbers belong
to the same remainder class, then in some way, they are the same. That is, they are
the same up to division by . In the case where  = 5 above, the numbers 8 and 23,
while not the same number, are the same when it comes to dividing by 5, because
both have remainder 3.

    It matters what the divisor is: 8 and 23 are the same up to division by 5, but not
up to division by 7, since 8 has a remainder of 1 when divided by 7 while 23 has a
remainder of 2.

    With all this in mind, let's introduce some notation. We want to say that 8 and
23 are basically the same, even though they are not equal. It would be wrong to
say 8 = 23. Instead, we write 8  23. But this is not always true. It works if we are
thinking division by 5, so we need to denote that somehow. What we will actually
write is this:

                                            8  23 (mod 5)

which is read, "8 is congruent to 23 modulo 5" (or just "mod 5"). Of course then we
could observe that

                                           8 23 (mod 7).

     Congruence Modulo .

         We say  is congruent to  modulo , and write,

                                               (mod )

    provided  and  have the same remainder when divided by . In other
    words, provided  and  belong to the same remainder class modulo .

    Many books define congruence modulo  slightly differently. They say that
   (mod ) if and only if  |  - . In other words, two numbers are congruent
modulo , if their difference is a multiple of . So which definition is correct? It

turns out that it doesn't matter; they are equivalent.
    To see why, consider two numbers  and  that are congruent modulo . Then 

and  have the same remainder when divided by . We have

                           = 1 +    = 2 + .

    1It is possible to develop a mathematical theory of partitions, prove statements about all partitions

in general, and then apply those observations to our case here.
    2Again, there is a mathematical theory of equivalence relations which applies in many more

instances than the one we look at here. See Subsection 2.6.4.
                                                                                6.2. Introduction to Number Theory 437

    Here the two 's really are the same. Consider what we get when we take the
difference of  and :

                     -  = 1 +  - (2 + ) = 1 - 2 = (1 - 2).
    So  -  is a multiple of , or equivalently,  |  - .
    On the other hand, if we assume first that  |  - , so  -  = , then consider
what happens if we divide each term by . Dividing  by  will leave some remainder,
as will dividing  by . However, dividing  by  will leave 0 remainder. So the
remainders on the left-hand side must cancel out. That is, the remainders must be
the same.
    Thus we have:

     Congruence and Divisibility.

         For any integers , , and , we have

                         (mod ) if and only if  | ( - ).

    It will also be useful to switch back and forth between congruences and regular
equations. The above fact helps with this. We know that    (mod ) if and only
if  |  - , if and only if  -  =  for some integer . Rearranging that equation,
we get  =  + . In other words, if  and  are congruent modulo , then  is 
more than some multiple of . This conforms with our earlier observation that all
the numbers in a particular remainder class are the same amount larger than the
multiples of .

     Congruence and Equality.

         For any integers , , and , we have

            (mod ) if and only if  =  +  for some integer .

                           6.2.3 Properties of Congruence

We said earlier that congruence modulo  behaves, in many important ways, the
same way equality does. Specifically, we could prove that congruence modulo  is
an equivalence relation, which would require checking the following three facts:

     Congruence Modulo  is an Equivalence Relation.

         Given any integers , , and , and any positive integer , the following
    hold:

        1.    (mod ).

        2. If    (mod ) then    (mod ).
438 6. Additional Topics

        3. If    (mod ) and    (mod ), then    (mod ).

         In other words, congruence modulo  is reflexive, symmetric, and transi-
    tive, and so is an equivalence relation.

    You should take a minute to convince yourself that each of the properties above
actually holds for congruence. Try explaining each using both the remainder and
divisibility definitions.

    Next, consider how congruence behaves when doing basic arithmetic. We already
know that if you subtract two congruent numbers, the result will be congruent
to 0 (be a multiple of ). What if we add something congruent to 1 to something
congruent to 2? Will we get something congruent to 3?

     Congruence and Arithmetic.

         Suppose    (mod ) and    (mod ). Then the following hold:

        1.  +    +  (mod ).

        2.  -    -  (mod ).

        3.    (mod ).

    The above facts might be written a little strangely, but the idea is simple. If we
have a true congruence, and we add the same thing to both sides, the result is still a
true congruence. This sounds like we are saying:

       If    (mod ) then  +    +  (mod ).
Of course this is true as well; it is the special case where  = . But what we have
works in more generality. Think of congruence as being "basically equal." If we
have two numbers that are basically equal, and we add basically the same thing to
both sides, the result will be basically equal.

    This seems reasonable. Is it really true? Let's prove the first fact:
Proof. Suppose    (mod ) and    (mod ). That means  =  +  and
 =  +  for integers  and . Add these equations:

                                       +  =  +  +  + .

    But  +  = ( + ), which is just a multiple of . So  +  =  +  + ( + ),
or in other words,  +    +  (mod ).

    The other two facts can be proved in a similar way.
    One of the important consequences of these facts about congruences is that
we can basically replace any number in a congruence with any other number it is
congruent to. Here are some examples to see how (and why) that works:
                                                                               6.2. Introduction to Number Theory 439

  Example 6.2.3

    Find the remainder of 3491 divided by 9.
    Solution. We could do long division, but there is another way. We want
    to find  such that   3491 (mod 9). Now 3491 = 3000 + 400 + 90 + 1. Of
    course 90  0 (mod 9), so we can replace the 90 in the sum with 0. Why is
    this okay? We are actually subtracting the "same" thing from both sides:

                                    3000 + 400 + 90 + 1 (mod 9)
                               - 0  90 (mod 9)

                                    3000 + 400 + 0 + 1 (mod 9).

         Next, note that 400 = 4 · 100, and 100  1 (mod 9) (since 9 | 99). So we
    can in fact replace the 400 with simply a 4. Again, we are appealing to our
    claim that we can replace congruent elements, but we are really appealing to
    property 3 about the arithmetic of congruence: We know 100  1 (mod 9), so
    if we multiply both sides by 4, we get 400  4 (mod 9).

         Similarly, we can replace 3000 with 3, since 1000 = 1 + 999  1 (mod 9).
    So our original congruence becomes

                                       3 + 4 + 0 + 1 (mod 9)

                                              8 (mod 9).

    Therefore 3491 divided by 9 has remainder 8.

    The above example should convince you that the well-known divisibility test for
9 is true: The sum of the digits of a number is divisible by 9 if and only if the original
number is divisible by 9. In fact, we now know something more: Any number is
congruent to the sum of its digits, modulo 9.3

    Let's try another.

  Example 6.2.4

    Find the remainder when 3123 is divided by 7.
    Solution. Of course, we are working with congruence because we want
    to find the smallest positive  such that   3123 (mod 7). Now first write
    3123 = (33)41. We have:

                                    3123 = 2741  641 (mod 7),
    since 27  6 (mod 7). Notice further that 62 = 36 is congruent to 1 modulo 7.
    Thus we can simplify further:

                                641 = 6 · (62)20  6 · 120 (mod 7).

    3This works for 3 as well, but definitely not for any modulus in general.
440 6. Additional Topics

         But 120 = 1, so we are done:

                                          3123  6 (mod 7).

    In the above example, we are using the fact that if    (mod ), then   
(mod ). This is just applying property 3 a bunch of times.

    So far we have seen how to add, subtract, and multiply with congruences. What
about division? There is a reason we have waited to discuss it. It turns out that we
cannot simply divide. In other words, even if    (mod ), we do not know
that    (mod ). Consider, for example,

                                          18  42 (mod 8).

    This is true. Now 18 and 42 are both divisible by 6. However,

                                            3 7 (mod 8).

    While this doesn't work, note that 3  7 (mod 4). We cannot divide 8 by 6, but
we can divide 8 by the greatest common factor of 8 and 6. Will this always happen?

    Suppose    (mod ). In other words, we have  =  +  for some
integer . Of course  is divisible by , as is . So  must also be divisible by .
Now if  and  have no common factors (other than 1), then we must have  | . But
in general, if we try to divide  by , we don't know that we will get an integer
multiple of . Some of the  might get divided as well. To be safe, let's divide as
much of  as we can. Take the largest factor of both  and , and cancel that out
from . The rest of the factors of  will come from , no problem.

    We will call the largest factor of both  and  the gcd(, ), for greatest common
divisor. In our example above, gcd(6, 8) = 2 since the greatest divisor common to 6
and 8 is 2.

     Congruence and Division.

         Suppose    (mod ). Then    (mod gcd(,)  ).
         If  and  have no common factors, then gcd(, ) = 1, so    (mod ).

  Example 6.2.5

    Simplify the following congruences using division: (a) 24  39 (mod 5) and
    (b) 24  39 (mod 15).
    Solution. (a) Both 24 and 39 are divisible by 3, and 3 and 5 have no common
    factors, so we get

                                           8  13 (mod 5).

         (b) Again, we can divide by 3. However, doing so blindly gives us 8  13
    (mod 15) which is no longer true. Instead, we must also divide the modulus
                                        6.2. Introduction to Number Theory 441

15 by the greatest common factor of 3 and 15, which is 3. Again we get
                                       8  13 (mod 5).

                        6.2.4 Solving Congruences

Now that we have some algebraic rules to govern congruence relations, we can
attempt to solve for an unknown in a congruence. For example, is there a value of 

that satisfies,

                        3 + 2  4 (mod 5),

and if so, what is it?

    In this example, since the modulus is small, we could simply try every possible
value for . There are really only 5 to consider, since any integer that satisfied the

congruence could be replaced with any other integer it was congruent to modulo
5. Here, when  = 4 we get 3 + 2 = 14, which is indeed congruent to 4 modulo 5.
This means that  = 9 and  = 14 and  = 19 and so on will each also be a solution

because, as we saw above, replacing any number in a congruence with a congruent

number does not change the truth of the congruence.
    So in this example, simply compute 3 + 2 for values of   {0, 1, 2, 3, 4}. This

gives 2, 5, 8, 11, and 14 respectively, for which only 14 is congruent to 4.

    Let's also see how you could solve this using our rules for the algebra of

congruences. Such an approach would be much simpler than the trial and error

tactic if the modulus was larger. First, we know we can subtract 2 from both sides:

                        3  2 (mod 5).

Then to divide both sides by 3, we first add 0 to both sides. Of course, on the

right-hand side, we want that 0 to be a 10 (yes, 10 really is 0 since they are congruent

modulo 5). This gives,

                        3  12 (mod 5).

Now divide both sides by 3. Since gcd(3, 5) = 1, we do not need to change the

modulus:

                          4 (mod 5).

    Notice that this in fact gives the general solution: Not only can  = 4, but  can be
any number which is congruent to 4. We can leave it like this, or write " = 4 + 5
for any integer ."

Example 6.2.6
 Solve the following congruences for .
     1. 7  12 (mod 13).
     2. 84 - 38  79 (mod 15).
442 6. Additional Topics

3. 20  23 (mod 14).

Solution.

1. All we need to do here is divide both sides by 7. We add 13 to the

right-hand side repeatedly until we get a multiple of 7 (adding 13 is the

same as adding 0, so this is legal). We get 25, 38, 51, 64, 77 - got it. So

we have:                  7  12 (mod 13)

                          7  77 (mod 13)

                            11 (mod 13).

2. Here, since we have numbers larger than the modulus, we can reduce

them prior to applying any algebra. We have 84  9, 38  8 and 79  4.

Thus,                     84 - 38  79 (mod 15)

                          9 - 8  4 (mod 15)

                          9  12 (mod 15)

                          9  72 (mod 15).

We got the 72 by adding 0  60 (mod 15) to both sides of the congruence.
Now divide both sides by 9. However, since gcd(9, 15) = 3, we must

divide the modulus by 3 as well:

                            8 (mod 5).

So the solutions are those values that are congruent to 8, or equivalently
3, modulo 5. This means that in some sense there are 3 solutions modulo
15: 3, 8, and 13. We can write the solution:

           3 (mod 15);   8 (mod 15);   13 (mod 15).

3. First, reduce modulo 14:

                                     20  23 (mod 14)

                                      6  9 (mod 14).

   We could now divide both sides by 3 or try to increase 9 by a multiple
   of 14 to get a multiple of 6. If we divide by 3, we get,

                                      2  3 (mod 14).

   Now try adding multiples of 14 to 3, in hopes of getting a number we
   can divide by 2. This will not work! Every time we add 14 to the right
   side, the result will still be odd. We will never get an even number, so
   we will never be able to divide by 2. Thus there are no solutions to the
   congruence.
                                         6.2. Introduction to Number Theory 443

The last congruence above illustrates the way in which congruences might not

have solutions. We could have seen this immediately in fact. Look at the original

congruence:

             20  23 (mod 14).

If we write this as an equation, we get

             20 = 23 + 14,

or equivalently 20 - 14 = 23. We can easily see there will be no solution to this
equation in integers. The left-hand side will always be even, but the right-hand side
is odd. A similar problem would occur if the right-hand side was divisible by any
number that the left-hand side was not.

    So in general, given the congruence

                (mod ),

if  and  are divisible by a number by which  is not divisible, then there will be no
solutions. In fact, we really only need to check one divisor of  and : the greatest

common divisor. Thus, a more compact way to say this is:

Congruences with No Solutions.

If gcd(, )  , then    (mod ) has no solutions.

                 6.2.5 Solving Linear Diophantine Equations

Discrete math deals with whole numbers of things. So when we want to solve
equations, we usually are looking for integer solutions. Equations that are intended
to only have integer solutions were first studied by in the third century by the
Greek mathematician Diophantus of Alexandria, and as such are called Diophantine
equations. Probably the most famous example of a Diophantine equation is 2+2 = 2.
The integer solutions to this equation are called Pythagorean triples. In general,
solving Diophantine equations is hard (in fact, there is provably no general algorithm
for deciding whether a Diophantine equation has a solution, a result known as
Matiyasevich's Theorem). We will restrict our focus to linear Diophantine equations,
which are considerably easier to work with.

     Diophantine Equations.

         An equation in two or more variables is called a Diophantine equation if
    only integer solutions are of interest. A linear Diophantine equation takes
    the form 11 + 22 + · · · +   =  for constants 1, . . . ,  , .

         A solution to a Diophantine equation is a solution to the equation consist-
    ing only of integers.
444 6. Additional Topics

    We have the tools we need to solve linear Diophantine equations. We will
consider, as a main example, the equation

                                           51 + 87 = 123.

    The general strategy will be to convert the equation to a congruence, and then
solve that congruence.4 Let's work through this particular example to see how this

might go.

    First, check if perhaps there are no solutions because a divisor of 51 and 87 is
not a divisor of 123. Really, we just need to check whether gcd(51, 87) | 123. This
greatest common divisor is 3, and yes 3 | 123. At this point, we might as well factor

out this greatest common divisor. So instead, we will solve:

                          17 + 29 = 41.

    Now observe that if there are going to be solutions, then for those values of 
and , the two sides of the equation must have the same remainder as each other, no

matter what we divide by. In particular, if we divide both sides by 17, we must get

the same remainder. Thus we can safely write

                          17 + 29  41 (mod 17).

We choose 17 because 17 will have remainder 0. This will allow us to reduce the

congruence to just one variable. We could have also moved to a congruence modulo

29, although there is usually a good reason to select the smaller choice, as this will

allow us to reduce the other coefficient. In our case, we reduce the congruence as

follows:                  17 + 29  41 (mod 17)

                          0 + 12  7 (mod 17)

                          12  24 (mod 17)

                            2 (mod 17).

    Now at this point we know  = 2 + 17 will work for any integer . If we haven't

made a mistake, we should be able to plug this back into our original Diophantine
equation to find :

                                17 + 29(2 + 17) = 41

                                                  17 = -17 - 29 · 17

                                                      = -1 - 29.

    We have now found all solutions to the Diophantine equation. For each ,
 = -1 - 29 and  = 2 + 17 will satisfy the equation. We could check this for a
few cases. If  = 0, the solution is (-1, 2), and yes, -17 + 2 · 29 = 41. If  = 3, the
solution is (-88, 53). If  = -2, we get (57, -32).

    To summarize this process, to solve  +   = , we,

    4This is certainly not the only way to proceed. A more common technique would be to apply the
Euclidean algorithm. Our way can be a little faster, and is presented here primarily for variety.
                                        6.2. Introduction to Number Theory 445

1. Divide both sides of the equation by gcd(, ) (if this does not leave the right-
   hand side as an integer, there are no solutions). Let's assume that  +   = 
   has already been reduced in this way.

2. Pick the smaller of  and  (here, assume it is ), and convert to a congruence
   modulo :
                                         +     (mod ).

   This will reduce to a congruence with one variable, :

                                              (mod ).

3. Solve the congruence as we did in the previous section. Write your solution as

an equation, such as,

                           =  + .

4. Plug this into the original Diophantine equation, and solve for .

5. If we want to know solutions in a particular range (for example, 0  ,   20),
   pick different values of  until you have all required solutions.

Here is another example:

Example 6.2.7

How can you make $6.37 using just 5-cent and 8-cent stamps? What is the
smallest and largest number of stamps you could use?

Solution. First, we need a Diophantine equation. We will work in numbers
of cents. Let  be the number of 5-cent stamps, and  be the number of 8-cent

stamps. We have:

                          5 + 8 = 637.

Convert to a congruence and solve:

                          8  637 (mod 5)
                          3  2 (mod 5)
                          3  12 (mod 5)

                             4 (mod 5).

    Thus  = 4 + 5. Then 5 + 8(4 + 5) = 637, so  = 121 - 8.

    This says that one way to make $6.37 is to take 121 of the 5-cent stamps

and 4 of the 8-cent stamps. To find the smallest and largest number of stamps,
try different values of .
446 6. Additional Topics

                           (, ) Stamps

                          -1 (129, -1) not possible

                          0 (121, 4) 125

                          1 (113, 9) 122

                          2 (105, 13) 119
                          .. ..  ..
                          ..       .

This is no surprise. Having the most stamps means we have as many 5-cent

stamps as possible, and to get the smallest number of stamps would require

having the least number of 5-cent stamps. To minimize the number of 5-cent
stamps, we want to pick  so that 121 - 8 is as small as possible (but still
positive). When  = 15, we have  = 1 and  = 79.

    Therefore, to make $6.37, you can use as few as 80 stamps (1 5-cent stamp

and 79 8-cent stamps) or as many as 125 stamps (121 5-cent stamps and 4

8-cent stamps).

Using this method, as long as you can solve linear congruences in one variable,

you can solve linear Diophantine equations of two variables. There are times, though,

that solving the linear congruence is a lot of work. For example, suppose you need

to solve,

                          13  6 (mod 51).

You could keep adding 51 to the right side until you get a multiple of 13: You

would get 57, 108, 159, 210, 261, 312, and 312 is the first of these that is divisible

by 13. This works but is really too much work. Instead we could convert back to a

Diophantine equation:

                                 13 = 6 + 51.

Now solve this like we have in this section. Write it as a congruence modulo 13:

                                          0  6 + 51 (mod 13)
                                     -12  6 (mod 13)

                                        2  -1 (mod 13)
                                        2  12 (mod 13)

                                            6 (mod 13).

so  = 6 + 13. Now go back and figure out :

                          13 = 6 + 51(6 + 13)
                              = 24 + 51.

    Of course you could do this switching back and forth between congruences and
Diophantine equations as many times as you like. If you only used this technique,
                   6.2. Introduction to Number Theory 447

you would essentially replicate the Euclidean algorithm, a more standard way to
solve Diophantine equations.

                                       6.2.6 Exercises

1. Suppose , , and  are integers. Prove that if  | , then  | .

2. Suppose , , and  are integers. Prove that if  |  and  |  then  |  +  and
        |  - .

3. Write out the remainder classes for  = 4.
4. What is the largest  such that 16 and 25 are in the same remainder class

       modulo ? Write out the remainder class they both belong to and give an
       example of a number more than 100 in that class.

5. Let , , , and  be integers. Prove that if    (mod ) and    (mod ),
       then  -    -  (mod ).

6. Find the remainder of 3456 when divided by

(a) 2.  (b) 5.     (c) 7.                                   (d) 9.

7. Repeat the previous exercise, this time dividing 22019.

8. Determine which of the following congruences have solutions, and find any
       solutions (between 0 and the modulus) by trial and error.

(a) 4  5 (mod 6).

(b) 6  3 (mod 9).

         (c) 2  2 (mod 4).

9. Determine which of the following congruences have solutions, and find any
       solutions (between 0 and the modulus) by trial and error.

(a) 4  5 (mod 7).

(b) 6  4 (mod 9).

         (c) 2  2 (mod 7).
10. Solve the congruence: 5 + 8  11 (mod 22). That is, describe the general

       solution.
11. Solve the congruence: 6  4 (mod 10).

12. Solve the congruence: 4  24 (mod 30).

13. Solve the congruence: 341  2941 (mod 9).

14. I'm thinking of a number. If you multiply my number by 7, add 5, and divide
       the result by 11, you will be left with a remainder of 2. What remainder would
       you get if you divided my original number by 11?
448 6. Additional Topics

15. Solve the following linear Diophantine equation, using modular arithmetic
       (describe the general solutions).

                                                 6 + 10 = 32.
16. Solve the following linear Diophantine equation, using modular arithmetic

       (describe the general solutions).

                                                 17 + 8 = 31.
17. Solve the following linear Diophantine equation, using modular arithmetic

       (describe the general solutions).

                                                 35 + 47 = 1.
18. You have a 13 oz. bottle and a 20 oz. bottle, with which you wish to measure

       exactly 2 oz. However, you have a limited supply of water. If any water enters
       either bottle and then gets dumped out, it is gone forever. What is the least
       amount of water you can start with and still complete the task?
                                          Appendix A

                  Selected Hints

1 · Logic and Proofs
1.1 · Mathematical Statements
1.1.6 · Additional Exercises

1.1.6.3. First figure out what each statement is saying. For part (c), you don't need to
assume the domain is an infinite set.

1.2 · Implications
1.2.6 · Additional Exercises

1.2.6.4. Of course there are many answers. It helps to assume that the statement is
true and the converse is not true. Think about what that means in the real world,
and then start saying it in different ways. Some ideas: Use "necessary and sufficient"
language, use "only if," consider negations, use "or else" language.

1.3 · Rules of Logic
1.3.8 · Additional Exercises

1.3.8.1. You could probably reason through the cases by hand, but try making a
truth table. Use two statements,  being "we are cousins" and  being "we are both
knaves".
1.3.8.4. You should write down three statements using the symbols , , , . If
Geoff is a truth-teller, then all three statements would be true. If he was a liar, then
all three statements would be false. But in either case, we don't yet know whether
the four atomic statements are true or false, since he hasn't said them by themselves.

    A truth table might help, although it is probably not entirely necessary.
1.3.8.8.

  (a) There will be three rows in which the statement is false.

  (b) Consider the three rows that evaluate to false, and say what the truth values of
       , , and  are there.

  (c) You are looking for a row in which  is true and the whole statement is true.
1.3.8.9. Write down three statements, and then take the negation of each (since he
is a liar). You should find that Tommy ate one item and drank one item. ( is for
cucumber sandwiches.)
1.3.8.11. What do these concepts mean in terms of truth tables?
1.3.8.14. Try an example. What if () was the predicate, " is prime"? What if it
was, "If  is divisible by 4, then it is even"? Of course examples are not enough to
prove something in general, but that is entirely the point of this question.

                                                    449
450 A. Selected Hints

1.3.8.15. It might help to translate the statements into symbols and then use the

formulaic rules to simplify negations (i.e., rules for quantifiers and De Morgan's
laws). After simplifying, you should get (¬()  ¬()) for the first one, for

example. Then translate this back into English.

1.4 · Proofs
1.4.8 · Additional Exercises

1.4.8.6. One of the implications will be a direct proof; the other will be a proof by

contrapositive.
                                                                                

1.4.8.7. This is really an exercise in modifying the proof that 2 is irrational. There

you proved things were even; here they will be multiples of 3.

1.4.8.8. Part (a) should be a relatively easy direct proof. Look for a counterexample
for part (b).

1.4.8.10. A proof by contradiction would be reasonable here, because then you get to
assume that both  and  are odd. Deduce that 2 is even, and therefore a multiple

of 4 (why? and why is that a contradiction?).

1.4.8.12. Use a different style of proof for each part.

1.4.8.14.  Note  that  if  log(7)  =   ,  then  7  =          Can  any  power  of  7  be  the  same  as  a

                                                      10  .

power of 10?

1.4.8.15. What if there were? Deduce that  must be odd, and continue towards a
contradiction.
1.4.8.16. Prove the contrapositive by cases. There will be 4 cases to consider.

1.4.8.17. Your friend's proof is a proof, but of what? What implication follows from
the given proof? Is that helpful?

1.4.8.19. Consider the set of numbers of friends that everyone has. If everyone had a
different number of friends, this set must contain 20 elements. Is that possible? Why
not?

1.4.8.20. This feels like the pigeonhole principle, although a bit more complicated.
At least, you could try to replicate the style of proof used by the pigeonhole principle.
How would the episodes need to be spaced out so that no two of your sixty were
exactly 4 apart?

1.5 · Proofs about Discrete Structures
1.5.8 · Additional Exercises

1.5.8.1. To prove that    if and only if    = , you need to prove two
implications:

  (a) If   , then    = .

  (b) If    = , then   .

To prove two sets are equal, we usually prove that each is a subset of the other.
                                                                                                          Selected Hints 451

2 · Graph Theory
2.1 · Problems and Definitions
2.1.4 · Practice Problems

2.1.4.5. Remember that  is the path that contains  edges and  + 1 vertices.

2.1.5 · Additional Exercises

2.1.5.3. Both situations are possible. Go find some examples.
2.1.5.6. The bipartite graph is a little tricky. You will definitely want a complete
bipartite graph, but it could be 5,5 or maybe 1,9, or . . .
2.1.5.7. The first graph is bipartite, which can be seen by labeling it as follows.

                                                          

                                                

                                                          

    Two of the remaining three are also bipartite.
2.1.5.8. 4 is bipartite; 5 is not. What about all the other values of ?
2.1.5.11. You should be able to deduce everything directly from the definition.
However, perhaps it would be helpful to know that the  stands for neighborhood.
2.1.5.12. Be careful to make sure the edges are not "directed." In a graph, if  is
adjacent to , then  is adjacent to . In the language of relations, we say that the
edge relation is symmetric.
2.1.5.13. You might want to answer the questions for some specific values of  to get
a feel for them, but your final answers should be in terms of .
2.1.5.14. Try a small example first: Any graph with 8 vertices must have two vertices
of the same degree. If not, what would the degree sequence be?
2.1.5.15. Use the handshake lemma 2.1.8. What would happen if all the vertices had
degree 2?

2.2 · Trees
2.2.7 · Additional Exercises

2.2.7.3. Careful: the graphs might not be connected.
2.2.7.4. Try Exercise 2.2.7.2.
2.2.7.5. Try a proof by contradiction, and consider a spanning tree of the graph.
2.2.7.7. For part (b), trying some simple examples should give you the formula. Then
you just need to prove it is correct.
2.2.7.8. Examining the proof of Proposition 2.2.2 gives you most of what you need,
but make sure to just give the relevant parts, and take care to not use proof by
452 A. Selected Hints

contradiction.
2.2.7.9. Minimality here should be in terms of the number of vertices. If you had a
minimum counterexample and removed a leaf vertex, the resulting graph will be a
smaller tree, so...
2.2.7.10. If  is the root, then  will have three children (, , and ), all of which will
be siblings and have  as their parent.  will not have any children.

    In general, how can you determine the number of children a vertex will have, if
it is not a root?
2.2.7.14. There is an example with 7 edges.

2.2.7.15. The previous exercise will be helpful.

2.2.7.16. Note that such an edge, if removed, would disconnect the graph. We call
graphs that have an edge like this 1-connected.

2.3 · Planar Graphs
2.3.7 · Additional Exercises

2.3.7.3. What would Euler's formula tell you?

2.3.7.5. You can use the handshake lemma to find the number of edges, in terms of
, the number of vertices.
2.3.7.11. What is the length of the shortest cycle? (This quantity is usually called the
girth of the graph.)

2.3.7.14. The girth of the graph is 4.

2.3.7.15. What has happened to the girth? Careful: We have a different number of
edges as well. Better check Euler's formula.

2.4 · Euler Trails and Circuits
2.4.6 · Additional Exercises

2.4.6.7. This is harder than the previous three questions. Think about which "side"
of the graph the Hamilton path would need to be on at every other step.

2.4.6.9. If you read off the names of the students in order, you would need to read
each student's name exactly once, and the last name would need to be of a student
who was friends with the first. What sort of a cycle is this?

2.4.6.10. Draw a graph with 6 vertices and 8 edges. What sort of walk would be
appropriate?

2.5 · Coloring
2.5.6 · Additional Exercises

2.5.6.6.

  (c) Will you eventually color every vertex following the procedure? Will there
       ever be a vertex you cannot color according to the procedure?
                                                                                                          Selected Hints 453

2.5.6.7.

  (a) You will want the teams to be vertices and games to be edges. Which does it
       make sense to color?

2.5.6.10. The chromatic number is 4. Now prove this!
    Note that you cannot use the 4-color theorem, or Brooke's theorem, or the clique

number here. In fact, this graph, called the Grötzsch graph, is the smallest graph with
chromatic number 4 that does not contain any triangles.
2.5.6.13. You can color 5 in such a way that every vertex is adjacent to exactly two
blue edges and two red edges. However, there is a graph with only 5 edges that will
result in a vertex incident to three edges of the same color, no matter how they are
colored. What is it, and how can you generalize?

2.5.6.14. The previous exercise is useful as a starting point.

2.8 · Chapter Summary

· Chapter Review

2.8.23. You might want to give the proof in two parts. First prove by induction that
the cycle  has  = . Then consider what happens if the graph is more than just
the cycle.

3 · Counting
3.2 · Combining Outcomes
3.2.6 · Practice Problems

3.2.6.9. Break the question into 4 cases.

3.2.7 · Additional Exercises

3.2.7.2. For a simpler example, there are 4 divisors of 6 = 2 · 3. They are 1 = 20 · 30,
2 = 21 · 30, 3 = 20 · 31, and 6 = 21 · 31.

3.3 · Non-Disjoint Outcomes
3.3.6 · Practice Problems

3.3.6.6. To find out how many numbers are divisible by 4 and 5, for example, take
715/(4 · 5) and round down.

3.3.7 · Additional Exercises

3.3.7.1. For part (a) you could use the formula for PIE, but for part (b) you might be
better off drawing a Venn diagram.

3.3.7.2. You could consider cases. For example, any number of the form ODD-ODD-
EVEN will have an even sum. Alternatively, how many three-digit numbers have
the sum of their digits even if the first two digits are 54? What if the first two digits
are 19?

3.4 · Combinations and Permutations
3.4.7 · Additional Exercises
454 A. Selected Hints

3.4.7.1. If you pick any three points, you can get a triangle, unless those three points
are all on the -axis or on the -axis. There are other ways to start this as well, and
any correct method should give the same answer.

3.5 · Counting Multisets
3.5.5 · Practice Problems

3.5.5.6. The probability will be 1 divided by however many different combinations
of 9 coins your friend could have.

3.5.6 · Additional Exercises

3.5.6.3.

  (b) This really requires proving four facts. That every multiset corresponds to at
       least one diagram, and that every diagram corresponds to at least one multiset.
       Then that every multiset corresponds to at most one diagram, and that every
       diagram corresponds to at most one multiset. In other words, we must prove
       that the function is well defined, injective, and surjective.

3.6 · Combinatorial Proofs
3.6.6 · Additional Exercises

3.6.6.3. There will be 185 triangles. But to find them . . .

  (a) How many vertices of the triangle can be on the horizontal axis?

  (b) Will any three dots work as the vertices?
3.6.6.4. The answer is 120.
3.6.6.6. Try Exercise 3.6.6.5.
3.6.6.7. What if you wanted a pair of co-maids-of-honor?
3.6.6.8. For the combinatorial proof: What if you don't yet know how many
bridesmaids you will have?
3.6.6.9. Count handshakes.
3.6.6.13. This one might remind you of Example 3.6.6
3.6.6.14. For the lattice paths, think about what sort of paths 2 would count. Not all
the paths will end at the same point, but you could describe the set of end points as
a line.
3.6.6.16. How many edges does  have? One of the two graphs will not be connected
(unless  = 1 ).

3.7 · Applications to Probability
3.7.6 · Practice Problems

3.7.6.7.

  (b) You could list out all the ways you can get a 6, or use sticks and stones.
                                                                               Selected Hints 455

3.7.7 · Additional Exercises

3.7.7.4. Use complementary probabilities. And don't be surprised if your answer is
larger than you would have expected.

3.9 · Chapter Summary

· Chapter Review

3.9.16. Use stars and bars.

4 · Sequences
4.1 · Describing Sequences
4.1.6 · Practice Problems

4.1.6.4. Try adding or subtracting the same small number from each term to see if
you recognize the sequence.

4.1.6.5. Try adding, subtracting, or dividing each term by a constant to make the
sequence more recognizable.

    For part (d), try expressing the sequence as the sum of two well known sequences.

4.1.7 · Additional Exercises

4.1.7.8. You will want to write out the sequence, guess a closed formula, and then
verify that you are correct.

4.1.7.9. Write out the sequence, guess a recursive definition, and verify that the
closed formula is a solution to that recursive definition.
4.1.7.12. Try an example: When you draw the 4th line, it will cross three other lines
and so will be divided into four segments, two of which are infinite. Each segment
will divide a previous region into two.

4.1.7.13. Consider three cases: The last digit is a 0, a 1, or a 2. Two of these should be
easy to count, but strings ending in 0 cannot be proceeded by a 2, so they require a
little more work.
4.1.7.15. Think recursively, like you did in Pascal's triangle.

4.1.7.16. There is only one way to tile a 2 × 1 board, and two ways to tile a 2 × 2 board
(you can orient the dominoes in two ways). In general, consider the two ways the
domino covering the top left corner could be oriented.

4.2 · Rate of Growth
4.2.7 · Additional Exercises

4.2.7.5.  We  can  write  the  recurrence  relation  as      =  .  What  happens         when  you
                                                         -1
multiply all the different versions of this recurrence relation (for different values of

) together?

4.2.7.6. Telescoping to find a sum.

                          (+1)
Using the fact that  = 2 , each term in the sequence is (+1) .        2

What is the result of the following fraction subtraction:          2  -  2  ,  or  2  -  25 ?  What is
                                                                   3     4         4
456 A. Selected Hints

happening in general?

4.4 · Exponential Sequences
4.4.5 · Practice Problems

4.4.5.3. Use telescoping or iteration.

4.5 · Proof by Induction
4.5.7 · Additional Exercises

4.5.7.9. It is not possible to score exactly 11 points. Can you prove that you can score
 points for any   12?

4.5.7.11. Start with ( + 1)-gon, and divide it up into a -gon and a triangle.

4.5.7.15. For the inductive step, you can assume you have a strictly increasing
sequence up to  where  < 100. Now you just need to find the next term +1 so
that  < +1 < 100. What should +1 be?

4.5.7.17. For the inductive case, you will need to show that ( + 1)2 + ( + 1) is even.
Factor this out, and locate the part of it that is 2 + . What have you assumed about

that quantity?

4.5.7.18. This is similar to Exercise 4.5.7.15, although there you were showing that
a sequence had all its terms less than some value, and here you are showing that
the sum is less than some value. But the partial sums forms a sequence, so this is
actually very similar.

4.5.7.19. We have already proved this without using induction, but looking at it
inductively sheds light onto the problem (and is fun).

    The question you need to answer to complete the inductive step is, how many
new handshakes take place when a person  + 1 enters the room? Why does adding
this give you the correct formula?

4.5.7.20. Here's the idea: Since every entry in Pascal's triangle is the sum of the two
entries above it, we can get the  + 1st row by adding up all the pairs of entry from
the th row. But doing this uses each entry on the th row twice. Thus each time we

drop to the next row, we double the total. Of course, row 0 has sum 1 = 20 (the base

case). Now try to make this precise with a formal induction proof. You will use the
                -1        -1
fact that    =  -1     +      for the inductive case.

4.5.7.21. To see why this works, try it on a copy of Pascal's triangle. We are adding
up the entries along a diagonal, starting with the 1 on the left-hand side of the 4th
row. Suppose we add up the first 5 entries on this diagonal. The claim is that the
sum is the entry below and to the left of the last of these 5 entries. Note that if this is
true, and we instead add up the first 6 entries, we will need to add the entry one spot
to the right of the previous sum. But these two together give the entry below them,
which is below and left of the last of the 6 entries on the diagonal. If you follow that,
you can see what is going on. But it is not a great proof. A formal induction proof is
needed.
                                                                      Selected Hints 457

4.5.7.23. You are allowed to assume the base case. For the inductive case, group all
but the last function together as one sum of functions, and then apply the usual sum
of derivatives rule, and then the inductive hypothesis.

4.5.7.24. For the inductive step, we know by the product rule for two functions that

           ( 1 2 3 · · ·  +1) = ( 1 2 3 · · · ) +1 + ( 1 2 3 · · · ) +1  .

    Then use the inductive hypothesis on the first summand, and distribute.

4.5.7.25. You can inductively assume that from the first  - 2 implications you can
deduce 1  -1. Then you can use a truth table to verify that this simplified
deduction rule is valid.

4.6 · Strong Induction
4.6.5 · Additional Exercises

4.6.5.1. If you have three base cases, can you always be sure you can get three points
more?
4.6.5.2. Start with a ( + 1)-gon, and divide it into two smaller polygons.

4.6.5.4. As with the previous question, we will want to subtract something from  in
the inductive step. There we subtracted the largest power of 2 less than . So what
should you subtract here?

    Note that you will still need to take care here that the sum you get from the
inductive hypothesis, together with the number you subtracted, will be a sum of
distinct Fibonacci numbers. In fact, you could prove that the Fibonacci numbers in
the sum are non-consecutive!

4.6.5.6. You will need to use strong induction. For the inductive case, try multiplying

 + 1       + 1      , and collect which terms together are integers.

                  

4.6.5.8. You will need three base cases. This is a very good hint actually, as it suggests
that to prove () is true, you would want to use the fact that ( - 3) is true. So

somehow you need to increase the number of squares by 3.

4.7 · Chapter Summary

· Chapter Review

4.7.14.
  (a) ( + 1)+1 > ( + 1) · .

(b) This should be similar to the other sum proofs. The last bit comes down to
     adding fractions.

(c) Write 4+1 - 1 = 4 · 4 - 4 + 3.

(d) One 9-cent stamp is 1 more than two 4-cent stamps, and seven 4-cent stamps is
     1 more than three 9-cent stamps.
458 A. Selected Hints

(e) Be careful to actually use induction here. The base case: 22 = 4. The inductive
    case: Assume (2)2 is divisible by 4, and consider (2 + 2)2 = (2)2 + 4 + 4.
    This is divisible by 4 because 4 + 4 clearly is, and by our inductive hypothesis,
    so is (2)2.

4.7.15. This is a straight-forward induction proof. Note that you will need to simplify

(+1) 2 3               (+1)(+2) 2
2 + ( + 1) and get                 .
                       2

4.7.16. There are two base cases (0) and (1). Then, for the inductive case, assume
() is true for all  < . This allows you to assume -1 = 1 and -2 = 1. Apply

the recurrence relation.

5 · Discrete Structures Revisited
5.1 · Sets
5.1.5 · Exercises

5.1.5.7. You should be able to write all of them out. Don't forget  and , which are
also candidates for .
5.1.5.14. It might help to think about what the union 2  3 is first. Then think
about what numbers are not in that union. What will happen when you also include
5?

5.1.5.17. We are looking for a set containing 16 sets.

5.1.5.18. Write these out, or at least start to and look for a pattern.

5.1.5.29. It looks like you should be able to define the set  like this. But consider
the two possible values for ||.

5.2 · Functions
5.2.4 · Exercises

5.2.4.2. Since the domain and codomain are the same size, is it possible for a function
to be injective but not surjective, or surjective but not injective?

5.2.4.20. Work with some examples. What if  = 1 2 3    and  =    5 6 7 ?

5.2.4.25. To find the recurrence relation, consider how many new handshakes occur
when person  + 1 enters the room.

5.2.4.29. One of these is not always true. Try some examples!

6 · Additional Topics
6.1 · Generating Functions
6.1.5 · Exercises

6.1.5.10. You should "multiply" the two sequences.

6.2 · Introduction to Number Theory
6.2.6 · Exercises
                                                                                                          Selected Hints 459

6.2.6.13. First reduce each number modulo 9, which can be done by adding up the
digits of the numbers.
6.2.6.18. Solve the Diophantine equation 13 + 20 = 2 (why?). Then consider which
value of  (the parameter in the solution) is optimal.
                                          Appendix B

               Selected Solutions

1 · Logic and Proofs
1.1 · Mathematical Statements
1.1.5 · Practice Problems

1.1.5.4.
    · (, )
            Some people can be fooled all of the time.
    · (, )
            Everyone can be fooled sometimes.
    · (, )
            It is always true that some people can be fooled.
    · (, )
            Sometimes everyone can be fooled.

1.1.5.5.
   A. Correct.
   B. Incorrect.
   C. Incorrect.
   D. Incorrect.

1.1.5.6.
   A. Correct.
   B. Incorrect.
       Careful, (, ) means  is less than , not  is less than or equal to .
   C. Incorrect.
   D. Incorrect.
   E. Correct.

1.1.5.7.
  (a) (15) is true, since 17 · 15 + 1 = 256 is even.

                                                    461
462 B. Selected Solutions

  (b) Since (15) is true, we know that () is true. There is at least one  for
       which () is true.

  (c) Just because one value of  makes () true does not mean that all values of 
       make () true. But it could be. So we cannot conclude that () is true or
       false.

1.1.5.8.
  (a) (15) is false, since 18 · 15 + 1 = 271 is odd.
  (b) Since (15) is false, we do not know whether () is true. There could be
       some other value of  for which () is true.
  (c) We know that there is some value of  makes () false so we know that
       () is false.

1.1.5.9.

   A. Incorrect.

   B. Incorrect.

   C. Correct.

   D. Correct.

1.1.6 · Additional Exercises

1.1.6.1.
  (a)   .
  (b)   ¬.

  (c) Jack passed math or Jill passed math (or both).

  (d) If Jack and Jill did not both pass math, then Jill did.

  (e) i. Nothing else.
          ii. Jack did not pass math either.

1.1.6.2.
  (a) ¬(()  ()).
  (b) (()  ( + 1)).
  (c) (()  ()) (where () means " is prime").
  (d) ( <  <    <  < ).
  (e) ¬( <  <  + 1).
                                                                                                     Selected Solutions 463

1.2 · Implications
1.2.5 · Practice Problems

1.2.5.1. The main thing to realize is that we do not know the colors of these two
shapes, but we do know that we are in one of three cases: We could have a purple
circle and orange pentagon. We could have a circle that was not purple but a orange
pentagon. Or we could have a circle that was not purple and a pentagon that was
not orange. The case in which the circle is purple but the pentagon is not orange
cannot occur, as that would make the statement false.
1.2.5.2. The only way for an implication    to be true but its converse to be false
is for  to be true and  to be false. Thus we know that circle is purple and that
square is not yellow.
1.2.5.3. The converse is "If I will give you a cow, then you will give me magic beans."
The contrapositive is "If I will not give you a cow, then you will not give me magic
beans." All the other statements are neither the converse nor contrapositive.

1.2.6 · Additional Exercises

1.2.6.1.

  (a) Any even number plus 2 is an even number.

  (b) For any  there is a  such that sin() = . In other words, every number  is
       in the domain of sine.

  (c) For every  there is an  such that sin() = . In other words, every number 
       is in the range of sine (which is false).

  (d) For any numbers, if the cubes of two numbers are equal, then the numbers are
       equal.

1.2.6.3.

  (a) If you have lost weight, then you exercised.

  (b) If you exercise, then you will lose weight.

  (c) If you are American, then you are patriotic.

  (d) If you are patriotic, then you are American.

  (e) If a number is rational, then it is real.

   (f) If a number is not even, then it is prime. (Or the contrapositive: If a number is
       not prime, then it is even.)

  (g) If the Broncos don't win the Super Bowl, then they didn't play in the Super
       Bowl. Alternatively, if the Broncos play in the Super Bowl, then they will win
       the Super Bowl.
464 B. Selected Solutions

1.2.6.5. It is true that in order for a function to be differentiable at a point , it is
necessary for the function to be continuous at . However, it is not necessary that a
function be differentiable at  for it to be continuous at .

    It is true that to be continuous at a point , it is sufficient that the function be
differentiable at . However, it is not the case that being continuous at  is sufficient
for a function to be differentiable at .

1.3 · Rules of Logic
1.3.7 · Practice Problems

1.3.7.1. If you think about what this statement is saying, it makes sense that it is a

tautology (that it is true in every case). The complete truth table is:

                                             (  )  (  ))

                        TT T              T              T
                        TF F              T              T
                         FT F             T              T
                         FF F             F              T

1.3.7.2. The truth table is:                 ¬  (  ))

                              ¬           T           T
                                          T           T
                            TT F          F           F
                            TF T          T           T
                            FT F
                            FF T

If this statement is false, we must be in the third row, making  false and  true.
1.3.7.3. The complete truth table is:

                             ¬         ¬       (¬  )

                          TTT F           T          T
                          TTF F           F          F
                          TFT F           T          T
                          TFF F           F          T
                          FTT T           T          T
                          FTF T           T          T
                          FFT T           T          T
                          FFF T           T          T

1.3.7.4. The complete truth table is:
                         Selected Solutions 465

     (  ) (  )  (  )

TTT      T            T

TTF      T            T

TFT      T            T

TFF      F            F

FTT      T            T

FTF      T            T

FFT      T            T

FFF      T            T

Since the two columns are identical, the statements are logically equivalent.
1.3.7.5. The complete truth table is:

          ¬ ¬

     TT     T     FF
                  TF
     TF     F     FT
                  TT
     FT     T

     FF     T

There is only one row in which both premises are true (row 4). In this row, the
conclusion is also true. Thus the deduction rule is valid.
1.3.7.6. The complete truth table is:

     (  ) ¬(  )

TTT            T      F

TTF            T      F

TFT            T      T

TFF            F      T

FTT            T      F

FTF            T      F

FFT            T      F

FFF            T      F

There is only one row in which both premises are true (row 3). In this row, the
conclusion is also true, so the deduction rule is valid.

1.3.7.7. The complete truth table is:
466 B. Selected Solutions

                  (  )   ¬  ¬ ¬

               TTT                 T           F  F

               TTF                 F           F  T

               TFT                 T           T  F

               TFF                 T           T  T

               FTT                 T           T  F

               FTF                 T           T  T

               FFT                 T           T  F

               FFF                 T           T  T

In rows 3, 5 and 7 both of the premises are true, but the conclusion is false. Thus the
deduction rule is not valid.
1.3.7.8. The complete truth table is:

                                   ¬

                           TTT T               F

                           TTF T               F

                           TFT F               T

                           TFF        F        T

                           FTT T               F

                           FTF T               F

                           FFT T               F

                           FFF T               F

There is no row in which both premises are true (indeed, these are contradictory
premises; the second is the negation of the first). Thus every row in which both
premises are true (i.e., no row), the conclusion is also true. Therefore the deduction
rule is valid. (This is an example of how everything follows from a contradiction.)

1.3.7.9.

A. Correct.

B. Incorrect.

C. Incorrect.

   D. Incorrect.

1.3.8 · Additional Exercises

1.3.8.3.
  (a) : It's your birthday; : There will be cake. (  )  

(b) Hint: You should get three T's and one F.

(c) Only that there will be cake.

(d) It's NOT your birthday!
                                                      Selected Solutions 467

  (e) It's your birthday, but the cake is a lie.   The statements are logically

1.3.8.5. Make a truth table for each and compare.
equivalent.
1.3.8.6.

(a)   .

(b) (¬  ¬)  (  ¬) or, replacing the implication with a disjunction first:
     (  )  (  ¬).

(c) (  )  (  ¬). This is necessarily false, so it is also equivalent to   ¬.

  (d) Either Sam is a woman and Chris is a man, or Chris is a woman.
1.3.8.16.

(a) (()  ¬()).
(b) (    (      )).
(c) There is a number  for which every other number is strictly greater than .
(d) There is a number  which is not between any other two numbers.

1.4 · Proofs
1.4.7 · Practice Problems

1.4.7.1.

· Let  be an arbitrary integer, and assume  is even.

    · Since the product of any number with an even number is even,

    · 7 must be even.
1.4.7.2.

    · Let  be an arbitrary integer, and assume  is odd.

    · Since 7 is odd and the product of an odd number and an odd number is odd,

    · 7 must be odd.
1.4.7.3.

· Let  and  be integers, and assume both are even.

    · The sum of two even integers must also be even.

    · Therefore  +  is even.
1.4.7.4.

    · Let  and  be integers, and assume that  +  is odd but  and  are both even.

· The sum of two even integers must also be even.
468 B. Selected Solutions

    · But then  +  is both even and odd, a contradiction.
1.4.7.6.

    · Direct proof

            Assume  :    is a bection

    · Proof by contrapositive

            Assume ||  ||

    · Proof by contradiction

            Assume  :    is a bection and ||  ||

1.4.8 · Additional Exercises

1.4.8.1.

  (a) The claim that () means that () is true no matter what  you consider
       in the domain of discourse. Thus the only way to prove that () is true is
       to check or otherwise argue that () is true for all  in the domain.

  (b) To prove () is false all you need is one example of an element in the
       domain for which () is false. This is often called a counterexample.

  (c) We are simply claiming that there is some element  in the domain of discourse
       for which () is true. If you can find one such element, you have verified the
       claim.

  (d) Here we are claiming that no element we find will make () true. The only
       way to be sure of this is to verify that every element of the domain makes ()
       false. Note that the level of proof needed for this statement is the same as to
       prove that () is true.

1.4.8.2.

  (a) For all integers  and , if  or  is not even, then  +  is not even.

  (b) For all integers  and , if  and  are even, then  +  is even.

  (c) There are numbers  and  such that  +  is even but  and  are not both
       even.

  (d) False. For example,  = 3 and  = 5.  +  = 8, but neither  nor  is even.

  (e) False, since it is equivalent to the original statement.

   (f) True. Let  and  be integers. Assume both are even. Then  = 2 and  = 2
       for some integers  and . But then  +  = 2 + 2 = 2( + ), which is even.

  (g) True, since the statement is false.
                                               Selected Solutions 469

1.4.8.3.

  (a) Proof by contradiction. Start of proof: Assume, for the sake of contradiction,
       that there are integers  and  such that  is a prime greater than 5 and
        = 6 + 3. End of proof: . . . this is a contradiction, so there are no such
       integers.

  (b) Direct proof. Start of proof: Let  be an integer. Assume  is a multiple of 3.
       End of proof: Therefore  can be written as the sum of consecutive integers.

  (c) Proof by contrapositive. Start of proof: Let  and  be integers. Assume that 
       and  are even. End of proof: Therefore 2 + 2 is even.

1.4.8.4.

(a) Direct proof.

Proof . Let  be an integer. Assume  is even. Then  = 2 for some integer .

Thus 8 = 16 = 2(8). Therefore 8 is even.       

  (b) The converse is false. That is, there is an integer  such that 8 is even but  is
       odd. For example, consider  = 3. Then 8 = 24 which is even, but  = 3 is

       odd.

1.4.8.5.

(a) This is an example of the pigeonhole principle. We can prove it by contraposi-
     tive.

Proof . Suppose that each number only came up 6 or fewer times. So there are

at most six 1's, six 2's, and so on. That's a total of 36 dice, so you must not have

rolled all 40 dice.                            

(b) We can have 9 dice without any four matching or any four being all different:
     three 1's, three 2's, three 3's. We will prove that whenever you roll 10 dice, you
     will always get four matching or all being different.

Proof . Suppose you roll 10 dice, but that there are NOT four matching rolls.

This means that at most there are three of any given value. If we only had

three different values, that would be only 9 dice, so there must be 4 different

values, giving 4 dice that are all different.  

1.5 · Proofs about Discrete Structures
1.5.7 · Practice Problems

1.5.7.1.
   A. Incorrect.
   B. Correct.
   C. Incorrect.
470 B. Selected Solutions

   D. Incorrect.
       This would be a good start to a proof by contradiction or contrapositive, not a
       direct proof.

1.5.7.2.

   A. Incorrect.

   B. Correct.

   C. Incorrect.

   D. Incorrect.
       This would be a good start to a direct proof, not a proof by contradiction.

1.5.7.3.
    · Suppose     , and let  be an element of .
    · Then  is an element of    since     .
    · Since    contains all the elements that are in both  and ,  is an element
       of .
    · Therefore   .

1.5.7.4.
    · First we will prove that (  )    .
    · Let  be an element of (  )  .
    · Then  is an element of   , or  is an element of .
    · So in particular,  is an element of .
    · Therefore (  )    .
    · Second, we will prove that   (  )  .
    · Let  be an element of .
    · Then  is an element of (  )  , since  is in  or in the other set.
    · Therefore   (  )  .
    · Since (  )     and   (  )  , we have (  )   = .

1.5.7.5.
    · Suppose 1  2.
    · Let  be an element of  -1(1).
    · This means that  () is an element of 1.
                                                           Selected Solutions 471

· Since 1  2,  () is an element of 2.
· This then means that  is an element of  -1(2).
· Therefore  -1(1)   -1(2).

1.6 · Chapter Summary

· Chapter Review

1.6.1.

                     ¬  (  )

                  TTT        T

                  TTF        T

                  TFT        T

                  TFF        T

                  FTT        T

                  FTF        F

                  FFT        F

                  FFF        F

1.6.2. Peter is not tall, and Robert is not skinny. You must be in row 6 in the truth
table above.
1.6.3. Yes. To see this, make a truth table for each statement and compare.

1.6.4. Make a truth table that includes all three statements in the argument:

                   (  )

        TTT T             T                             T

        TTF            T  F                             F

        TFT            F  T                             F

        TFF            F  F                             F

        FTT T             T                             T

        FTF            T  T                             T

        FFT T             T                             T

        FFF            T  T                             T

Notice that in every row for which both    and    is true, so is   (  ).
Therefore, whenever the premises of the argument are true, so is the conclusion. In
other words, the deduction rule is valid.

1.6.5.

(a) Negation: The power goes off, and the food does not spoil.
     Converse: If the food spoils, then the power went off.
     Contrapositive: If the food does not spoil, then the power did not go off.

(b) Negation: The door is closed, and the light is on.
472 B. Selected Solutions

       Converse: If the light is off, then the door is closed.

       Contrapositive: If the light is on, then the door is open.

  (c) Negation: ( < 1  2  1)
       Converse: (2 < 1   < 1)
       Contrapositive: (2  1    1).

  (d) Negation: There is a natural number  which is prime but not solitary.
       Converse: For all natural numbers , if  is solitary, then  is prime.
       Contrapositive: For all natural numbers , if  is not solitary, then  is not
       prime.

  (e) Negation: There is a function which is differentiable and not continuous.
       Converse: For all functions  , if  is continuous, then  is differentiable.
       Contrapositive: For all functions  , if  is not continuous then  is not
       differentiable.

   (f) Negation: There are integers  and  for which  ·  is even but  or  is odd.
       Converse: For all integers  and , if  and  are even, then  is even.
       Contrapositive: For all integers  and , if  or  is odd, then  is odd.

  (g) Negation: There are integers  and  such that for every integer ,  > 0 and
         .
       Converse: For every integer  and every integer  there is an integer  such
       that if  > , then  > 0.
       Contrapositive: For every integer  and every integer  there is an integer 
       such that if   , then   0.

  (h) Negation: There are real numbers  and  such that   = 0, but   0 and
         0.
       Converse: For all real numbers  and , if  = 0 or  = 0, then   = 0
       Contrapositive: For all real numbers  and , if   0 and   0, then    0.

   (i) Negation: There is at least one student in Math 228 who does not understand
       implications but will still pass the exam.

       Converse: For every student in Math 228, if they fail the exam, then they did
       not understand implications.

       Contrapositive: For every student in Math 228, if they pass the exam, then
       they understood implications.
1.6.6.
  (a) The statement is true. If  is an even integer less than or equal to 7, then the
       only way it could not be negative is if  was equal to 0, 2, 4, or 6.
                                                  Selected Solutions 473

  (b) There is an integer  such that  is even and   7, but  is not negative and
         {0, 2, 4, 6}. This is false, since the original statement is true.

  (c) For all integers , if  is not negative and   {0, 2, 4, 6}, then  is odd or  > 7.
       This is true, since the contrapositive is equivalent to the original statement
       (which is true).

  (d) For all integers , if  is negative or   {0, 2, 4, 6}, then  is even and   7.
       This is false.  = -3 is a counterexample.

1.6.7.

  (a) For any number , if it is the case that adding any number to  gives that
       number back, then multiplying any number by  will give 0. This is true (of
       the integers or the reals). The "if" part only holds if  = 0, and in that case,
       anything times  will be 0.

  (b) The converse in words is this: For any number , if everything times  is zero,
       then everything added to  gives itself. Or in symbols: (( ·  = 0) 
       ( +  = )). The converse is true: The only number which when multiplied
       by any other number gives 0 is  = 0. And if  = 0, then  +  = .

  (c) The contrapositive in words is: For any number , if there is some number
       which when multiplied by  does not give zero, then there is some number
       which when added to  does not give that number. In symbols: (( ·  
       0)  ( +   )). We know the contrapositive must be true because the
       original implication is true.

  (d) The negation: There is a number  such that any number added to  gives the
       number back again, but there is a number you can multiply  by and not get
       0. In symbols: (( +  = )  ( ·   0)). Of course since the original
       implication is true, the negation is false.

1.6.8.

  (a) (¬  )  (¬  (  ¬)).

  (b) ( =  +   ( -   )).

1.6.9.

(a) Direct proof.

Proof .  Let  be an integer. Assume  is odd. So  = 2 + 1 for some integer .
Then                   7 = 7(2 + 1) = 14 + 7 = 2(7 + 3) + 1.

Since 7 + 3 is an integer, we see that 7 is odd.  

(b) The converse is: For all integers , if 7 is odd, then  is odd. We will prove
     this by contrapositive.
474 B. Selected Solutions

       Proof . Let  be an integer. Assume  is not odd. Then  = 2 for some integer
       . So 7 = 14 = 2(7) which is to say 7 is even. Therefore 7 is not odd. 

1.6.10.

  (a) Suppose you only had 5 coins of each denomination. This means you have 5
       pennies, 5 nickels, 5 dimes, and 5 quarters. This is a total of 20 coins. But you
       have more than 20 coins, so you must have more than 5 of at least one type.

  (b) Suppose you have 22 coins, including 2 nickels, 2 dimes, and 2 quarters (so
       an even number of each of these three types of coins). The number of pennies
       you have will then be

                                   22 - 2 - 2 - 2 = 2(11 -  -  - ).

       But this says that the number of pennies is also even (it is 2 times an integer).
       Thus we have established the contrapositive of the statement, "If you have an
       odd number of pennies, then you have an odd number of at least one other
       coin type."

  (c) You need 10 coins. You could have 3 pennies, 3 nickels, and 3 dimes. The 10th
       coin must either be a quarter, giving you 4 coins that are all different, or else a
       4th penny, nickel, or dime. To prove this, assume you don't have 4 coins that
       are all the same or all different. In particular, this says that you only have 3
       coin types, and each of those types can only contain 3 coins, for a total of 9
       coins, which is less than 10.

2 · Graph Theory
2.1 · Problems and Definitions
2.1.4 · Practice Problems

2.1.4.1. The graphs in (a) and (c) are isomorphic to .
2.1.4.2. Graphs (a) and (c) are isomorphic to each other. So are graphs (b) and (d).
2.1.4.3. 1 has 24 edges.  = 2 for 2. 3 has 8 vertices.
2.1.4.4. The graph must have 29 edges.
2.1.4.5.

  (a) The largest  such that  is a subgraph of 5 is 4.

  (b) The largest  such that  is a subgraph of 5 is 5.

  (c) The largest  such that  is an induced subgraph of 5 is 1.

  (d) The largest  such that  is an induced subgraph of 5 is 3.

2.1.5 · Additional Exercises

2.1.5.1. This is asking for the number of edges in 10. Each vertex (person) has
degree (shook hands with) 9 (people). So the sum of the degrees is 90. However, the
                                                                                                    Selected Solutions 475

degrees count each edge (handshake) twice, so there are 45 edges in the graph. That
is how many handshakes took place.

2.1.5.2. It is possible for everyone to be friends with exactly 2 people. You could
arrange the 5 people in a circle and say that everyone is friends with the two people
on either side of them (so you get the graph 5). However, it is not possible for
everyone to be friends with 3 people. That would lead to a graph with an odd
number of odd degree vertices which is impossible since the sum of the degrees
must be even.
2.1.5.4. The graphs are not equal. For example, graph 1 has an edge {, }, but
graph 2 does not have that edge. They are isomorphic. One possible isomorphism is
 : 1  2 defined by  () = ,  () = ,  () = ,  () = ,  () = .
2.1.5.9.

  (a) For example:

  (b) This is not possible if we require the graphs to be connected. If not, we could
       take 8 as one graph and two copies of 4 as the other.

  (c) Not possible. If you have a graph with 5 vertices all of degree 4, then every
       vertex must be adjacent to every other vertex. This is the graph 5.

  (d) This is not possible. In fact, there is not even one graph with this property
       (such a graph would have 5 · 3/2 = 7.5 edges).

2.1.5.10.

(a) False.  (b) True.         (c) True.  (d) False.

2.2 · Trees
2.2.6 · Practice Problems

2.2.6.3. Every spanning tree must still contain 22 vertices. Since it is a tree, it will
have 22 - 1 = 21 edges.

    Thus we must remove 8 edges to get a spanning tree.

2.2.6.5. Let  be the number of leaves. Then the sum of degrees will be  +8+6+5+3 =
 + 22. This is twice the number of edges. Since the number of edges is one less than
the number of vertices, which is  + 4, we also know that the number of edges is
 + 3.

    Thus we have 2( + 3) =  + 22. Solving for  gives  = 16.

2.2.7 · Additional Exercises

2.2.7.1.

(a) This is not a tree since it contains a cycle. Note also that there are too many
476 B. Selected Solutions

       edges to be a tree, since we know that all trees with  vertices have  - 1 edges.

  (b) This is a tree since it is connected and contains no cycles (which you can see by
       drawing the graph). All paths are trees.

  (c) This is a tree since it is connected and contains no cycles (draw the graph). All
       stars are trees.

  (d) This is a not a tree since it is not connected. Note that there are not enough
       edges to be a tree.

2.2.7.2.

  (a) This must be the degree sequence for a tree. This is because the vertex of
       degree 4 must be adjacent to the four vertices of degree 1 (there are no other
       vertices for it to be adjacent to), and thus we get a star.

  (b) This cannot be a tree. Each degree 3 vertex is adjacent to all but one of the
       vertices in the graph. Thus each must be adjacent to one of the degree 1 vertices
       (and not the other). That means both degree 3 vertices are adjacent to the
       degree 2 vertex and to each other, so that means there is a cycle.

       Alternatively, count how many edges there are!

  (c) This might or might not be a tree. The length 4 path has this degree sequence
       (this is a tree), but so does the union of a 3-cycle and a length 1 path (which is
       not connected, so this is not a tree).

  (d) This cannot be a tree. The sum of the degrees is 28, so there are 14 edges. But
       there are 14 vertices as well, so we don't have  =  + 1, meaning this cannot
       be a tree.

2.2.7.6. Yes. We will prove the contrapositive. Assume  does not contain a cycle.
Then  is a tree, so this would have  =  + 1, contrary to stipulation.
2.2.7.12.

  (a) No, although there are graphs for which this is true. For example, 4 has a
       spanning tree that is a path (of three edges) and also a spanning tree that is a
       star (with center vertex of degree 3).

  (b) Yes. For a fixed graph, we have a fixed number  of vertices. Any spanning
       tree of the graph will also have  vertices, and since it is a tree, must have  - 1
       edges.

  (c) No, although there are graphs for which this is true (note that if all spanning
       trees are isomorphic, then all spanning trees will have the same number of
       leaves). Again, 4 is a counterexample. One spanning tree is a path, with only
       two leaves, and another spanning tree is a star with 3 leaves.

2.3 · Planar Graphs
                                                       Selected Solutions 477

2.3.7 · Additional Exercises

2.3.7.1. No. A (connected) planar graph must satisfy Euler's formula:  -  +  = 2.
Here  -  +  = 6 - 10 + 5 = 1.

2.3.7.2.  has 10 edges, since 10 = 2 2+2+3+4+4+5 . It could be planar, and then it would
have 6 faces, using Euler's formula: 6 - 10 +  = 2 means  = 6. To make sure that it
is actually planar though, we would need to draw a graph with those vertex degrees
without edges crossing. This can be done by trial and error (and is possible).

2.3.7.6. Say the last polyhedron has  edges and also  vertices. The total number of
edges the polyhedron has then is (7 · 3 + 4 · 4 + )/2 = (37 + )/2. In particular, we
know the last face must have an odd number of edges. We also have that  = 11. By
Euler's formula, we have 11 - (37 + )/2 + 12 = 2, and solving for  we get  = 5, so

the last face is a pentagon.

2.3.7.8.

Proof. Suppose there is a graph  with fewest edges that does not satisfy Euler's

formula.

Note that  cannot be a tree, since for any tree,  =  + 1 and  = 1, so  -  +  = 2.

Therefore,  must contain a cycle. Pick any edge 0 that is part of a cycle in  and
consider the graph  =  - 0 that you get by removing just the edge 0 from .

    Since  has fewer edges than , it must satisfy Euler's formula. That is,

 -  +   = 2, where , , and   are the number of vertices, edges, and faces of

. Since  is obtained by removing a single edge from a cycle in , we have  = ,

 =  - 1, and   =  - 1. Therefore,  - ( - 1) + (  - 1) = 2, so  -  +  = 2 as well.

This is a contradiction, so no such graph  can exist.  

2.3.7.12.
Proof. We know in any planar graph the number of faces  satisfies 3   2
since each face is bounded by at least three edges, but each edge borders two faces.
Combine this with Euler's formula:

          -+  =2

           -  + 2  2
                    3

            3 -   6
            3 - 6  .

                                                                     

2.4 · Euler Trails and Circuits
2.4.5 · Practice Problems

2.4.5.2. Only (b) has an Euler circuit. The graph in (a) is not connected, so even
though every vertex has even degree, it does not have an Euler circuit. (c) has two
vertices of odd degree, so it does not have an Euler circuit.
478 B. Selected Solutions

    One Euler circuit for (b) is

                                 (, ,  ,  , , , ,  , , , , ,  , ).
2.4.5.3. The first graph has an Euler trail, but not an Euler circuit. The second
graph has an Euler circuit. The third graph has neither an Euler circuit nor an Euler
trail. You can see this by drawing the graphs, but also by finding the degrees of the
vertices.

2.4.6 · Additional Exercises

2.4.6.1. This is a question about finding Euler trails. Draw a graph with a vertex in
each state, and connect vertices if their states share a border. Exactly two vertices
will have odd degree, the vertices for Nevada and Utah. Thus you must start your
road trip at in one of those states and end it in the other.
2.4.6.2.

  (a) 4 does not have an Euler trail or circuit.
  (b) 5 has an Euler circuit (so also an Euler trail).
  (c) 5,7 does not have an Euler trail or circuit.
  (d) 2,7 has an Euler trail but not an Euler circuit.
  (e) 7 has an Euler circuit (it is a circuit graph!)
   (f) 7 has an Euler trail but no Euler circuit.
2.4.6.8. If we build one bridge, we can have an Euler trail. Two bridges must be built
for an Euler circuit.

2.5 · Coloring
2.5.6 · Additional Exercises

2.5.6.1. 2, since the graph is bipartite. One color for the top set of vertices, another
color for the bottom set of vertices.
2.5.6.2. For example, 6. If the chromatic number is 6, then the graph is not planar;
the 4-color theorem states that all planar graphs can be colored with 4 or fewer
colors.
2.5.6.3. The chromatic numbers are 2, 3, 4, 5, and 3 respectively from left to right.
2.5.6.5. The cube can be represented as a planar graph and colored with two colors
as follows:
            Selected Solutions 479

R        B

   B  R

   R  B

B        R

    Since it would be impossible to color the vertices with a single color, we see that
the cube has chromatic number 2 (it is bipartite).

2.5.6.9. The wheel graph below has this property. The outside of the wheel forms an
odd cycle and so requires 3 colors; the center of the wheel must be a different color
from all the outside vertices.

2.5.6.12. If we drew a graph with each letter representing a vertex and each edge
connecting two letters that were consecutive in the alphabet, we would have a graph
containing two vertices of degree 1 (A and Z) and the remaining 24 vertices all of
degree 2 (for example,  would be adjacent to both  and ). By Brooks' theorem,
this graph has chromatic number at most 2, as that is the maximal degree in the
graph, and the graph is not a complete graph or odd cycle. Thus only two boxes are
needed.
2.5.6.13.

2.6 · Relations and Graphs
2.6.7 · Practice Problems

2.6.7.1.

  (a) Not reflexive, since, for example, 0 + 0 = 0 is not odd.

  (b) Not reflexive, since, for example, (-1) + (-1) is not positive.

  (c) Reflexive. Any number times itself is non-negative.

  (d) Not reflexive. 0 · 0 is not positive.

  (e) Reflexive. Since  -  = 0 is a multiple of 10.
2.6.7.2. All the relations listed are symmetric.
2.6.7.3.

  (a) Not transitive. For example, 1  2 and 2  3, but 1 3.

  (b) Not transitive. For example, -1  3 and 3  -2, but -1 -2.

  (c) Not transitive. For example, -1  0 and 0  1, but -1  1.
480 B. Selected Solutions

  (d) Transitive. If   , then  and  have the same sign. And then if   ,  has
       the same sign as , so  also has the same sign as . Thus   .

  (e) Transitive. This is because  -  +  -  =  - , so if  -  and  -  are both
       multiples of 10, then so is  - .

2.7 · Matching in Bipartite Graphs

· Exercises

2.7.1. The first and third graphs have a matching, shown in bold (there are other
matchings as well). The middle graph does not have a matching. If you look at the
three circled vertices, you see that they only have two neighbors, which violates the
matching condition |()|  || (the three circled vertices form the set ).

2.8 · Chapter Summary

· Chapter Review

2.8.1. The first and the third graphs are the same (try dragging vertices around to
make the pictures match up), but the middle graph is different (which you can see,
for example, by noting that the middle graph has only one vertex of degree 2, while
the others have two such vertices).
2.8.2. The first (and third) graphs contain an Euler trail. All the graphs are planar.
2.8.3. For example, 5.
2.8.4. For example, 3,3.
2.8.5.

  (a) Yes, the graphs are isomorphic, which you can see by drawing them. One
       isomorphism is:
                                       =        .
                                               

  (b) This is easy to do if you draw the picture. Here is such a graph:

       Any labeling of this graph will be not isomorphic to . For example, we could
       take  = {, , , ,  ,  , } and  = {, , ,  ,   , }.
                                                                                                  Selected Solutions 481

(c) The degree sequence for  is (3, 3, 2, 1, 1, 1, 1).

(d) In general this should be possible: The degree sequence does not determine
     the graph's isomorphism class. However, in this case, I was almost certain this
     was not possible. That is, until I stumbled up this:

(e)  is a tree (there are no cycles) and as such is also bipartite.

(f) Yes, all trees are planar. You can draw them in the plane without edges
     crossing.

(g) The chromatic number of  is 2. It shouldn't be hard to give a 2-coloring (for
     example, color , ,  ,  red and , ,  blue), but we know that all bipartite
     graphs have chromatic number 2.

  (h) It is clear from the drawing that there is no Euler trail, let alone an Euler circuit.
       Also, since there are more than 2 vertices of odd degree, we know for sure
       there is no Euler trail.

2.8.6. Yes. According to Euler's formula it would have 2 faces. It does. The only such
graph is 10.
2.8.7.

  (a) Only if   6 and is even.

(b) None.

(c)     12.  Such  a  graph  would  have  5  edges.  If  the  graph  is  planar,  then    -  5  +    =2
                                          2                                                  2
                             4+3            Also, we must have 3           2, since the graph is
        so there would be      2    faces.                               

        simple. So we must have 3         4+3   5. Solving for  gives   12.
                                            2

2.8.8.

(a) There were 24 couples: 6 choices for the girl and 4 choices for the boy.

(b) There were 45 couples:          10  since we must choose two of the 10 people to dance
                                    2

        together.

  (c) For part (a), we are counting the number of edges in 4,6. In part (b) we count
       the edges of 10.

2.8.9. Yes, as long as  is even. If  were odd, then the corresponding graph would
have an odd number of odd degree vertices, which is impossible.
482 B. Selected Solutions

2.8.10.

  (a) No. The 9 triangles each contribute 3 edges, and the 6 pentagons contribute
       5 edges. This gives a total of 57, which is exactly twice the number of edges,
       since each edge borders exactly 2 faces. But 57 is odd, so this is impossible.

  (b) Now adding up all the edges of all the 16 polygons gives a total of 64, meaning
       there would be 32 edges in the polyhedron. We can then use Euler's formula
        -  +  = 2 to deduce that there must be 18 vertices.

  (c) If you add up all the vertices from each polygon separately, we get a total of 64.
       This is not divisible by 3, so it cannot be that each vertex belongs to exactly 3
       faces. Could they all belong to 4 faces? That would mean there were 64/4 = 16
       vertices, but we know from Euler's formula that there must be 18 vertices. We
       can write 64 = 3 + 4 and solve for  and  (as integers). We get that there
       must be 10 vertices with degree 4 and 8 with degree 3. (Note that the number
       of faces joined at a vertex is equal to its degree in graph theoretic terms.)

2.8.11. No. Every polyhedron can be represented as a planar graph, and the Four
Color Theorem says that every planar graph has chromatic number at most 4.

2.8.12. , has 2 edges. The graph will have an Euler circuit when  is even. The
graph will be planar only when  < 3.
2.8.13.  has 8 edges (since the sum of the degrees is 16). If  is planar, then it will
have 4 faces (since 6 - 8 + 4 = 2).  does not have an Euler trail since there are more
than 2 vertices of odd degree.
2.8.14. 7 colors. Thus 7 is not planar (by the contrapositive of the Four Color
Theorem).
2.8.15. The chromatic number of 3,4 is 2, since the graph is bipartite. You cannot
say whether the graph is planar based on this coloring (the converse of the Four
Color Theorem is not true). In fact, the graph is not planar, since it contains 3,3 as a
subgraph.
2.8.16. We have that 3,4 has 7 vertices and 12 edges (each vertex in the group of 3
has degree 4). Then by Euler's formula we have that 7 - 12 +  = 2, so if the graph
were planar, it would have  = 7 faces. However, since the girth of the graph is 4
(there are no cycles of length 3), we get that 4   2. But this would mean that
28  24, a contradiction.

2.8.17. For all these questions, we are really coloring the vertices of a graph. You
get the graph by first drawing a planar representation of the polyhedron and then
taking its planar dual: Put a vertex in the center of each face (including the outside),
and connect two vertices if their faces share an edge.

  (a) Since the planar dual of a dodecahedron contains a 5-wheel, its chromatic
       number is at least 4. Alternatively, suppose you could color the faces using 3
       colors without any two adjacent faces colored the same. Take any face, and
       color it blue. The 5 pentagons bordering this blue pentagon cannot be colored
                                                                                                    Selected Solutions 483

       blue. Color the first one red. Its two neighbors (adjacent to the blue pentagon)
       get colored green. The remaining 2 cannot be blue or green, but also cannot
       both be red since they are adjacent to each other. Thus a 4th color is needed.

  (b) The planar dual of the dodecahedron is itself a planar graph. Thus by the 4-color
       theorem, it can be colored using only 4 colors without two adjacent vertices
       (corresponding to the faces of the polyhedron) being colored identically.

  (c) The cube can be properly 3-colored. Color the "top" and "bottom" red, the
       "front" and "back" blue, and the "left" and "right" green.

2.8.18.

  (a) False. To prove this, we can give an example of a pair of graphs with the same
       chromatic number that are not isomorphic. For example, 3,3 and 3,4 both
       have chromatic number 2 but are not isomorphic.

  (b) False. The previous example does not work, but you can easily draw two trees
       that have the same number of vertices and edges but are not isomorphic. Since
       all trees have chromatic number 2, this is a counterexample.

  (c) True. If there is an isomorphism from 1 to 2, then we have a bection
       that tells us how to match up vertices between the graph. Any proper vertex
       coloring of 1 will tell us how to properly color 2, simply by coloring  ()
       the same color as , for each vertex   . That is, color the vertices in 2
       exactly how you color the corresponding vertices in 1. Similarly, any proper
       vertex coloring of 2 corresponds to a proper vertex coloring of 1. Thus the
       smallest number of colors needed to properly color 1 cannot be smaller than
       the smallest number of colors needed to properly color 2, and vice-versa, so
       the chromatic numbers must be equal.

2.8.19.  has 13 edges, since we need 7 -  + 8 = 2.
2.8.20.

  (a) The graph does have an Euler trail, but not an Euler circuit. There are exactly
       two vertices with odd degree. The path starts at one and ends at the other.

  (b) The graph is planar. Even though as it is drawn with edges crossing, it is easy
       to redraw it without edges crossing.

  (c) The graph is not bipartite (there is an odd cycle), nor complete.

  (d) The chromatic number of the graph is 3.
2.8.21.

  (a) False. For example, 3,3 is not planar.

  (b) True. The graph is bipartite, so it is possible to divide the vertices into two
       groups with no edges between vertices in the same group. Thus we can color
       all the vertices of one group red and the other group blue.
484 B. Selected Solutions

(c) False. 3,3 has 6 vertices with degree 3 and so contains no Euler trail.
(d) False. 3,3 again.

  (e) False. The sum of the degrees of all vertices is even for all graphs so this
       property does not imply that the graph is bipartite.

2.8.22.

(a) If a graph has an Euler trail, then it is planar.

(b) If a graph does not have an Euler trail, then it is not planar.

(c) There is a graph which is planar and does not have an Euler trail.

(d) Yes. In fact, in this case it is because the original statement is false.
(e) False. 4 is planar but does not have an Euler trail.
(f) False. 5 has an Euler trail but is not planar.

3 · Counting
3.1 · Pascal's Arithmetical Triangle
3.1.7 · Practice Problems

3.1.7.7.

    a.  10  = 252 choices, since you have to select a 5-element subset of the set of 10
        5

        toppings.

    b.  9   = 126 choices, since you must select 5 of the 9 non-green pepper toppings.
        5

    c.  9   = 126 choices, since you must select 4 of the remaining 9 non-green pepper
        4

        toppings to have in addition to the green pepper.

    Note that 252 = 126 + 126 choices, which makes sense because every 5-topping
pizza either has green pepper or does not have green pepper as a topping.

3.1.7.9. To get an 14, we must pick 14 of the 16 factors to contribute an , leaving

the other 2 to contribute a 3. There are  16  ways to select these 14 factors. So the
                                          14
term containing an 14 will be   16  1432.                                            14
                                14         In  other   words,  the  coefficient  of      is

1614 32 = 1080.

3.1.7.10. To get an 9 from the first term, we must pick 9 of the 17 factors to contribute

an , leaving the other 8 to contribute a 2. There are  17  ways to select these 9 factors,
                                                       9
                            17   28. Now we must choose 5 of the factors in the second
so the coefficient will be  9

term to contribute an , leaving the other 16 terms to contribute a 3. This gives us

21   316 for the coefficient resulting from this term. In total, the term containing an
5
9 will be 179  28 + 215  316 = 8.75964 × 1011.

3.2 · Combining Outcomes
                                                      Selected Solutions 485

3.2.6 · Practice Problems

3.2.6.1. By the product principle, there are 6 × 3 × 15 = 270 different outfits.

3.2.6.2.

a. 8 + 3 = 11 ties. Use the additive principle.

b. 8 · 3 = 24 ties. Use the multiplicative principle

   c. 2 · (7 + 3) + 8 = 28 outfits.
3.2.6.3.

a. There are 256 3-digit hexadecimals in which the first digit is an E (one for each
   choice of the remaining digits). Similarly, there are 256 hexadecimals in which
   the first digit is an F. We want the union of these two disjoint sets, so there are
   256 + 256 = 2 · 256 = 512 3-digit hexadecimals in which the first digit is either
   an E or an F.

b. We can select the first digit in 6 ways, digits 2-5 in 16 ways each, and the final
   digit in 10 ways. Thus there are 6 · 164 · 10 = 3932160 hexadecimals given these

   restrictions.

   c. The number of 4-digit hexadecimals that start with a letter is 6 · 163 = 24576.
       The number of 4-hexadecimals that end with a numeral is 163 · 10 = 40960. We
       want all the elements from both these sets. However, both sets include those
       4-digit hexadecimals which both start with a letter and end with a numeral(
       6 · 162 · 10 = 15360), so we must subtract these (once). Thus the number of
       4-digit hexadecimals starting with a letter or ending with a numeral is:

       24576 + 40960 - 15360 = 50176
3.2.6.4.

a. 28 = 256 subsets. We need to select yes/no for each of the 8 elements.

b. 25 = 32 subsets. We need to select yes/no for each of the remaining 5 elements.

c. 28 - 24 = 240 subsets. We subtract the number of subsets which do not contain
   any odd numbers (24-select yes or no for each even element) from the total

   number of possible subsets.

d.  4     · 24 = 64 subsets. First pick the even number. Then say yes or no to each of
    1

    the odd numbers.

3.2.6.5.

a.  6     = 15 subsets
    4

b.  3     = 3 subsets. We need to select 1 of the 3 remaining elements of  to be in
    1

    the subset.

c.  6     = 15 subsets. All subsets of cardinality 4 must contain at least one odd
    4

    number.
486 B. Selected Solutions

d.  3      = 3 subsets. Select 1 of the 3 even numbers. The remaining 3 odd numbers
    1
    of  must all be in the set.

3.2.6.7.

a. We can think of each row as a 4-bit string of weight 2 (since of the 4 coins,

    we require 2 to be pennies). Thus there are            4  = 6 rows possible. Each row
                                                           2

    requires 4 coins, so if we want to make all the rows at the same time, we will

    need 24 coins, half of them nickels and half of them pennies.

b.  Now there are 24 = 16 rows possible, which is also            4  +  4  +  4    +···+  44 , if
                                                                  0     1     2

    you break them up into rows containing 0, 1, 2, etc. pennies. Thus, since there

    are 4 coins in each row, we need 4 · 16 = 64 total coins.

3.2.6.8. Count the number of strings with each permissible number of 1's separately

and then add them up. So there are  11  +        11  +···     11  = 1816 strings.
                                    4            5            11

3.2.6.9. This is the same as a question about 7-bit strings, since we can think of each

subset as a 7-bit string with a 1 representing that we include that element in the

subset.    10  +  10  +···+  10  = 176 subsets.
           7      8          10

3.2.6.10.

a.  14     = 3432 paths. The paths all have length 14 (7 steps up and 7 steps right);
    7

    we just select which 7 of those 14 should be right.

b.  7      7   = 1225 paths. First travel to (8, 9), and then continue on to (12, 12) .
    3      4

c.  714 - 37      7   = 2207 paths. Remove all the paths that you found in part (b).
                  4

3.2.7 · Additional Exercises

3.2.7.1.

(a) For example, 16 is the number of choices you have if you want to watch one
     movie, either a comedy or horror flick.

(b) For example, 63 is the number of choices you have if you will watch two movies,
     first a comedy and then a horror movie.

3.3 · Non-Disjoint Outcomes
3.3.6 · Practice Problems

3.3.6.3. 49 students. Use Venn diagram or PIE: 30 + 24 + 28 - (18 + 10 + 12) + 7 = 49.

3.3.6.4. Using the principle of inclusion/exclusion, the number of students who like
their potatoes in at least one of the ways described is

    54 + 39 + 51 - (18 + 28 + 29) + 11 = 80.
    Therefore there are 100 - 80 = 20 students who do not like potatoes. You can
also do this problem with a Venn diagram.

3.3.6.5.

   a. 210 = 1024. You have 2 choices for each of the remaining 10 bits.
                                                        Selected Solutions 487

b.  10    = 210. You need to choose 6 of the remaining 10 bits to be 1's.
    6

c. 2816. There are 210 strings that start with 011, and another 211 which end with

   01 (we choose 1 or 0 for 11 bits). However, we count the strings that start with
   011 and end with 01 twice; there are 28 such strings. So using PIE, we have
   210 + 211 - 28 = 2816.

d.  484. There are  10  = 210 strings of weight 8 which start with 011, and another
                    6
    11
    7     = 330 which end with 01. We have over counted again: There are weight 8

    strings which both start with 011 and end with 01, in fact  8  = 56 of them. So
                                                                5
    all together we have 210 + 330 - 56 = 484 strings.

3.3.6.6. 429 values of . Use PIE: 178 + 238 + 143 - (59 + 35 + 47) + 11 or a Venn
diagram. To find out how many numbers are divisible by 3 and 5, for example, take
715/(3 · 5) and round down.

3.3.6.7. To find out how many numbers strictly less than 1400 are multiples of 4, we
can divide 1400 by 4 and round down. There are 349 of these. Similarly, there are
199 multiples of 7 and 155 multiples of 9 less than 1400.

    We also need the combinations of these. To be a multiple of 4 and 7 means you
are a multiple of 28 , and there are 49 multiples of 4 and 7. There will be 38 multiples
of 4 and 9. There will be 22 multiples of 7 and 9. Finally, there will be 5 multiples of
all three.

    Using PIE, we get
    349 + 199 + 155 - (49 + 38 + 22) + 5 = 599
    multiples of 4, 7, or 9 less than 1400.

3.3.6.8.

a. 1213 = 1.06993 × 1014 words, since you select from 12 letters 13 times.

b. (12) · (11) · (10) . . . (12 - 13 + 1) = 0 words. After selecting a letter, you have
   fewer letters to select for the next one.

c. 1210 = 6.19174 × 1010 words: You need to select the letters that follow the
   "ade."

d. 1210 + 1211 - 128 = 8.04496 × 1011 words. There are 1210 words which start with
   "ade" and another 1211 words that end with "be." Then we need to subtract

    the words that have both, which we have overcounted.

e. (12 · (12 - 1) · (12 - 2) . . . (12 - 13 + 1)) - (11 · (9) · (9 - 1) · (9 - 2) . . . 9 - 10 + 1) = 0
   words. All possible words without repeats minus the bad ones. The taboo
   word "bed" can be in any of 11 positions, and for each position we must choose
   the remaining 10 letters from the remaining 9 letters in our alphabet.

3.4 · Combinations and Permutations
3.4.6 · Practice Problems
488 B. Selected Solutions

3.4.6.1.

a.  8     = 28 pizzas. We must choose (in no particular order) 2 out of the 8 toppings.
    2

b. 28 = 256 pizzas. Say yes or no to each topping.

    c. (8, 4) = 1680 ways. Assign each of the 4 spots in the left column to a unique
       pizza topping.

3.4.6.2. Despite its name, we are not looking for a combination here. The order in
which the three numbers appear matters. There are (41, 3) = 41 · 40 · 39 different
possibilities for the "combination". This is assuming you cannot repeat any of the
numbers (if you could, the answer would be 413).

3.4.6.3.

a. This is just the multiplicative principle. There are 8 digits which we can select
   for each of the 7 positions, so we have 87 = 2.09715 × 106 such numbers.

b. Now we have 8 choices for the first number, 7 for the second, etc. So there are
   8 · 7 · · · · · 7 = (8, 7) = 40320 such numbers.

c. To build such a number we simply must select 7 different digits. After doing

    so, there will only be one way to arrange them into increasing order. Thus

    there are     8        = 8 such numbers.
                  7

3.4.6.4.

a. We can write the answer as (30, 19) = 30 · 29 · 28 · · · · · 12 , which is the same

    as    30!  .  Or,  if  you  think  of  picking  the  19  books  and  then  arranging  those  19,
          11!
                                30
    you can write this as       19     · 19! . Note, that since any order is acceptable, we are

    distinguishing between different orders, so a permutation is appropriate here.

b. Here we just need to select the books, and have no choice as how to arrange

    them. So the answer is just            30
                                           19

3.4.6.5. Since there are 14 different letters in "ambidextrously", we have 14 choices
for the first letter, 13 for the next, 12 for the next, and so on. Thus there are 14!
anagrams.

3.4.6.6. After the first letter (namely, s), we must rearrange the remaining 5 letters.

There are only two choices of letter now, so this is really just a bit-string question

where one of the letters is 0, and the other letter is 1.                Thus there are   5  = 10
                                                                                          2

anagrams starting with "s".

3.4.6.7. First, decide where to put the "g"s. There are 7 positions, and we must

choose 3 of them to fill with an "g". This can be done in           7    ways. The remaining 4
                                                                    3

spots all get a different letter, so there are 4! ways to finish off the anagram. This

gives a total of  7    · 4! anagrams. Strangely enough, this is 840, which is also equal to
                  3
(7, 4). To get the answer that way, start by picking one of the 7 positions to be filled

by the first non-"g" letter, one of the remaining 7 positions to be filled by the next,
                                                        Selected Solutions 489

and so on. Then put "g"s in the remaining 3 positions.
3.4.6.8.

a.  40     ·  36  ·   32  ·····  4   ways. Pick 4 out of 40 people to be in the first foursome,
    4         4       4          4

    then 4 of the remaining 36 for the second foursome, and so on (use the

    multiplicative principle to combine).

b.  10! 330   ·   27  ·   24  ·····  3  ways. First determine the tee time of the 10 board
                  3       3          3

    members, then select 3 of the 30 non-board members to golf with the first

    board member, then 3 of the remaining 27 to golf with the second, and so on.

3.4.6.9. 13!. There are 14 people seated around the table, but it does not matter where
King Arthur sits, only who sits to his left, two seats to his left, and so on.

3.4.6.10.

   a. 2213 functions. There are 22 choices for the image of each element in the
       domain.

   b. (22, 13) = 22 · 21 · 20 · · · · · 9 injective functions. There are 22 choices for the
       image of the first element of the domain, then only 21 choices for the second,
       20 for the third, and so on.

3.4.6.11.

a. 65 = 7776 functions, since there are 6 choices of where to send each of the 5
   elements of the domain.

b. (6, 5) = 6 · 5 · · · · · 2 = 720 functions, since outputs cannot be repeated.

c.  6      = 6 functions. Since the function must be injective and increasing, we just
    5

    need to select the 5 distinct elements of the range from the 6 elements of the

    codomain. Once these have been selected, we must put the smallest as the

    image of 1, the next smallest as the image of 2, and so on (doing this does not

    increase the number of functions, since there is one choice for how this event

    can occur).

3.4.7 · Additional Exercises

3.4.7.1. 120.

3.5 · Counting Multisets
3.5.5 · Practice Problems

3.5.5.1.

a.  10     sets. We must select 9 of the 10 digits to put in the set.
    9

b. Use sticks and stones: Each stone represents one of the 9 elements of the set;

    each stick represents a switch between digits. So there are 9 stones and 9 sticks,

    giving us         18  sets.
                      9
490 B. Selected Solutions

3.5.5.2.

a.  There are        6   numbers. We simply choose 5 of the 6 digits and, once the choice
                     5

    is made, put them in increasing order.

b. This uses sticks and stones. Use a stone to represent each of the 5 digits in the

    number, and use their position relative to the sticks to say what numeral fills

    that spot. So we will have 5 stones and 5 sticks, giving                      10  numbers.
                                                                                  5

3.5.5.3.

a.  25       ways. Each outcome can be represented by a sequence of 9 sticks and 16
    16

    stones.

b.  15    ways. First put one ball in each bin. This leaves 9 sticks and 6 stones.
    6

3.5.5.4.

a.  11    solutions. After each variable gets 1 stone for free, we are left with 9 stones
    9

    and 2 sticks.

b.  14    solutions. We have 12 stones and 2 sticks.
    12

c.  23       solutions. This problem is equivalent to finding the number of solutions
    2
    to  +  +  = 21 where , , and  are non-negative. (In fact, we really just

    do a substitution. Let  =  - 3,  =  - 3 and  =  - 3).

3.5.5.5.  10     outcomes are possible in traditional Yahtzee. Each die is a stone; its
          5

value is determined by where it is put relative to the sticks.

For Super-Yahtzee,               13   outcomes. We have 4 stones (the 4 dice) and 9 sticks (the
                                 9

9 switches between the numbers 1-10).

3.5.5.6. We must figure out how many different combinations of 9 coins are possible.

Let a stone represent each coin, and a stick represent switching between type of coin.

For example, if we have 7 coins,   |  ||     represents 2 pennies, one nickel, no

dimes and 4 quarters. The number of such stone and stick diagrams for 12 total

stones and sticks (with 9 stones and 3 sticks) is           12    = 0.00454545. Thus you have a 1
                                                            9

in 0.00454545 chance of guessing correctly.

3.5.5.7.     25  solutions.          First we guarantee the restrictions on the variables by
             22
                                                                                       + + +       =
distributing     13  units   to  the  variables.  Then  we  find  all  solutions  to                  22
                                                                                        1234
in non-negative integers.

3.5.5.8.

a.  13       = 1716. Note that a strictly increasing function is automatically injective.
    6

    So the 6 outputs must all be different. So let's first pick which 6 outputs we will

    use: there are           13    ways to do this. Now how many ways are there to assign
                             6

    those outputs to the inputs 1 through 6? Only one way, since there is only one

    way to arrange numbers in increasing order.

b.  18    .  This    is  in  fact  a  sticks  and  stones   problem.   The  stones    are  the  6  inputs,
    6
                                           Selected Solutions 491

       and the sticks are the 12 spots between the 13 possible outputs. Think of it
       this way: We will specify  (1), then  (2), then  (3), and so on in that order.
       Start with the possible output 0. We can use it as the output of  (1), or we can
       switch to 1 as a potential output. Say we put  (1) = 1. Now we are at 1 (can't
       go back to 0). Should  (2) = 1? If yes, then we are putting down another stone.

       If no, put down a bar and switch to 2. Maybe you switch to 3, then assign
         (2) = 3 and  (3) = 3 (two more stones) before switching to 4 as a possible

       output. And so on.

3.5.5.9.

a.  28  sodas (order does not matter, and repeats are not allowed).
    7

b. (28, 7) = (28) · (28 - 1) · · · · · 22 sodas (order matters, and repeats are not
   allowed).

c.  34  sodas (order does not matter, and repeats are allowed; 7 stars and 27 bars).
    7

d. 287 sodas (order matters, and repeats are allowed; 28 choices 7 times).

3.5.6 · Additional Exercises

3.5.6.1.

(a) You take 3 strawberry, 1 lime, 0 licorice, 2 blueberry, and 0 bubblegum.

(b) This is backwards. We don't want the stones to represent the kids because the
     kids are not identical, but the stones are. Instead we should use 5 stones (for
     the lollipops) and use 5 sticks to switch between the 6 kids. For example,

                                ||    |||

       would represent the outcome with the first kid getting 2 lollipops, the third
       kid getting 3, and the rest of the kids getting none.

  (c) This is the word AAAEOO.

  (d) This doesn't represent a solution. Each stone should represent one of the
       6 units that add up to 6, and the sticks should switch between the different
       variables. We have one too many sticks. An example of a correct diagram
       would be
                                                  |  ||    ,
       representing that 1 = 1, 2 = 2, 3 = 0, and 4 = 3.

3.6 · Combinatorial Proofs
3.6.5 · Practice Problems

3.6.5.1.

    · Consider the question, "How many two-digit numbers start with a 3 or 4?"
492 B. Selected Solutions

· The first way to answer this is 10 + 10.

· This is because there are 10 numbers that start with 3, and another 10 that start
   with 4.

· A second answer to the question is 2 · 10.

· This is because you have 2 choices for the first digit, and 10 choices for the
   second digit.

    · Since both expressions answer the same question, they must be equal. Therefore
       10 + 10 = 2 · 10.

3.6.5.2.

A. Incorrect.

    This is not going to be helpful, since when we switch from one side of the
    equation to the other, we will not be counting the same thing. We need a
    question where the  things and the 2 things come from the same set of 
    things.

B. Correct.

C. Incorrect.

    If we wanted either 2 or  people, we would need to add the number of
    outcomes from each.

D. Correct.

3.6.6 · Additional Exercises

3.6.6.1.

Proof. Question: How many 2-letter words start with a, b, or c and end with either

y or z?

Answer 1: There are two words that start with a, two that start with b, two that

start with c, for a total of 2 + 2 + 2.

Answer 2: There are three choices for the first letter and two choices for the

second letter, for a total of 3 · 2.

Since the two answers are both answers to the same question, they are equal.

Thus 2 + 2 + 2 = 3 · 2.                                                   

3.6.6.5.

(a) She has    15  ways to select the 6 bridesmaids, and then for each way, has 6
               6
                                              15
choices for the maid of honor. Thus she has   6   6  choices.

(b) She has 15 choices for who will be her maid of honor. Then she needs to select

5 of the remaining 14 friends to be bridesmaids, which she can do in  14  ways.
                                                                      5
                           14
Thus      she  has  15     5   choices.

(c) We have answered the question (how many wedding parties can the bride
                                                                      Selected Solutions 493

        choose from) in two ways. The first way gives the left-hand side of the identity,
        and the second way gives the right-hand side of the identity. Therefore the
        identity holds.

3.6.6.7.

Proof. Question: You have a large container filled with ping-pong balls, all with a
different number on them. You must select  of the balls, putting two of them in a

jar and the others in a box. How many ways can you do this?

  Answer 1: First select 2 of the  balls to put in the jar. Then select  - 2 of the
                                                                            
remaining  - 2 balls to put in the box. The first task can be completed in  2  different

ways and the second task in        -2    ways. Thus there are         -2  ways to select the
                                   -2                          2      -2

balls.

  Answer 2: First select  balls from the  in the container. Then pick 2 of the 

balls you picked to put in the jar, placing the remaining  - 2 in the box. The first
                                                                   
task can be completed in       ways and the second task in         2  ways. Thus there are

        ways to select the balls.
  2

  Since both answers count the same thing, they must be equal, and the identity is

established.                                                                   

3.8 · Advanced Counting Using PIE
3.8.5 · Practice Problems

3.8.5.1.

  a.    15  meals. First spend $7 to buy one of each item and then use 9 stars to select
        6

        items between 6 bars.

  b.    22  meals. Here you have 16 stars and 6 bars (separating the 7 items). a.
        6
        622 -  7  619 - 27  616 + 37     613 · · ·
               1                                    meals. Use PIE to subtract all the meals in

        which you get 3 or more of a particular item.

3.8.5.2.

  a.    22  = 26334 - there are 17 stars and 5 bars.
        5

  b.    16  = 4368 - buy one of each item, using $6. This leaves you $11 to distribute
        5

        to the 6 items, so 11 stars and 5 bars.

  c.    522 -  6  517 - 26  512 + · · ·  meals. Use PIE to subtract all the meals in which
               1

        you get 5 or more of a particular item.

3.8.5.3. 418 - 1 4 5 11 - 2 4 5 4 .

3.8.5.4. The easiest way to solve this is to first distribute the minimum number of
units to each variable (1), and then count the solutions to 1 + 2 + 3 + 4 = 15 with
0    5. By taking  =  + 5, each solution to this new equation corresponds to

exactly one solution to the original equation.

  Now all the ways to distribute the 15 units to the four  variables can be found

using stars and bars, specifically 15 stars and 3 bars, so     18  ways. But this includes
                                                               15
494 B. Selected Solutions

the ways that one or more  variables can be assigned more than 3 units. So subtract

using PIE to get 18 - 4 12 - 4 6 + . . .
                          3           1 3 23

    The      4   counts the number of ways to pick one variable to be over-assigned; the
             1
12
3   is the number of ways to assign the remaining units to the 4 variables, etc.

3.8.5.5.

    a.  12      = 792. This makes sense because if each student can receive at most one
        7

        star, you must pick which 7 of the 12 kids will get one.

    b.  Without any restriction, there would be                     18  ways to distribute the stars. Now
                                                                    11

        we must use PIE to eliminate all distributions in which one or more students

        get more than one star:

        18 - 12 16 - 12 14 + 12 12 - · · · = 792.
        11          1 11 2 11 3 11

3.8.5.6. First pick one of the 4 elements to be fixed. For each such choice,

derange the remaining 3, using the standard advanced PIE formula. We get

4   3! -         31 2! -  3  1! +  ...   33 0!      permutations.
1                         2

3.8.5.7.     12  4! -        41 3! -  4  2! · · ·  +  44 0!  = 4455 ways. We choose 8 of the 12 ladies
             8                        2

to get their own hats, and then multiply by the number of ways the remaining hats

can be deranged.

3.8.5.8.

    a.           8 7! - 8 6! . . . 8 0! = 14833
       8! -      1           2           8

    b.

          8 4! - 4 3! - 4 2! + . . . 4 0! = 630
          4               1           2               4

    c. 0. Once 7 presents have their original label, there is only one present left and
       only one label left, so the 8th present must get its own label.

3.8.5.9. There are 5 · 67 functions for which  (1)   and another 5 · 67 functions for
which  (2)   . There are 52 · 66 functions for which both  (1)   and  (2)   . So
the total number of functions for which  (1)   or  (2)   or both is

    5 · 67 + 5 · 67 - 52 · 66 = 1.63296 × 106.

3.8.5.10. 58 -      51 48 -     52 38 +  5      28  -···  +  45 18  functions. The 58 is all the functions
                                         3
from  to . We subtract those that aren't surjective. Pick one of the elements in

 to not be in the range (in              5      ways) and count all those functions (48). But this
                                         1
overcounts the functions where two elements from  are excluded from the range,

so subtract those. And so on, using PIE.
                                                                     Selected Solutions 495

3.8.5.11. 1854 functions. This is a sneaky way to ask for the number of derangements
on 7 elements.

3.8.6 · Additional Exercises

3.8.6.2. The 9 derangements are: 2143, 2341, 2413, 3142, 3412, 3421, 4123, 4312, 4321.

3.9 · Chapter Summary

· Chapter Review

3.9.1.

a.   14    ways. After giving one present to each kid, you are left with 10 presents
     10

     (stones) which need to be divided among the 5 kids (giving 4 sticks).

b.   19     = 3876 ways. You have 15 stones and 4 sticks.
     15

c. 515. You have 5 choices for whom to give each present. This is like making a
   function from the set of presents to the set of kids.

   d. 515 - 51 (5 - 1)15 - 52 (5 - 2)15 + 53 (5 - 3)15 . . . ways. Now the function from
       the set of presents to the set of kids must be surjective.

3.9.2.

(a) Neither.    14  paths.
                4

(b)  10  bow ties.
     4

(c) (10, 4), since order is important.

(d) Neither. Assuming you will wear each of the 4 ties on just 4 of the 7 days,

     without repeats:   10  (7, 4).
                        4

(e) (10, 4).

(f) 410 .

(g) Neither. Since you could repeat letters: 104. If no repeats are allowed, it would
     be (10, 4).

(h) Neither. Actually, "k" is the 11th letter of the alphabet, so the answer is 0. If
    "k" was among the first 10 letters, there would only be 1 way - write it down.

(i) Neither.    Either  9   (if every kid gets an apple) or     13   (if appleless kids are
                        3                                       3

     allowed).

(j)  Neither. Note that this could not be  10       since the 10 things and 4 things are
                                           4
     from different groups. 410, assuming each kid eats one type of cereal.

(k)  10  .  Don't   be  fooled  by  the  "arrange"  in  there.  You  are  picking  4  out  of  10
     4
     spots to put the 1's.
496 B. Selected Solutions

(l)  10  (assuming order is irrelevant).
     4

(m) Neither. 1610 (each kid chooses yes or no to 4 varieties).

(n) Neither. 0.
(o) Neither. 410 - [ 41 310 - 42 210 + 43 110].
(p) Neither. 10 · 4.

(q) Neither. 410.

(r)  10  (which is the same as      610 ).
     4

(s) Neither. If all the kids were identical, and you wanted no empty teams, it

    would be 410 . Instead, this will be the same as the number of surjective
    functions from a set of size 11 to a set of size 5.

(t) 410 .

(u) 410 .

(v) Neither. 4!.

(w)  Neither. It's  10     if you won't repeat any choices. If repetition is allowed, then
                    4
     this becomes 1 + 2 + · · · + 10 = 4, which has  13
                                                     9   solutions in non-negative

     integers.

(x) Neither. Since repetition of cookie type is allowed, the answer is 104. Without
     repetition, you would have (10, 4).

(y)  10  since that is equal to  9  +       39 .
     4                           4

  (z) Neither. It will be a complicated (possibly PIE) counting problem.
3.9.3.

a. 214 = 16384 choices. You have two choices for each tie: wear it or don't.

b. You have 511 choices for regular ties (the 29 choices less the "no regular tie"
   option) and 31 choices for bow ties (25 total minus the "no bow tie" option).

   Thus you have 511 · 31 = 15841 total choices.

c.   9   5  = 840 choices.
     3   2

   d. Select one of the 2 bow ties to go on top. There are then 4 choices for the next
       tie, 4-1 for the tie after that, and so on. Thus 2 · 4! = 48 choices.

3.9.4. You own 8 purple bow ties, 3 red bow ties, 3 blue bow ties, and 5 green bow
ties. How many ways can you select one of each color bow tie to take with you on a
trip? 8 · 3 · 3 · 5 ways. How many choices do you have for a single bow tie to wear
tomorrow? 8 + 3 + 3 + 5 choices.
                                                                            Selected Solutions 497

3.9.5.

a. 811 numbers.

b. 810 · 4 numbers (choose any digits for the first 10 digits, then pick either an
   even or an odd last digit to make the sum even).

c. We need 6 or more even digits. 6 even digits: 116 46411-6. 6+1 even digits:
           11   46+1   411-6-1,
         (6+1)                      etc.  By  adding  these  together,  we  get  the  total  number  of

        ways to have 6 or more even digits.

3.9.6. 48 passengers. We are asking for the size of the union of three non-disjoint
sets. Using PIE, we have 27 + 20 + 29 - (13 + 11 + 10) + 6 = 48.

3.9.7.

a. 210 strings.

b.       10     strings.
         5

c.       10     strings.
         5

3.9.8. 35 · 15 10 + 514 · 217 .

3.9.9. With repeated letters allowed, we select which 3 of the 10 letters will be vowels,

then pick one of the 5 vowels for each spot, and finally pick one of the other 21 letters

for each of the remaining 7 spots. Thus, 103 53217 words.
    Without repeats, we still pick the positions of the vowels, but now each time we

place a vowel there, we have one fewer choice for the next one. Similarly, we cannot

repeat the consonants. We get             10  (5, 3)(21, 7)  words.
                                          3

3.9.10.

a.       3   9  = 378 paths.
         2   4

b. 126 - 10 2 5 1 = 420 paths.

c. 2 4 3 9 + 5 1 10 2 - 2 3 1 3 7 2 = 672 paths.

3.9.11.     31  31    -1     routes. For each of the  31     routes to work, there is exactly one
            15  15                                    15

less route back.

3.9.12. 28 + 29 - 26 strings (using PIE).

3.9.13. 123 + 134 - 102 strings.

3.9.14. There are 3 spots to start the word, and then there are 2! ways to arrange the

other letters in the remaining three spots. Thus the number of words avoiding the
sub-word "bad" in consecutive letters is 5! - 3 · 2! = 114.

If we now need to avoid words that put "b" before "a" before "d", we must

choose which spots those letters go (in that order) and then arrange the remaining 2

letters. Thus, 5! -       5  2!  =  100   words.
                          3
498 B. Selected Solutions

3.9.15. 2 is the number of lattice paths which have length , since for each step you

can go up or right. Such a path would end along the line  +  = . So you will end

at (0, ), or (1,  - 1) or (2,  - 2) or . . . or (, 0). Counting the paths to each of these
                                                  
points separately, give                 2  ,...,    (each time choosing which of the  steps
                           0,  1,

to be to the right). These two methods count the same quantity, and so are equal.

3.9.16.

a.       15  = 3003 ways.
         10

b.       21  = 20349 ways.
         16

   c. 10 15 -  1 5 6 8 - 2 5 6 1 . . .  = 2877 ways.
3.9.17.

a. 43 + 43 - 42 = 112 functions.

b. 3 · 43 + 4 · 3 · 42 - 3 · 3 · 42 = 240 functions.

c. 4! - [3! + 3! - 2!] = 14 functions. Note that we use factorials instead of powers
   because we are looking for injective functions.

d. Note that being surjective here is the same as being injective, so we can start

    with all 4! injective functions and subtract those which have one or more

    "fixed point". We get 4! -             4  (4 - 1)! -  4  (4 - 2)! +  4  (4 - 3)!  -  ...  44 0!  =9
                                           1              2              3

    functions.

3.9.18. 46 - 41 36 - 42 26 + 43 16 .

3.9.19.

a.       13  = 1287 combinations. You need to choose 8 of the 13 cookie types. Order
         8

    doesn't matter.

b. (13, 8) = 13 · (13 - 1) · (13 - 2) · · · · · (13 - 8 + 1) = 5.18918 × 107 ways. You are
   choosing and arranging 8 out of 13 cookies. Order matters now.

c.       35  = 8.34452 × 108 choices. You must switch between cookie type 12 times as
         23

    you make your 23 cookies. The cookies are the stones; the switches between

    cookie types are the sticks.

   d. 1323 choices. You have 13 choices for the "1" cookie, 13 choices for the "2"
       cookie, and so on.

   e. 1323 - 131 (13 - 1)23 - 132 (13 - 2)23 + · · · - 13 13 023 = 2.49879 × 1024 choices.
       We must use PIE to remove all the ways in which one or more cookie type is
       not selected.

3.9.20.

(a) You are giving your professor 4 types of cookies coming from 10 different
     types of cookies. This does not lend itself well to a function interpretation. We
                                                                                                     Selected Solutions 499

       could say that the domain contains the 4 types you will give your professor
       and the codomain contains the 10 you can choose from, but then counting
       injections would be too much (it doesn't matter if you pick type 3 first and type
       2 second, or the other way around, just that you pick those two types).

  (b) We want to consider injective functions from the set {most, second most,
       second least, least} to the set of 10 cookie types. We want injections because
       we cannot pick the same type of cookie to give most and least of (for example).

  (c) This is not a good problem to interpret as a function. The problem is that
       the domain would have to be the 12 cookies you bake, but these elements are
       indistinguishable (there is not a first cookie, second cookie, etc.).

  (d) The domain should be the 12 shapes, the codomain the 10 types of cookies.
       Since we can use the same type for different shapes, we are interested in
       counting all functions here.

  (e) Here we insist that each type of cookie be given at least once, so now we are
       asking for the number of surjections of those functions counted in the previous
       part.

4 · Sequences
4.1 · Describing Sequences
4.1.7 · Additional Exercises

4.1.7.1.

  (a) The recursive definition is  = -1 + 2 with 1 = 1. A closed formula is
        = 2 - 1.

  (b) The sequence of partial sums is 1, 4, 9, 16, 25, 36, . . .. A recursive definition is
       (as always)  = -1 +  which in this case is  = -1 + 2 - 1. It appears
       that the closed formula is  = 2

4.1.7.2.

  (a) 0, 1, 2, 4, 7, 12, 20, . . ..

  (b) 0 + 1 + · · · +  = +2 - 1.
4.1.7.3. The sequences all have the same recurrence relation:  = -1 + -2 (the
same as the Fibonacci numbers). The only difference is the initial conditions.
4.1.7.4. 3, 10, 24, 52, 108, . . .. The recursive definition for 10, 24, 52, . . . is  = 2-1+4
with 1 = 10.
4.1.7.5. -1, -1, 1, 5, 11, 19, . . . Thus the sequence 0, 2, 6, 12, 20, . . . has closed formula
 = ( + 1)2 - 3( + 1) + 2.
4.1.7.6. This closed formula would have -1 = 3 · 2-1 + 7 · 5-1 and -2 =
500 B. Selected Solutions

3 · 2-2 + 7 · 5-2. Then we would have

               7-1 - 10-2 =7(3 · 2-1 + 7 · 5-1) - 10(3 · 2-2 + 7 · 5-2)
                                    =21 · 2-1 + 49 · 5-1 - 30 · 2-2 - 70 · 5-2)
                                    =21 · 2-1 + 49 · 5-1 - 15 · 2-1 - 14 · 5-1)
                                    =6 · 2-1 + 35 · 5-1
                                    =3 · 2 + 7 · 5 = .

So the closed formula agrees with the recurrence relation. The closed formula has
initial terms 0 = 10 and 1 = 41.

4.1.7.10.

                                                     

  (a) 2.                                    (d) 2.

          =1                                       =1

          107                                    100 
                                            (e)  + 1 .
  (b) (1 + 4( - 1)).
                                                   =1
          =1

        50 1
  (c)  .

          =1

4.1.7.11.

          100

  (a) (3 + 4) = 7 + 11 + 15 + · · · + 403.

          =1

            

  (b) 2 = 1 + 2 + 4 + 8 + · · · + 2.

          =0

(c)  50 1       = 1+ 1 + 1 + 1 +···+ 1 .

     =2 ( - 1)2            3 8 15           2499

(d)  100 2      = 4 · 9 · 16 · · · 10000 .

     2=2 ( - 1) 3 8 15 9999

        

(e) (2 + 3) = (2)(5)(8)(11)(14) · · · (2 + 3).

       =0

4.2 · Rate of Growth
4.2.6 · Practice Problems

4.2.6.8. For arithmetic:  = 83.6666666666667,  = 42.3333333333333. For the
arithmetic sequence, we know 125 +  = ,  +  = , and  +  = 1. In other
words, 125 + 3 = 1 so  = (-41.3333333333333)/3. For geometric:  = 25 and  = 5.
                                                                                                     Selected Solutions 501

Similarly we can find the common ratio for the geometric sequence by solving
125 · 3 = 1 for .
4.2.6.9. For arithmetic:  = 13,  = 22. We know that 4 +  = ,  +  = , and
 +  = 31. In other words, 4 + 3 = 31 so  = (27)/3.

    For geometric:  = 7.91578 and  = 15.6649. We can find the common ratio for
the geometric sequence by solving 4 · 3 = 31 for .

4.3 · Polynomial Sequences
4.3.6 · Practice Problems

4.3.6.1.

  (a)  = -1 + 3; 1 = 10.

  (b)  = 7 + 3.

  (c) Yes, 1555 = 516.

  (d) The sequence has 142 terms.

  (e) The sum is 31453.
   (f)  = 3 + 2 (10+7+3) .
4.3.6.2.

   a. 25, which is 20 + 5.

   b. The sequence is arithmetic, with 0 = 5 and constant difference 5, so  = 5+5.

    c. 25250. We want 5 + 15 + · · · + 500. Reverse and add to get 100 sums of 505, a
       total of 50500, which is twice the sum we are looking for.

4.3.6.3.

   a. 45.
   b. 238 · 44 = 5355.

            2
4.3.6.4.

   a.  - (-2) + 1 terms, since to get -18 using the formula 12 + 6 we must use
        = -2.

   b. 12 - 6, which is 12 less than 12 + 6 (or plug in  - 1 for ).

    c. 2 (12-12)(-(-2)+1) . Reverse and add. Each sum gives the constant 12 - 12, and
       there are  - (-2) + 1 terms.

4.3.6.5. 273310. If we take 0 = 2, the terms of the sum are an arithmetic sequence
with closed formula  = 2 + 6. Then 1808 = 301, for a total of 302 terms in the
sum. Reverse and add to get 302 identical 1810 terms, which is twice the total we
502 B. Selected Solutions

seek. 1810 · 302/2 = 273310.

4.3.6.6.  = 2 + 8. Here we know that we are looking for a quadratic because the
second differences are constant. So  = 2 +  + . Since 0 = 0, we know  = 0.
So just solve the system

      9 = +
    20 = 4 + 2
    to find  = 1 and  = 8.
4.3.6.7.  = 2 + 4 - 1. Here we know that we are looking for a quadratic because
the second differences are constant. So  = 2 +  + . Since 0 = -1, we know
 = -1. So just solve the system
      4 =  +  + -1
    11 = 4 + 2 + -1
    to find  = 1 and  = 4.
4.3.6.8.  = 23 - 2 + 5. Here we know that we are looking for a cubic because the
third differences are constant. So  = 3 + 2 +  + . Since 0 = 5, we know
 = 5. So just solve the system

                                          5 =  + + +5
                                        17 = 8 + 4 + 2 + 5
                                        53 = 27 + 9 + 3 + 5

    to find  = 2,  = 0, and  = -2.

4.3.6.9.  = 23 + 82 - 4 + 3. Here we know that we are looking for a cubic
because the third differences are constant. So  = 3 + 2 +  + . We can work
backwards to find that 0 = 3, so we know  = 3. Then solve the system,

       9 =  + + +3
      43 = 8 + 4 + 2 + 3
    117 = 27 + 9 + 3 + 3
    to find  = 2,  = 8, and  = -4.

4.3.6.10. -1 = 2( - 1)2 + 3( - 1) + 2 = 22 -  + 1 Thus  - -1 = 4 + 1. Note
that this is linear (arithmetic).

4.3.6.11.  = 23 + 32 + 2. Here we know that we are looking for a cubic because
the third differences are constant. So  = 3 + 2 +  + . We can work backwards
to find that 0 = 0, so we know  = 0. Then solve the system,

      7 = ++
    32 = 8 + 4 + 2
    87 = 27 + 9 + 3
    to find  = 2,  = 3, and  = 2.

4.3.7 · Additional Exercises

4.3.7.4.  = 2 -  + 1.

4.3.7.5.  = 3 + 2 -  + 1
                                                                       Selected Solutions 503

4.3.7.6. We have 2 = 2, 7 = 2 + 5, 15 = 2 + 5 + 8, 26 = 2 + 5 + 8 + 11, and so on.

The terms in the sums are given by the arithmetic sequence  = 2 + 3. In other
           
words,  =                 +  3).  To  find  the  closed  formula,  we  reverse  and  add.  We  get
           =0(2
 = 2 (4+3)(+1) (we have  + 1 there because there are  + 1 terms in the sum for ).

4.3.7.9. -1 = ( - 1)2 + ( - 1) +  = 2 - 2 +  +  -  + . Therefore
 - -1 = 2 -  + , which is arithmetic. Notice that this is not quite the derivative
of , which would be 2 + , but it is close.

4.3.7.10. No. The sequence of differences is the same as the original sequence, so no

differences will be constant.
4.3.7.11. No. The sequence is geometric, and in fact has closed formula 2 · 3. This is

an exponential function, which is not equal to any polynomial of any degree. If the
th sequence of differences was constant, then the closed formula for the original
sequence would be a degree  polynomial.

4.4 · Exponential Sequences
4.4.5 · Practice Problems

4.4.5.1. 4 6·520-6 . Let the sum be , and compute 5 -  = 4, which causes terms
except 6 and 6 · 520 to cancel. Then solve for .

4.4.5.2.  1+(-1)38 73838  . Compute  + 74 .
                   4

          11/4

4.4.5.3.  = -4 + 2+1. We should use telescoping or iteration here. For example,
telescoping gives

                                              1 - 0 = 21

                                              2 - 1 = 22

                                              3 - 2 = 23
                                                      ....
                                                      ..

                                             - -1 = 2

    which sums to  - 0 = 2+1 - 2 (using the multiply-shift-subtract technique for
the geometric series on the right-hand side). Substituting 0 = -2 and solving for 
completes the solution.

4.4.5.4. By the characteristic root technique.  = (-4) + 6.

4.4.5.5. The characteristic roots for both sequences are -1 and 2 (since the two

sequences have the same recurrence relation, they have the same characteristic

roots). Solving for coefficients in each case gives the closed formulas. We have
 = (-1) + 2 and  =                    (-1) +         · 2.
                                  4              23
                                  3              3

4.4.5.6. By the characteristic root technique.  = 7 · 2 - 3(-1).

4.4.6 · Additional Exercises
504 B. Selected Solutions

4.4.6.1. 171 and 341.  = -1 + 2-2 with 0 = 3 and 1 = 5. Closed formula:
 = 83 2 + 13 (-1). To find this solve the characteristic equation, 2 -  - 2 = 0, to
get characteristic roots  = 2 and  = -1. Then solve the system

                                                3 = +
                                                5 = 2 - 
4.4.6.3. We claim  = 4 works. Plug it in: 4 = 3(4-1) + 4(4-2). This works; just
simplify the right-hand side.
4.4.6.6.
  (a)  = 4-1 + 5-2.

  (b) 4, 21, 104, 521, 2604, 13021
  (c)  = 56 5 + 16 (-1).
4.4.6.8. We have characteristic polynomial 2 - 2 + 1, which has  = 1 as the only
repeated root. Thus, using the characteristic root technique for repeated roots, the
general solution is  =  +  where  and  depend on the initial conditions.
  (a)  = 1 + .
  (b) For example, we could have 0 = 21 and 1 = 22.
  (c) For every . Take 0 =  - 9 and 1 =  - 8.

4.5 · Proof by Induction
4.5.6 · Practice Problems

4.5.6.1.

   A. Correct.

   B. Correct.

   C. Incorrect.

  D. Incorrect.

   E. Incorrect.
4.5.6.2.

   A. Correct.

   B. Incorrect.

   C. Incorrect.

  D. Incorrect.

   E. Incorrect.
                                                                                                    Selected Solutions 505

4.5.6.3.

   A. Correct.

   B. Incorrect.
       Even though the sum starts with 2, we need to consider the smallest  for
       which the statement () is true.

   C. Incorrect.

  D. Incorrect.

   E. Incorrect.
4.5.6.4.

   A. Correct.

   B. Incorrect.
       Assume () and () are both true for an arbitrary   1; that is, assume
       2 + 4 + 6 + · · · + 2 = ( + 1) and 2 + 4 + 6 + · · · + 2 + 2 + 2) = ( + 1)( + 2).

   C. Incorrect.

  D. Incorrect.
4.5.6.5.

    · Let () be the statement, " = 5 - 1".
    · Note that 0 = 50 - 1 = 0, so (0) is true.
    · Now assume that () is true for an arbitrary integer   0.
    · Then  = 5 - 1.
    · By the recurrence relation, we have +1 = 5 + 4 = 5(5 - 1) + 4.
    · This simplifies to +1 = 5+1 - 5 + 4 = 5+1 - 1, so ( + 1) is true.
    · Therefore, by the principle of mathematical induction, () is true for all   0.
4.5.6.6.
    · Let () be the statement, "14 - 1 is a multiple of 13."
    · Note that 141 - 1 = 13, so this is definitely a multiple of 13.
    · Now assume that () is true for an arbitrary integers   1.
    · Then 14 - 1 = 13 ·  for some integer .
    · Since 14+1 - 1 = 14(14 - 1) + 14 - 1 = 14(13 · ) + 13, we see that 14+1 - 1 is a

       multiple of 13.
506 B. Selected Solutions

    · Thus ( + 1) is true.

    · Therefore, by the principle of mathematical induction, () is true for all   1.
4.5.6.7.

    · Let () be the statement, "1 + 1 + 2 + 3 + 5 + · · · +  = +2 - 1."

    · For the base case, note that (1) and (2) are true, because 1 = 2 - 1 and
       1 + 1 = 3 - 1.

    · Now assume that () is true for an arbitrary integer   2.

    · That is, assume 1 + 1 + 2 + 3 + 5 +  = +2 - 1.

    · Then adding +1 to both sides, we get 1 + 1 + 2 + 3 + 5 + · · · +  + +1 =
       +1 + +2 - 1.

    · By the definition of Fibonacci numbers, +1 + +2 = +3, so the right-hand
       side simplifies to +3 - 1.

    · Thus ( + 1) is true, and therefore by the principle of mathematical induction,
       () is true for all   1.

4.5.7 · Additional Exercises

4.5.7.1.

  (a) If we have a number of beans ending in a 5, and we double it, we will get a
       number of beans ending in a 0 (since 5 · 2 = 10 ). Then if we subtract 5, we will
       once again get a number of beans ending in a 5. Thus, if on any day we have a
       number ending in a 5, the next day we will also have a number ending in a 5.

  (b) If you don't start with a number of beans ending in a 5 (on day 1), the above
       reasoning is still correct but not helpful. For example, if you start with a
       number ending in a 3, the next day you will have a number ending in a 1.

  (c) Part (b) is the base case, and part (a) is the inductive case. If on day 1 we have
       a number ending in a 5 (by part (b)), then on day 2 we will also have a number
       ending in a 5 (by part (a)). Then by part (a) again, we will have a number
       ending in a 5 on day 3. By part (a) again, this means we will have a number
       ending in a 5 on day 4.
       The proof by induction would say that on every day we will have a number
       ending in a 5, and this works because we can start with the base case and then
       use the inductive case over and over until we get up to our desired .

4.5.7.2.
Proof. We must prove that 1 + 2 + 22 + 23 + · · · + 2 = 2+1 - 1 for all   . Thus let
() be the statement 1 + 2 + 22 + · · · + 2 = 2+1 - 1. We will prove that () is true
for all   . First we establish the base case, (0), which claims that 1 = 20+1 - 1.
Since 21 - 1 = 2 - 1 = 1, we see that (0) is true. Now for the inductive case. Assume
                                                  Selected Solutions 507

that () is true for an arbitrary   . That is, 1 + 2 + 22 + · · · + 2 = 2+1 - 1. We
must show that ( + 1) is true (i.e., that 1 + 2 + 22 + · · · + 2+1 = 2+2 - 1). To do
this, we start with the left-hand side of ( + 1) and work to the right-hand side:

1 + 2 + 22 + · · · + 2 + 2+1 = 2+1 - 1 + 2+1      by the inductive hypothesis.
                                   = 2 · 2+1 - 1
                                   = 2+2 - 1

Thus ( + 1) is true, so by the principle of mathematical induction, () is true

for all   .                                                                       

4.5.7.3.

Proof. Let () be the statement, "7 - 1 is a multiple of 6." We will show () is
true for all   . First we establish the base case, (0). Since 70 - 1 = 0, and 0 is a
multiple of 6, (0) is true. Now for the inductive case. Assume () holds for an
arbitrary   . That is, 7 - 1 is a multiple of 6, or in other words, 7 - 1 = 6 for
some integer . Now consider 7+1 - 1:

7+1 - 1       = 7+1 - 7 + 6                 by cleverness: - 1 = -7 + 6
              = 7(7 - 1) + 6  factor out a 7 from the first two terms
              = 7(6) + 6
              = 6(7 + 1)                   by the inductive hypothesis
                                                              factor out a 6

Therefore 7+1 - 1 is a multiple of 6, or in other words, ( + 1) is true. Therefore

by the principle of mathematical induction, () is true for all   .                

4.5.7.4.

Proof. Let () be the statement 1 + 3 + 5 + · · · + (2 - 1) = 2. We will prove that
() is true for all   1. First the base case, (1). We have 1 = 12 which is true,
so (1) is established. Now the inductive case. Assume that () is true for some
fixed arbitrary   1. That is, 1 + 3 + 5 + · · · + (2 - 1) = 2. We will now prove that
( + 1) is also true (i.e., that 1 + 3 + 5 + · · · + (2 + 1) = ( + 1)2). We start with the
left-hand side of ( + 1) and work to the right-hand side:

1 + 3 + 5 + · · · + (2 - 1) + (2 + 1) = 2 + (2 + 1) by the inductive hypothesis

                              = ( + 1)2                             by factoring

Thus ( + 1) holds, so by the principle of mathematical induction, () is true

for all   1.                                                                      

4.5.7.5.
Proof. Let () be the statement 0 + 2 + 4 + · · · + 2 = 2+1 - 1. We will show
that () is true for all   0. First the base case is easy because 0 = 0 and 1 = 1 so
0 = 1 - 1. Now consider the inductive case. Assume () is true, that is, assume
508 B. Selected Solutions

0 + 2 + 4 + · · · + 2 = 2+1 - 1. To establish ( + 1) we work from left to right:

0 + 2 + · · · + 2 + 2+2    = 2+1 - 1 + 2+2  by the inductive hypothesis.
                           = 2+1 + 2+2 - 1   by the recursive definition.
                           = 2+3 - 1

    Therefore 0 + 2 + 4 + · · · + 2+2 = 2+3 - 1, which is to say ( + 1) holds.
Therefore by the principle of mathematical induction, () is true for all   0. 

4.5.7.6.
Proof. Let () be the statement 2 < !. We will show () is true for all   4.
First, we check the base case and see that yes, 24 < 4! (as 16 < 24), so (4) is true.
Now for the inductive case. Assume () is true for an arbitrary   4. That is,
2 < !. Now consider ( + 1): 2+1 < ( + 1)!. To prove this, we start with the left
side and work to the right side.

           2+1 = 2 · 2          by the inductive hypothesis
                  < 2 · !                        since  + 1 > 2
                  < ( + 1) · !
                  = ( + 1)!

Therefore 2+1 < ( + 1)!, so we have established ( + 1). Thus by the principle

of mathematical induction () is true for all   4.                          

4.5.7.12. The only problem is that we never established the base case. Of course,
when  = 0, 0 + 3  0 + 7.

4.5.7.13.

Proof. Let () be the statement that  + 3 <  + 7. We will prove that () is

true for all   . First, note that the base case holds: 0 + 3 < 0 + 7. Now assume

for induction that () is true. That is,  + 3 <  + 7. We must show that ( + 1) is

true. Now since  + 3 <  + 7, add 1 to both sides. This gives  + 3 + 1 <  + 7 + 1.

Regrouping ( + 1) + 3 < ( + 1) + 7. But this is simply ( + 1). Thus by the principle

of mathematical induction () is true for all   .                           

4.5.7.14. The problem here is that while (0) is true, and while ()  ( + 1) for
some values of , there is at least one value of  (namely  = 99) when that implication
fails. For a valid proof by induction, ()  ( + 1) must be true for all values of 

greater than or equal to the base case.

4.5.7.16. We once again failed to establish the base case: When  = 0, 2 +  = 0

which is even, not odd.
4.5.7.22. The idea here is that if we take the logarithm of , we can increase  by 1
if we multiply by another  (inside the logarithm). This results in adding 1 more
log() to the total.
Proof. Let () be the statement log() =  log(). The base case, (2) is true,
                                    Selected Solutions 509

because log(2) = log( · ) = log() + log() = 2 log(), by the product rule for
logarithms. Now assume, for induction, that () is true. That is, log() =  log().
Consider log(+1). We have

               log(+1) = log( · ) = log() + log() =  log() + log(),

with the last equality due to the inductive hypothesis. But this simplifies to

( + 1) log(), establishing ( + 1). Therefore by the principle of mathematical

induction, () is true for all   2.  

4.6 · Strong Induction
4.6.4 · Practice Problems

4.6.4.1.

   A. Correct.

   B. Correct.

   C. Incorrect.

   D. Incorrect.

   E. Incorrect.
4.6.4.2.

    · Let () be the statement that a chocolate bar that is  squares long can be
       broken into  pieces by making  - 1 breaks.

    · (1) is true because a chocolate bar that is 1 square long is already in one piece.

    · Assume that () is true for all    for an arbitrary   1.

    · Consider a chocolate bar that is  + 1 squares long.

    · Anywhere you break this bar will result in two smaller bars, say of length 
       and .

    · Since  and  are no more than , it will be possible to break these smaller bars
       into single squares using  - 1 and  - 1 breaks, respectively.

    · The total number of breaks is therefore  - 1 +  - 1 + 1 =  +  - 1, which is
        + 1 - 1 = .

    · Therefore, by the principle of strong induction, () is true for all   1.

4.6.5 · Additional Exercises

4.6.5.3. The proof will be by strong induction.
Proof. Let () be the statement, " is either a power of 2 or can be written as the
sum of distinct powers of 2." We will show that () is true for all   1.
510 B. Selected Solutions

    Base case: 1 = 20 is a power of 2, so (1) is true.
    Inductive case: Suppose () is true for all  < . Now if  is a power of 2, we
are done. If not, let 2 be the largest power of 2 strictly less than . Consider  - 2,
which is a smaller number, in fact smaller than both  and 2. Thus  - 2 is either a

power of 2 or can be written as the sum of distinct powers of 2, but none of them are
going to be 2, so together with 2 we have written  as the sum of distinct powers

of 2.

Therefore, by the principle of (strong) mathematical induction, () is true for

all   1.                                                 

4.7 · Chapter Summary

· Chapter Review

4.7.1. 1250·206 2 = 128750.
4.7.2.

   a.  - 3 terms.

   b. 10 + (-12).
   c. (10 + 26)  ( - 3) .

                   2
4.7.3.

   a. 6, 30, 150, 750, . . . The sequence is geometric.

   b. 6 · 5 = 3 22 - 6 .57628 × 1015.
             4

4.7.5.  = 2 + 8 + 2. Here we know that we are looking for a quadratic because
the second differences are constant. So  = 2 +  + . We can work backwards
to find that 0 = 2, so we know  = 2. Then solve the system,

                            11 =  +  + 2
                            22 = 4 + 2 + 2

    to find  = 1 and  = 8.
4.7.6.

(a) The sequence of partial sums will be a degree 4 polynomial (its sequence of
     differences will be the original sequence).

  (b) The sequence of second differences will be a degree 1 polynomial (an arithmetic
       sequence).

4.7.7.

  (a) 4, 6, 10, 16, 26, 42, . . ..

(b) No, taking differences gives the original sequence back, so the differences will
                                                               Selected Solutions 511

    never be constant.

4.7.8.  = ( + 3).

4.7.10. The sequence is 4, 9, 89, 269, 2049, . . .. It has closed formula  =
    (-4) +      · 5, using the characteristic root technique.
11          25
9           9

4.7.11. The sequence is 5, 7, 111, 459, 3375, . . .. It has closed formula  =
    (-3) +      · 6, using the characteristic root technique.
23          22
9           9

4.7.12.

  (a) On the first day, your 2 mini bunnies become 2 large bunnies. On day 2, your
       2 large bunnies produce 4 mini bunnies. On day 3, you have 4 mini bunnies
       (produced by your 2 large bunnies) plus 6 large bunnies (your original 2 plus
       the 4 newly matured bunnies). On day 4, you will have 12 mini bunnies (2 for
       each of the 6 large bunnies) plus 10 large bunnies (your previous 6 plus the 4
       newly matured). The sequence of total bunnies is 2, 2, 6, 10, 22, 42 . . . starting
       with 0 = 2 and 1 = 2.

  (b)  = -1 +2-2. This is because the number of bunnies is equal to the number
       of bunnies you had the previous day (both mini and large) plus 2 times the
       number you had the day before that (since all bunnies you had 2 days ago are
       now large and producing 2 new bunnies each).

  (c) Using the characteristic root technique, we find  = 2 + (-1), and we can
       find  and  to give  = 43 2 + 23 (-1).

4.7.17. Let () be the statement, "Every set containing  elements has 2 different
subsets." We will show () is true for all   1. Base case: Any set with 1 element
{} has exactly 2 subsets: the empty set and the set itself. Thus the number of
subsets is 2 = 21. Thus (1) is true. Inductive case: Suppose () is true for some
arbitrary   1. Thus every set containing exactly  elements has 2 different subsets.
Now consider a set containing  + 1 elements:  = {1, 2, . . . ,  , +1}. Any subset
of  must either contain +1 or not. In other words, a subset of  is just a subset of
{1, 2, . . . , } with or without +1. Thus there are 2 subsets of  which contain
+1 and another 2+1 subsets of  which do not contain +1. This gives a total
of 2 + 2 = 2 · 2 = 2+1 subsets of . But our choice of  was arbitrary, so this
works for any subset containing  + 1 elements, so ( + 1) is true. Therefore, by the
principle of mathematical induction, () is true for all   1.

5 · Discrete Structures Revisited
5.1 · Sets
5.1.5 · Exercises

5.1.5.1.
   a.    = {2, 4, 5, 6, 7, 8}. It includes everything that is in  or  or both.
   b.    = {2, 4, 5, 6}. It contains everything that is in both  and .
   c.  \  = {7}. It contains everything that is in  except anything that is also in .
512 B. Selected Solutions

       We could also have written this set as   .

   d.  \  = {8}. It contains everything in  except anything that is also in .
       Another way to write this is   . Note that  \    \ .

5.1.5.2.

   a. This is the set {3, 4, 5, . . .} since we need each element to be a natural number
       whose square is at least 3 more than 4. Since 32 - 3 = 6 but 22 - 3 = 1 we see
       that the first such natural number is 3.

   b. We get the same set as the previous part, and the smallest non-negative number
       for which 2 - 7 is a natural number is 3.
       Note that if we didn't specify   0 by saying that    then any integer less
       than -3 would also be in the set, so there would not be a least element.

   c. This is the set {4, 5, 8, 13, . . .}, namely the set of numbers that are the result of
       squaring and adding 4 to a natural number. (02 + 4 = 4, 12 + 4 = 5, 22 + 4 = 8
       and so on.) Thus the least element of the set is 4.

   d. Now we are looking for natural numbers that are equal to taking some natural
       number, squaring it and adding 4. That is, {4, 5, 8, 13, . . .}, the same set as the
       previous part. So again, the least element is 4.

5.1.5.4. The set of largest size that is a subset of both  and  is the intersection of
 and ,    = {8}.
5.1.5.7. There will be exactly 4 such sets: {1, 4, 14},{1, 4, 12, 14}, {1, 4, 7, 14}, and
{1, 4, 7, 12, 14}.
5.1.5.8.

   a.    = {4, 5, 6}.

   b.    = {2, 3, 4, 5, 6, 7, 8}.

   c.  \  = {2, 3}.

   d.   (  ) = {2}.
5.1.5.11. For example,  = {2, 3, 5, 7, 8} and  = {3, 5} .
5.1.5.12. For example,  = {1, 2, 3} and  = {1, 2, 3, 4, 5, {1, 2, 3}}
5.1.5.13.

  (a) No.

  (b) No.

  (c) 2  3 is the set of all integers which are multiples of both 2 and 3 (so
       multiples of 6). Therefore 2  3 = {   :   ( = 6)}.

  (d) 2  3.
                                 Selected Solutions 513

5.1.5.15.

(a)   :          (d) (  )  :

                                 

                                 

(b) (  ):        (e)     :

                                 

                                 

(c)   (  ):      (f) (  ) \ :

                                 

                                   
                                                                                                

5.1.5.17.

             () = {, {}, {}, {}, {}, {, }, {, }, {, }, {, }, {, },
                         {, }{, , }, {, , }, {, , }, {, , }, {, , , }}.

5.1.5.18. Each of the 9 elements can be in a singleton set, so there are 9 of these.
    To count the number of doubletons, not that there are 8 sets that include 1, and

then 7 sets that include 2 and not 1, and then 6 that include 3 and not 1 or 2, and so
on. So you can find 36 by summing the numbers from 1 to 8.
5.1.5.20. For example,  = {1, 2, 3, 4} and  = {5, 6, 7, 8, 9} gives    =
{1, 2, 3, 4, 5, 6, 7, 8, 9}.
5.1.5.28. We need to be a little careful here. If  contains 3 elements, then  contains
just the number 3 (listed twice). So that would make || = 1, which would make
 = {1, 3}, which only has 2 elements. Thus ||  3. This means that || = 2, so 
contains at least the elements 1 and 2. Since ||  3, we must have || = 2, which
agrees with the definition of .

    Therefore it must be that  = {2, 3} and  = {1, 2}

5.2 · Functions
5.2.4 · Exercises

5.2.4.1.

   a.  (4) = 2, since 2 is the number below 4 in the two-line notation.

   b. Such an  is  = 3, since  (3) = 4. Note that 3 is above a 4 in the notation.
514 B. Selected Solutions

    c.  = 1 has this property. We say that 1 is a fixed point of  . Not all functions
       have such a point.

   d. Such an element is 3 (in fact, that is the only element in the codomain that is
       not in the range). In other words, 3 is not the image of any element under  ;
       nothing is sent to 3.

5.2.4.5. There are 16 different functions. None of the functions are injective. Exactly
14 of the functions are surjective (there are 2 that are not: those that send everything
to  or everything to ). No functions are both (since no functions here are injective).
5.2.4.6. There are 16 functions: you have a choice of four outputs for  (1), and for
each, you have four choices for the output  (2). Of these functions, 12 are injective, 0
are surjective, and 0 are both (i.e., bective):

                      = 1 2    = 1 2    = 1 2    = 1 2  

                      = 1 2    = 1 2    = 1 2    = 1 2  

                      = 1 2    = 1 2    = 1 2    = 1 2  

                      = 1 2    = 1 2    = 1 2    = 1 2  

5.2.4.7.

  (a)  is not injective, since  (2) =  (5); two different inputs have the same output.

  (b)  is surjective, since every element of the codomain is an element of the range.

  (c)  = 1 2 3 4 5 .
              32412

5.2.4.12.

  (a)  is injective, but not surjective (since 0, for example, is never an output).

  (b)  is injective and surjective. Unlike in the previous question, every integers is
       an output (of the integer 4 less than it).

  (c)  is injective, but not surjective (10 is not 8 less than a multiple of 5, for
       example).

  (d)  is not injective, but is surjective. Every integer is an output (of twice
       itself, for example) but some integers are outputs of more than one input:
         (5) = 3 =  (6).
                                       Selected Solutions 515

5.2.4.13.

(a)  is not injective. To prove this, we must simply find two different elements of
     the domain which map to the same element of the codomain. Since  ({1}) = 1
     and  ({2}) = 1, we see that  is not injective.

(b)  is not surjective. The largest subset of  is  itself, and || = 10. So no
     natural number greater than 10 will ever be an output.

(c)  -1(1) = {{1}, {2}, {3}, . . . {10}} (the set of all the singleton subsets of  ).

(d)  -1(0) = {}. Note that it would be wrong to write  -1(0) = ; that would
     claim that there is no input which has 0 as an output.

  (e)  -1(12) = , since there are no subsets of  with cardinality 12.
5.2.4.16.

(a) |  -1(3)|  1. In other words, either  -1(3) is the empty set or is a set containing
     exactly one element. Injective functions cannot have two elements from the
     domain both map to 3.

(b) |  -1(3)|  1. In other words,  -1(3) is a set containing at least one elements,
     possibly more. Surjective functions must have something map to 3.

  (c) |  -1(3)| = 1. There is exactly one element from  which gets mapped to 3, so
         -1(3) is the set containing that one element.

5.2.4.17.  can really be any set, as long as  () = 0 or  () = 1 for every   . For
example,  =  and  () = 0 works.

5.2.4.21.

(a)  is injective.

Proof . Let  and  be elements of the domain . Assume  () =  (). If 

and  are both even, then  () =  + 1 and  () =  + 1. Since  () =  (), we

have  + 1 =  + 1 which implies that  = . Similarly, if  and  are both odd,

then  - 3 =  - 3 so again  = . The only other possibility is that  is even

and  is odd (or vice-versa). But then  + 1 would be odd, and  - 3 would be

even, so it cannot be that  () =  (). Therefore if  () =  () we then have

 = , which proves that  is injective.                                                  

(b)  is surjective.

Proof . Let  be an element of the codomain . We will show there is an

element  of the domain () such that  () = . There are two cases: First, if 

is even, then let  =  +3. Since  is even,  is odd, so  () =  -3 =  +3-3 = 

as desired. Second, if  is odd, then let  =  - 1. Since  is odd,  is even, so

 () =  + 1 =  - 1 + 1 =  as needed. Therefore  is surjective.                          
516 B. Selected Solutions

5.2.4.22. Yes, this is a function, if you choose the domain and codomain correctly.
The domain will be the set of students, and the codomain will be the set of possible
grades. The function is almost certainly not injective, because it is likely that two
students will get the same grade. The function might be surjective - it will be if
there is at least one student who gets each grade.

5.2.4.24. This is not a function.
5.2.4.25. The recurrence relation is  ( + 1) =  () + .

5.2.4.26. In general, ||   () , since you cannot get more outputs than you have
inputs (each input goes to exactly one output), but you could have fewer outputs if
the function is not injective. If the function is injective, then || =  () , although
you can have equality even if  is not injective (it must be injective restricted to ).

5.2.4.27. In general, there is no relationship between || and  -1() . This is because
 might contain elements that are not in the range of  , so we might even have
 -1() = . On the other hand, there might be lots of elements from the domain that
all get sent to a few elements in , making  -1() larger than .

    More specifically, if  is injective, then ||   -1() (since every element in
 must come from at most one element from the domain). If  is surjective, then
||   -1() (since every element in  must come from at least one element of the
domain). Thus if  is bective then || =  -1() .

6 · Additional Topics
6.1 · Generating Functions
6.1.5 · Exercises

6.1.5.1.

(a) 4 1 -  .                                23     (f)  1      2.
                                    (c) (1 - )2 .
                                    (d) 1 1 - 5 .       1 - 5
                                    (e) 1 1 + 3 .
                                                             
                                                   (g) (1 - 3)2 .

(b)       2   2.

     (1 - )

6.1.5.2.

(a) 0, 4, 4, 4, 4, 4, . . ..

(b) 1, 4, 16, 64, 256, . . ..

(c) 0, 1, -1, 1, -1, 1, -1, . . ..

(d) 0, 3, -6, 9, -12, 15, -18, . . ..

  (e) 1, 3, 6, 9, 12, 15, . . ..
6.1.5.4. Call the generating function . Compute  -  = 4 +  + 22 + 33 + 44 + · · ·.
                                                Selected Solutions 517

Thus  -  = 4 + (1 - )2  . Solving for  gives 4 1 -  + (1 - )3  .
6.1.5.5. 1 - 3 + 2 1 + 2 .
6.1.5.6. Compute  -  - 2 and then solve for . The generating function will

          
be 1 -  - 2 .

                     
6.1.5.7. (1 - )(1 -  - 2) .

6.1.5.8. 2 1 - 5 + 7 1 + 3 .
6.1.5.9.  = 3 · 4-1 + 1.
6.1.5.12.

(a) 2 2 1 .

       (1- )

(b) 2 1 .

       (1+)

(c) 3 (1-)2 .

  (d) (1-3 )3  . (partial sums).
6.1.5.13.

(a) 0, 0, 1, 1, 2, 3, 5, 8, . . ..

(b) 1, 0, 1, 0, 2, 0, 3, 0, 5, 0, 8, 0, . . ..

(c) 1, 3, 18, 81, 405, . . ..

(d) 1, 2, 4, 7, 12, 20, . . ..

          3    1
6.1.5.15. (1-)2 + 1- .

6.2 · Introduction to Number Theory
6.2.6 · Exercises

6.2.6.1.

Proof. Suppose  | . Then  is a multiple of , or in other words,  =   for some .

But then  =  , and since  is an integer, this says  is a multiple of . In other

words,  | .                                     

6.2.6.3. {. . . , -8, -4, 0, 4, 8, 12, . . .}, {. . . , -7, -3, 1, 5, 9, 13, . . .},
    {. . . , -6, -2, 2, 6, 10, 14, . . .}, and {. . . , -5, -1, 3, 7, 11, 15, . . .}.

6.2.6.5.
Proof. Assume    (mod ) and    (mod ). This means  =  +  and
518 B. Selected Solutions

 =  +  for some integers  and . Consider  - . We have:

           -  =  +  - ( + ) =  -  + ( - ).

In other words,  -  is  -  more than some multiple of , so  -    - 

(mod ).                                                 

6.2.6.6.

(a) 3456  1456 = 1 (mod 2).

(b) 3456 = 9228  (-1)228 = 1 (mod 5).

(c) 3456 = 9228  2228 = 876  176 = 1 (mod 7).

  (d) 3456 = 9228  0228 = 0 (mod 9).

6.2.6.8. For all of these, just plug in all integers between 0 and the modulus to see
which, if any, work.

(a) No solutions.
(b)  = 2,  = 5,  = 8.

  (c) No solutions.

6.2.6.10.  = 5 + 22 for   .
6.2.6.12.  = 6 + 15 for   .
6.2.6.14. We must solve 7 + 5  2 (mod 11). This gives   9 (mod 11). In general,
 = 9 + 11, but when you divide any such  by 11, the remainder will be 9.

6.2.6.15. Divide through by 2: 3 + 5 = 16. Convert to a congruence, modulo 3:
5  16 (mod 3), which reduces to 2  1 (mod 3). So   2 (mod 3) or  = 2 + 3.
Plug this back into 3 + 5 = 16, and solve for , to get  = 2 - 5. So the general
solution is  = 2 - 5 and  = 2 + 3 for   .
                          Appendix C

               List of Symbols

Symbol         Description                                   Page

               "therefore"                                   15
, , , , . . .
               propositional (sentential) variables          19

               logical "and" (conjunction)                   19

               logical "or" (disjunction)                    19
¬
               logical negation                              19
,
               the complete graph on  vertices               108

()             the complete bipartite graph of  and  vertices 109
()
()             the cycle on  vertices                        109
 ()
B              the path on  + 1 vertices                     109
( )
               the chromatic number of                       151

               the maximum degree in                         156

               the chromatic index of                        157

               the set of neighbors of                       182

               the set of length  bit strings with weight .  198
 ()
{, }           the sequence 0, 1, 2, . . .                   313

:              the th triangular number                      318

               the th Fibonacci number                       324

               the th differences of a sequence              343

               the empty set                                 392

               the set of natural numbers                    392

               the set of integers                           392
×
               the set of rational numbers                   392
\
               the set of real numbers                       392

               the power set of                              392

               braces, to contain set elements.              392

               "such that"                                   392

               "is an element of"                            392

               "is a subset of"                              392

               "is a proper subset of"                       392

               set intersection                              392

               set union                                     392

               Cartesian product                             392

               set difference                                392

               the complement of                             392

                                                 (Continued on next page)

                                       519
520 C. List of Symbols

Symbol  Description                     Page

||      cardinality (size) of            392
×       the Cartesian product of  and    397
 ()     the image of  under              411
 -1()   the inverse image of  under      412
Index

additive principle, See sum principle       bow ties, 268, 306, 496
adjacent                                    breadth-first search, 125
                                            Brooks' theorem, 157
     edges, 110
     vertices, 100, 110                     Canadians, set of, 369
alternating path, 184                       cannonball stacking, 352
ancestor (in a rooted tree), 123            cardinality, 219, 394
and (logical connective), 19
     truth condition for, 19                     of a set, 392
antecedent, See hypothesis                       of a union, 219, 223
antisymmetric, 9                                 of power set, 388
arbitrary, 66                               cards, 205
argument, 14                                Cartesian product, 392, 397
arithmetic sequence                         characteristic equation, 357
     summing, 340                           characteristic polynomial, 357
atomic statement, 17                        characteristic roots, 356, 357, 359
augmenting path, 184                        chessboard
                                                 counting squares on, 342
balls and bins, See sticks and stones            missing squares, 82
base case, 365, 379                              rook paths, 192
biconditional, 19                                tiling, 326
bection, 409, 411, 413                      child (in a rooted tree), 123
binary connective, 18                       chordal graph, 156
binary digit, See bit                       Christmas, 387
binary predicate, 28                        chromatic index, 157
binary relation, 9                          chromatic number, 110, 151
binary representation, 382                  circuit, 141
binomial coefficient, 201, 202, 302              Euler, 141
                                            clique, 156
     closed formula for, 236                closed formula, 314
binomial identity, 259                           for a function, 7, 407
                                                 for a sequence, 8, 344
     examples of, 258                       codomain, 6, 403, 413
binomial theorem, 202                       coloring
bipartite graph, 109, 110                        edges, 157
birthday paradox, 274                            vertices, 151
bit, 197                                         vertices vs. edges, 161
bit string, 197, 198, 326                   combination, 230
                                                 closed formula for, 236
     combinatorial proof involving,              vs. permutation, 236, 302, 306
           270                              combinatorial proof, 256, 262

     length, 197, 198
     weight, 197, 198
Boolean variable, See propositional

          variable

                                       521
522 Index                               design, 10
                                        difference of sets, 392, 396
complement (of an event), 278           differences of a sequence, 342
complement of a set, 392, 396           differentiable functions
complement, probability of, 278
complete bipartite graph, 109, 110           generalized product rule, 375
complete graph, 107, 109, 110                generalized sum rule, 375
complete inverse image, 411, 414        Diophantine equation, 443
complex numbers (as characteristic           solution, 443
                                        direct proof, 64
           roots), 359                  discrete structures, See structures
composition of functions, 418           disjoint, 219
conclusion, 14, 31                      disjoint events, 207
conditional, 19, 31                     disjunction, 19
conditional probability, 283            distribution (counting), 244
congruence                                   with upper bound restriction, 290
                                        divides, 433
     solving, 441                       divisibility relation, 432, 433
conjunction, 19                         division algorithm, 434, 435
connected graph, 107, 110               division with remainder, See division
connectives, 18, 19
consequent, See conclusion                         algorithm
contradiction, 71                       Doctor Who, 82, 389
contrapositive, 35                      dodecahedron, 137
                                        domain, 6, 403, 413
     proof by, 69                       domain of discourse, 23
converse, 35                            domino, 148, 326, 353
convex polyhedron, 134                  double induction, See induction,
corollary, 88
counting, 191                                      double
                                        double negation, 50
     divisors, 217
     edges in a graph, 108              edge, 10, 100, 102, 110
cover (vertex), 185                     element chasing, 86
cube, 134                               element of a set, 389
cycle, 110                              empty set, 219, 392
     Hamilton, 141, 144                 enumeration, See counting
     type of graph, 109                 equivalence relation, 9, 436
                                        Euclidean algorithm, 444
De Morgan's laws, 49                    Euler circuit, 110, 141
deduction rule, 55                      Euler trail, 110, 141
degree, 108, 110                        event (counting), 206
                                        event (probability), 276
     degree sequence, 108               exclusive or, 20
     maximum, 156                       existential quantifier, 23
     sum formula, 108                   exists, 23
-constant, 343, 344
depth-first search, 125                 face (planar graph), 129, 130
derangement, 295
     fraction of all permutations that

           are, 304
descendant (in a rooted tree), 123
factorial, 232                                                                     Index 523
Fibonacci sequence, 8, 315, 383
                                            complete bipartite, 109, 110
     differences, 346                       connected, 107, 110
     identity, 383                          cycle, 109, 110
     partial sums, 324, 373, 388            degree, 108, 110
     recurrence relation, 358               degree sequence, 108
finite differences, 344                     drawing, 103
finite geometry, 10                         edge, 100, 102
finite sequence, 8                          Euler circuit, 110
football (American), 373, 382               Euler trail, 110
for all, 23                                 forest, 111
forest, 111, 117                            girth, 134
four color theorem, 154                     induced subgraph, 111
free variable, 22                           isomorphic (intuitive definition),
function, 6, 403, 413
     counting, 252, 296, 301, 302                104
     how to describe, 404                   isomorphic (precise definition),
     increasing
                                                 104
        counting, 254                       isomorphism class, 106
     non-decreasing                         leaf, 111
                                            matching, 181, 182
        counting, 254                       maximum degree, 156
     notation, 413                          multigraph, 107, 110
     two-line notation, 405, 413            neighbors, 114, 182
                                            path, 109-111
gcd, See greatest common divisor            perfect, 156, 161
generating function, 421                    Petersen, 139
                                            planar, 111
     differencing, 424                      simple, 107
     multiplication and partial sums,       subgraph, 106, 111
                                            trail, 111
           427                              tree, 111
     recurrence relation, 428               vertex, 100, 102
geometric sequence                          vertex coloring, 111, 151
     summing, 354                           walk, 111
girth, 134                             graph (of a function), 404
Goldbach, 63                           greatest common divisor, 440
Goldbach conjecture, 96
golden ratio, 358                      Hall's marriage theorem, 182
graph, 10, 100, 102, 110               Hamilton cycle, 141, 144
     adjacent, 100, 110
     bipartite, 109, 110                    in bipartite graph, 149
     chordal, 156                      Hamilton path, 141, 144
     chromatic index, 157
     chromatic number, 110, 151, 154        in bipartite graph, 149
     clique, 156                       handshake lemma, 108
     coloring vertices vs. edges, 161  handshakes, 375
     complete, 107, 109, 110
                                            connection to graphs, 112
                                       Hanoi, 311
524 Index                                     inverse image, 411, 414
                                                   comparison to inverse function,
hockey stick theorem, 375                                412
homogeneous                                        of a subset, 414

     recurrence relation, 359                 irreflexive, 9
hypothesis, 31                                isomorphic

icosahedron, 136                                   intuitive definition, 104
if and only if (logical connective), 19            precise definition, 104
                                              isomorphism class, 106
     truth condition for, 19                  isomorphism of graphs, 104
if. . . , then. . . (logical connective), 19
                                              -permutation of  elements, 233, 234
     truth condition for, 19                  , 107
iff, See if and only if                       knights and knaves, 14, 58, 98
image, 411                                    Kruskal's algorithm, 123
                                              Königsberg, Seven Bridges of, 100, 141
     of a set, 411
     of a subset, 414                         lattice path, 195
     of an element, 6, 403, 413                    length of, 196
implication, 19, 31
implicit quantifier, 25                       lattice, integer, See integer lattice
implies (logical connective), 19              law of logic, 54
     truth condition for, 19                  leaf, 111, 120
inclusion/exclusion, See principle of         length of a bit string, 197, 198
                                              logical connectives, 18, 19
           inclusion/exclusion                logical equivalence, 48
inclusive or, 20                              logically valid, See law of logic
independence, 281
induced subgraph, 106, 111                    magic chocolate bunnies, 388
induction, 363, 365                           main connective, 46
                                              marriage problem, See matching
     base case, 365                           matching, 181
        for strong induction, 379
                                                   partial, 183
     contrasting regular and strong,          matching condition, 182
           381                                mathematical induction, See induction
                                              maximum degree, 156
     double, 383                              minimal criminal, 121
     incorrect use of, 369                    minimum spanning tree, 123
     inductive case, 365                      mod, 436
                                              modular arithmetic, 438
        for strong induction, 379             modus ponens, 55
inductive case, 365, 379                      molecular statement, 17
inductive hypothesis, 366, 367                monochromatic, 158
initial condition, 314                        Monty Hall problem, 283
                                              multigraph, 107, 110
     for a function, 408                      multiplicative principle, See product
injection, 296, 409, 410, 413
                                                        principle
     counting, 302
integer lattice, 195
integers, set of, 391, 392
interior angles, 374, 382
intersection, 219
intersection of sets, 392, 395
inverse, 35
multiset, 10                                                                       Index 525
     counting, 253
     relation to multigraph, 107            of  elements chosen from , See
                                                  -permutation of  elements
multisets (counting), 244
                                            of  elements, 232
natural numbers, set of, 392                vs. combination, 236, 302, 306
necessary condition, 39                Petersen graph, 139
negation, 19                           PIE, See principle of
neighbors of vertices, 114, 182
non-planar graph, 132                             inclusion/exclusion
                                       pigeonhole principle, 74
     3,3, 134                          planar graph, 111, 129
     5, 133
     Petersen graph, 139                    chromatic number of, 154
not (logical connective), 19                non-planar graph, 132
     truth condition for, 19
NP-complete, 145                               3,3, 134
number theory, 432                             5, 133
                                               Petersen graph, 139
octahedron, 136                        planar region, See face (planar graph)
one-to-one function, See injection     planar representation, 130
onto function, See surjection          Platonic solid, See regular polyhedron
operations on sets, 395                playing cards, 82, 205
or (logical connective), 19            polyhedron, 134
                                            regular, 134
     inclusive vs. exclusive, 20       polynomial fitting, 338, 344
     truth condition for, 19           power set, 392, 394
outcome (counting), 206                     cardinality of, 388
outcome (probability), 275             powers of 2, 318
                                       predicate, 22
parent (in a rooted tree), 123              binary, 28
partial matching, 183                  premise, 14
partial sums, See sequence of partial  premises, 14
                                       Prim's algorithm, 123
           sums                        prime numbers, 81, 380
partition, 436                         principle of inclusion/exclusion, 219,
Pascal's triangle, 194, 326, 352
                                                  290
     patterns in, 258                       for 2 sets, 223
     sum of row in, 375                     for 3 sets, 223
path, 110, 111                              for 4 or more sets, 293
     alternating, 184                  probability, 276
     augmenting, 184                   product notation, 325
     Euler, See Euler trail            product principle, 205, 209
     Hamilton, 141, 144                proof, 14
     type of graph, 109                     by contradiction, 71
perfect graph, 156, 161                     by contrapositive, 69
perfect matching, See matching              by induction, 363
permutation, 230, 232, 234                  by strong indcution, 377
                                            combinatorial, 256, 262
                                       proper vertex coloring, 111
526 Index                                     depth-first, 125
                                         self reference, See reference, self
propositional variable, 18, 19           sentence (compared to statement), 18
puzzle, 98                               sentential variable, See propositional

     birthday, 274                                 variable
     cardinality, 402                    sequence, 8, 313
     chocolate bar, 378
     domino trail, 148                        as function, 313
     knights and knaves, 14, 58               closed formula for, 314, 315
     seven bridges, 100                       inductive definition for, 314
     square division, 383                     notation for, 313
     Tower of Hanoi, 311                      recursive definition for, 314, 315
Pythagorean theorem, 30                  sequence of partial sums, 320, 375, 388
Pythagorean triple, 9, 443                    for Fibonacci sequence, 324
                                              for triangular numbers, 333
quantifier, 23                           sequence, finite, 8
     implicit, 25                        set, 5, 389
                                              cardinality, 392
racetrack principle, 369                      complement, 392
Ramsey theory, 158                            difference, 392, 396
random experiment, 275                        intersection, 392
range of a function, 403, 413                 notation for, 389
rational numbers, set of, 392                 of all subsets, See power set
real numbers, set of, 392                     of integers, 391, 392
recurrence relation, 314                      of natural numbers, 392
                                              of rational numbers, 392
     for a function, 408                      of real numbers, 392
     for number of bit strings, 198           operations, 395
     generating function, 428                 product, See Cartesian product
     solving, 353, 357, 359                   relationships between, 393
recursive definition, 314                     union, 392
     for a function, 7                        Venn diagram, 398
     for a sequence, 9                   set builder notation, 390
reference, self, See self reference      Seven Bridges of Königsberg, 100, 141
reflexive, 9                             sibling (in a rooted tree), 124
region (graph), See face (planar graph)  Sigma notation, 320, 321
regular polyhedron, 134                  simple graph, 107
relation, 9                              six color theorem, 161
remainder class, 435                     size of a set
residue class, See remainder class            see cardinality, 392
rook paths, 192                          solitary number, 43
root (in a tree), 123                    sound, 14
rooted tree, 118, 123                    spanning tree, 122
rule of four, 404                             minimum, 123
                                         stars and bars, See sticks and stones
sample space, 275                        statement, 16, 17
scope (of quantifier), 23
search

     breadth-first, 125
sticks and stones, 244                                                              Index 527
     vs. combination, 306
                                             for if. . . , then. . . , 19
string                                       for not, 19
     binary, See bit string                  for or, 19
     ternary, 270, 326                  truth table, 19, 46
                                        truth value, 18, 19
strong induction, 377                   tuple, See sequence, finite
structures, 5                           The Twelve Days of Christmas, 387
subgraph, 106, 111                      two-line notation, 405, 413
subset, 199, 393
                                        unary connective, 18
     counting, 199                      uniform probability distribution, 275
sudoku, 62, 65                          union, 219
sufficient condition, 39                union of sets, 392, 395
sum principle, 205, 207
                                             cardinality of, 219
     using sets, 219                    universal generalization, 25
sum principle (probability), 280        universal quantifier, 23
summation notation, 320, 321, 325       universe set, 395
surjection, 297, 409, 413
symmetric, 9                            valid, 14
                                        variable, propositional, 18
tautology, 48, 63                       Venn diagram, 398
term (of a sequence), 8
ternary string, 270, 326                     for counting, 219
tetrahedron, 136                             intersection, 398
tour, Euler, See Euler circuit               set difference, 398
Tower of Hanoi, 311                     vertex, 10, 100, 102, 110
trail, 111                              vertex coloring, 111, 151
                                        vertex cover, 185
     Euler, 141                         vertex degree, 108, 110
transitive, 9                                degree sequence, 108
transitive sets, 402                    Vizing's theorem, 158
tree, 111, 117
                                        walk, 111, 141
     number of edges and vertices, 121       Euler, See Euler trail
     rooted, 118, 123
     spanning, 122                      weight (bit string), 198
triangular numbers, 8, 318, 332         weight of a bit string, 197, 198
truth condition, 19                     word (counting), 208
     for and, 19
     for if and only if, 19             zombies, 373
             Colophon

This book was authored in PreTeXt.
